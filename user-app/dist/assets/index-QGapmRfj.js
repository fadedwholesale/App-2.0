var Tp=Object.defineProperty;var Op=(t,e,r)=>e in t?Tp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Dr=(t,e,r)=>Op(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ap(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var sd={exports:{}},Hi={},id={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),Rp=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Dp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),zp=Symbol.for("react.memo"),Bp=Symbol.for("react.lazy"),xu=Symbol.iterator;function Wp(t){return t===null||typeof t!="object"?null:(t=xu&&t[xu]||t["@@iterator"],typeof t=="function"?t:null)}var od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,ld={};function bn(t,e,r){this.props=t,this.context=e,this.refs=ld,this.updater=r||od}bn.prototype.isReactComponent={};bn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ud(){}ud.prototype=bn.prototype;function ul(t,e,r){this.props=t,this.context=e,this.refs=ld,this.updater=r||od}var cl=ul.prototype=new ud;cl.constructor=ul;ad(cl,bn.prototype);cl.isPureReactComponent=!0;var wu=Array.isArray,cd=Object.prototype.hasOwnProperty,dl={current:null},dd={key:!0,ref:!0,__self:!0,__source:!0};function hd(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)cd.call(e,n)&&!dd.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bs,type:t,key:i,ref:a,props:s,_owner:dl.current}}function Hp(t,e){return{$$typeof:bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hl(t){return typeof t=="object"&&t!==null&&t.$$typeof===bs}function Vp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bu=/\/+/g;function ko(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vp(""+t.key):e.toString(36)}function si(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bs:case Rp:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+ko(a,0):n,wu(s)?(r="",t!=null&&(r=t.replace(bu,"$&/")+"/"),si(s,e,r,"",function(c){return c})):s!=null&&(hl(s)&&(s=Hp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(bu,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",wu(t))for(var l=0;l<t.length;l++){i=t[l];var u=n+ko(i,l);a+=si(i,e,r,u,s)}else if(u=Wp(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=n+ko(i,l++),a+=si(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function As(t,e,r){if(t==null)return t;var n=[],s=0;return si(t,n,"","",function(i){return e.call(r,i,s++)}),n}function qp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},ii={transition:null},Kp={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:ii,ReactCurrentOwner:dl};function fd(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:As,forEach:function(t,e,r){As(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return As(t,function(){e++}),e},toArray:function(t){return As(t,function(e){return e})||[]},only:function(t){if(!hl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=bn;q.Fragment=Ip;q.Profiler=Lp;q.PureComponent=ul;q.StrictMode=$p;q.Suspense=Fp;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;q.act=fd;q.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ad({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=dl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)cd.call(e,u)&&!dd.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:bs,type:t.type,key:s,ref:i,props:n,_owner:a}};q.createContext=function(t){return t={$$typeof:Up,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dp,_context:t},t.Consumer=t};q.createElement=hd;q.createFactory=function(t){var e=hd.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:Mp,render:t}};q.isValidElement=hl;q.lazy=function(t){return{$$typeof:Bp,_payload:{_status:-1,_result:t},_init:qp}};q.memo=function(t,e){return{$$typeof:zp,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=ii.transition;ii.transition={};try{t()}finally{ii.transition=e}};q.unstable_act=fd;q.useCallback=function(t,e){return Le.current.useCallback(t,e)};q.useContext=function(t){return Le.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};q.useEffect=function(t,e){return Le.current.useEffect(t,e)};q.useId=function(){return Le.current.useId()};q.useImperativeHandle=function(t,e,r){return Le.current.useImperativeHandle(t,e,r)};q.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Le.current.useMemo(t,e)};q.useReducer=function(t,e,r){return Le.current.useReducer(t,e,r)};q.useRef=function(t){return Le.current.useRef(t)};q.useState=function(t){return Le.current.useState(t)};q.useSyncExternalStore=function(t,e,r){return Le.current.useSyncExternalStore(t,e,r)};q.useTransition=function(){return Le.current.useTransition()};q.version="18.3.1";id.exports=q;var E=id.exports;const Q=nd(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=E,Qp=Symbol.for("react.element"),Jp=Symbol.for("react.fragment"),Yp=Object.prototype.hasOwnProperty,Xp=Gp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zp={key:!0,ref:!0,__self:!0,__source:!0};function pd(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Yp.call(e,n)&&!Zp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Qp,type:t,key:i,ref:a,props:s,_owner:Xp.current}}Hi.Fragment=Jp;Hi.jsx=pd;Hi.jsxs=pd;sd.exports=Hi;var o=sd.exports,na={},md={exports:{}},Ye={},gd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,R){var D=P.length;P.push(R);e:for(;0<D;){var M=D-1>>>1,z=P[M];if(0<s(z,R))P[M]=R,P[D]=z,D=M;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var R=P[0],D=P.pop();if(D!==R){P[0]=D;e:for(var M=0,z=P.length,Y=z>>>1;M<Y;){var Ue=2*(M+1)-1,$r=P[Ue],St=Ue+1,Me=P[St];if(0>s($r,D))St<z&&0>s(Me,$r)?(P[M]=Me,P[St]=D,M=St):(P[M]=$r,P[Ue]=D,M=Ue);else if(St<z&&0>s(Me,D))P[M]=Me,P[St]=D,M=St;else break e}}return R}function s(P,R){var D=P.sortIndex-R.sortIndex;return D!==0?D:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,f=null,g=3,v=!1,w=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var R=r(c);R!==null;){if(R.callback===null)n(c);else if(R.startTime<=P)n(c),R.sortIndex=R.expirationTime,e(u,R);else break;R=r(c)}}function b(P){if(j=!1,y(P),!w)if(r(u)!==null)w=!0,zt(N);else{var R=r(c);R!==null&&B(b,R.startTime-P)}}function N(P,R){w=!1,j&&(j=!1,p(I),I=-1),v=!0;var D=g;try{for(y(R),f=r(u);f!==null&&(!(f.expirationTime>R)||P&&!xe());){var M=f.callback;if(typeof M=="function"){f.callback=null,g=f.priorityLevel;var z=M(f.expirationTime<=R);R=t.unstable_now(),typeof z=="function"?f.callback=z:f===r(u)&&n(u),y(R)}else n(u);f=r(u)}if(f!==null)var Y=!0;else{var Ue=r(c);Ue!==null&&B(b,Ue.startTime-R),Y=!1}return Y}finally{f=null,g=D,v=!1}}var k=!1,S=null,I=-1,X=5,U=-1;function xe(){return!(t.unstable_now()-U<X)}function $(){if(S!==null){var P=t.unstable_now();U=P;var R=!0;try{R=S(!0,P)}finally{R?kt():(k=!1,S=null)}}else k=!1}var kt;if(typeof m=="function")kt=function(){m($)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,we=A.port2;A.port1.onmessage=$,kt=function(){we.postMessage(null)}}else kt=function(){C($,0)};function zt(P){S=P,k||(k=!0,kt())}function B(P,R){I=C(function(){P(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,zt(N))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(P){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var D=g;g=R;try{return P()}finally{g=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=g;g=P;try{return R()}finally{g=D}},t.unstable_scheduleCallback=function(P,R,D){var M=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?M+D:M):D=M,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,P={id:h++,callback:R,priorityLevel:P,startTime:D,expirationTime:z,sortIndex:-1},D>M?(P.sortIndex=D,e(c,P),r(u)===null&&P===r(c)&&(j?(p(I),I=-1):j=!0,B(b,D-M))):(P.sortIndex=z,e(u,P),w||v||(w=!0,zt(N))),P},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(P){var R=g;return function(){var D=g;g=R;try{return P.apply(this,arguments)}finally{g=D}}}})(yd);gd.exports=yd;var em=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=E,Je=em;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vd=new Set,ns={};function Ar(t,e){hn(t,e),hn(t+"Capture",e)}function hn(t,e){for(ns[t]=e,t=0;t<e.length;t++)vd.add(e[t])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=Object.prototype.hasOwnProperty,rm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ju={},_u={};function nm(t){return sa.call(_u,t)?!0:sa.call(ju,t)?!1:rm.test(t)?_u[t]=!0:(ju[t]=!0,!1)}function sm(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function im(t,e,r,n){if(e===null||typeof e>"u"||sm(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function De(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new De(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new De(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new De(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new De(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new De(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new De(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new De(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new De(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new De(t,5,!1,t.toLowerCase(),null,!1,!1)});var fl=/[\-:]([a-z])/g;function pl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fl,pl);Ee[e]=new De(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fl,pl);Ee[e]=new De(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fl,pl);Ee[e]=new De(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new De(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new De(t,1,!1,t.toLowerCase(),null,!0,!0)});function ml(t,e,r,n){var s=Ee.hasOwnProperty(e)?Ee[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(im(e,r,s,n)&&(r=null),n||s===null?nm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ft=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Kr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),gl=Symbol.for("react.strict_mode"),ia=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),wd=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),oa=Symbol.for("react.suspense"),aa=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),bd=Symbol.for("react.offscreen"),ku=Symbol.iterator;function Pn(t){return t===null||typeof t!="object"?null:(t=ku&&t[ku]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,So;function Fn(t){if(So===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);So=e&&e[1]||""}return`
`+So+t}var No=!1;function Co(t,e){if(!t||No)return"";No=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{No=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Fn(t):""}function om(t){switch(t.tag){case 5:return Fn(t.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 2:case 15:return t=Co(t.type,!1),t;case 11:return t=Co(t.type.render,!1),t;case 1:return t=Co(t.type,!0),t;default:return""}}function la(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gr:return"Fragment";case Kr:return"Portal";case ia:return"Profiler";case gl:return"StrictMode";case oa:return"Suspense";case aa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wd:return(t.displayName||"Context")+".Consumer";case xd:return(t._context.displayName||"Context")+".Provider";case yl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vl:return e=t.displayName||null,e!==null?e:la(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return la(t(e))}catch{}}return null}function am(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return la(e);case 8:return e===gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lm(t){var e=jd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Is(t){t._valueTracker||(t._valueTracker=lm(t))}function _d(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=jd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ua(t,e){var r=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Su(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ar(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kd(t,e){e=e.checked,e!=null&&ml(t,"checked",e,!1)}function ca(t,e){kd(t,e);var r=ar(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?da(t,e.type,r):e.hasOwnProperty("defaultValue")&&da(t,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function da(t,e,r){(e!=="number"||yi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var zn=Array.isArray;function on(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ar(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ha(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(_(92));if(zn(r)){if(1<r.length)throw Error(_(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ar(r)}}function Sd(t,e){var r=ar(e.value),n=ar(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Eu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Nd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Nd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $s,Cd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$s.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ss(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},um=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(t){um.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vn[e]=Vn[t]})});function Ed(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vn.hasOwnProperty(t)&&Vn[t]?(""+e).trim():e+"px"}function Pd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ed(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var cm=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(t,e){if(e){if(cm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function ma(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ga=null;function xl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,an=null,ln=null;function Pu(t){if(t=ks(t)){if(typeof ya!="function")throw Error(_(280));var e=t.stateNode;e&&(e=Qi(e),ya(t.stateNode,t.type,e))}}function Td(t){an?ln?ln.push(t):ln=[t]:an=t}function Od(){if(an){var t=an,e=ln;if(ln=an=null,Pu(t),e)for(t=0;t<e.length;t++)Pu(e[t])}}function Ad(t,e){return t(e)}function Rd(){}var Eo=!1;function Id(t,e,r){if(Eo)return t(e,r);Eo=!0;try{return Ad(t,e,r)}finally{Eo=!1,(an!==null||ln!==null)&&(Rd(),Od())}}function is(t,e){var r=t.stateNode;if(r===null)return null;var n=Qi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(_(231,e,typeof r));return r}var va=!1;if(Lt)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){va=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{va=!1}function dm(t,e,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var qn=!1,vi=null,xi=!1,xa=null,hm={onError:function(t){qn=!0,vi=t}};function fm(t,e,r,n,s,i,a,l,u){qn=!1,vi=null,dm.apply(hm,arguments)}function pm(t,e,r,n,s,i,a,l,u){if(fm.apply(this,arguments),qn){if(qn){var c=vi;qn=!1,vi=null}else throw Error(_(198));xi||(xi=!0,xa=c)}}function Rr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function $d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tu(t){if(Rr(t)!==t)throw Error(_(188))}function mm(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(_(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Tu(s),t;if(i===n)return Tu(s),e;i=i.sibling}throw Error(_(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(_(189))}}if(r.alternate!==n)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?t:e}function Ld(t){return t=mm(t),t!==null?Dd(t):null}function Dd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dd(t);if(e!==null)return e;t=t.sibling}return null}var Ud=Je.unstable_scheduleCallback,Ou=Je.unstable_cancelCallback,gm=Je.unstable_shouldYield,ym=Je.unstable_requestPaint,de=Je.unstable_now,vm=Je.unstable_getCurrentPriorityLevel,wl=Je.unstable_ImmediatePriority,Md=Je.unstable_UserBlockingPriority,wi=Je.unstable_NormalPriority,xm=Je.unstable_LowPriority,Fd=Je.unstable_IdlePriority,Vi=null,jt=null;function wm(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Vi,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:_m,bm=Math.log,jm=Math.LN2;function _m(t){return t>>>=0,t===0?32:31-(bm(t)/jm|0)|0}var Ls=64,Ds=4194304;function Bn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Bn(l):(i&=a,i!==0&&(n=Bn(i)))}else a=r&~s,a!==0?n=Bn(a):i!==0&&(n=Bn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pt(e),s=1<<r,n|=t[r],e&=~s;return n}function km(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sm(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-pt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=km(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function wa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zd(){var t=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),t}function Po(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function js(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=r}function Nm(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-pt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function bl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var J=0;function Bd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wd,jl,Hd,Vd,qd,ba=!1,Us=[],Zt=null,er=null,tr=null,os=new Map,as=new Map,Gt=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(t,e){switch(t){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":os.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(e.pointerId)}}function On(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ks(e),e!==null&&jl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Em(t,e,r,n,s){switch(e){case"focusin":return Zt=On(Zt,t,e,r,n,s),!0;case"dragenter":return er=On(er,t,e,r,n,s),!0;case"mouseover":return tr=On(tr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return os.set(i,On(os.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,as.set(i,On(as.get(i)||null,t,e,r,n,s)),!0}return!1}function Kd(t){var e=jr(t.target);if(e!==null){var r=Rr(e);if(r!==null){if(e=r.tag,e===13){if(e=$d(r),e!==null){t.blockedOn=e,qd(t.priority,function(){Hd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ja(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ga=n,r.target.dispatchEvent(n),ga=null}else return e=ks(r),e!==null&&jl(e),t.blockedOn=r,!1;e.shift()}return!0}function Ru(t,e,r){oi(t)&&r.delete(e)}function Pm(){ba=!1,Zt!==null&&oi(Zt)&&(Zt=null),er!==null&&oi(er)&&(er=null),tr!==null&&oi(tr)&&(tr=null),os.forEach(Ru),as.forEach(Ru)}function An(t,e){t.blockedOn===e&&(t.blockedOn=null,ba||(ba=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Pm)))}function ls(t){function e(s){return An(s,t)}if(0<Us.length){An(Us[0],t);for(var r=1;r<Us.length;r++){var n=Us[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zt!==null&&An(Zt,t),er!==null&&An(er,t),tr!==null&&An(tr,t),os.forEach(e),as.forEach(e),r=0;r<Gt.length;r++)n=Gt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)Kd(r),r.blockedOn===null&&Gt.shift()}var un=Ft.ReactCurrentBatchConfig,ji=!0;function Tm(t,e,r,n){var s=J,i=un.transition;un.transition=null;try{J=1,_l(t,e,r,n)}finally{J=s,un.transition=i}}function Om(t,e,r,n){var s=J,i=un.transition;un.transition=null;try{J=4,_l(t,e,r,n)}finally{J=s,un.transition=i}}function _l(t,e,r,n){if(ji){var s=ja(t,e,r,n);if(s===null)Mo(t,e,n,_i,r),Au(t,n);else if(Em(s,t,e,r,n))n.stopPropagation();else if(Au(t,n),e&4&&-1<Cm.indexOf(t)){for(;s!==null;){var i=ks(s);if(i!==null&&Wd(i),i=ja(t,e,r,n),i===null&&Mo(t,e,n,_i,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Mo(t,e,n,null,r)}}var _i=null;function ja(t,e,r,n){if(_i=null,t=xl(n),t=jr(t),t!==null)if(e=Rr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=$d(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _i=t,null}function Gd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case wl:return 1;case Md:return 4;case wi:case xm:return 16;case Fd:return 536870912;default:return 16}default:return 16}}var Yt=null,kl=null,ai=null;function Qd(){if(ai)return ai;var t,e=kl,r=e.length,n,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return ai=s.slice(t,1<n?1-n:void 0)}function li(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function Iu(){return!1}function Xe(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ms:Iu,this.isPropagationStopped=Iu,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),e}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Xe(jn),_s=ae({},jn,{view:0,detail:0}),Am=Xe(_s),To,Oo,Rn,qi=ae({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rn&&(Rn&&t.type==="mousemove"?(To=t.screenX-Rn.screenX,Oo=t.screenY-Rn.screenY):Oo=To=0,Rn=t),To)},movementY:function(t){return"movementY"in t?t.movementY:Oo}}),$u=Xe(qi),Rm=ae({},qi,{dataTransfer:0}),Im=Xe(Rm),$m=ae({},_s,{relatedTarget:0}),Ao=Xe($m),Lm=ae({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=Xe(Lm),Um=ae({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mm=Xe(Um),Fm=ae({},jn,{data:0}),Lu=Xe(Fm),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wm[t])?!!e[t]:!1}function Nl(){return Hm}var Vm=ae({},_s,{key:function(t){if(t.key){var e=zm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(t){return t.type==="keypress"?li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qm=Xe(Vm),Km=ae({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=Xe(Km),Gm=ae({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),Qm=Xe(Gm),Jm=ae({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ym=Xe(Jm),Xm=ae({},qi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zm=Xe(Xm),eg=[9,13,27,32],Cl=Lt&&"CompositionEvent"in window,Kn=null;Lt&&"documentMode"in document&&(Kn=document.documentMode);var tg=Lt&&"TextEvent"in window&&!Kn,Jd=Lt&&(!Cl||Kn&&8<Kn&&11>=Kn),Uu=" ",Mu=!1;function Yd(t,e){switch(t){case"keyup":return eg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qr=!1;function rg(t,e){switch(t){case"compositionend":return Xd(e);case"keypress":return e.which!==32?null:(Mu=!0,Uu);case"textInput":return t=e.data,t===Uu&&Mu?null:t;default:return null}}function ng(t,e){if(Qr)return t==="compositionend"||!Cl&&Yd(t,e)?(t=Qd(),ai=kl=Yt=null,Qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jd&&e.locale!=="ko"?null:e.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sg[t.type]:e==="textarea"}function Zd(t,e,r,n){Td(n),e=ki(e,"onChange"),0<e.length&&(r=new Sl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Gn=null,us=null;function ig(t){ch(t,0)}function Ki(t){var e=Xr(t);if(_d(e))return t}function og(t,e){if(t==="change")return e}var eh=!1;if(Lt){var Ro;if(Lt){var Io="oninput"in document;if(!Io){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),Io=typeof zu.oninput=="function"}Ro=Io}else Ro=!1;eh=Ro&&(!document.documentMode||9<document.documentMode)}function Bu(){Gn&&(Gn.detachEvent("onpropertychange",th),us=Gn=null)}function th(t){if(t.propertyName==="value"&&Ki(us)){var e=[];Zd(e,us,t,xl(t)),Id(ig,e)}}function ag(t,e,r){t==="focusin"?(Bu(),Gn=e,us=r,Gn.attachEvent("onpropertychange",th)):t==="focusout"&&Bu()}function lg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ki(us)}function ug(t,e){if(t==="click")return Ki(e)}function cg(t,e){if(t==="input"||t==="change")return Ki(e)}function dg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:dg;function cs(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sa.call(e,s)||!gt(t[s],e[s]))return!1}return!0}function Wu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hu(t,e){var r=Wu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wu(r)}}function rh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nh(){for(var t=window,e=yi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=yi(t.document)}return e}function El(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hg(t){var e=nh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rh(r.ownerDocument.documentElement,r)){if(n!==null&&El(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Hu(r,i);var a=Hu(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fg=Lt&&"documentMode"in document&&11>=document.documentMode,Jr=null,_a=null,Qn=null,ka=!1;function Vu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ka||Jr==null||Jr!==yi(n)||(n=Jr,"selectionStart"in n&&El(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qn&&cs(Qn,n)||(Qn=n,n=ki(_a,"onSelect"),0<n.length&&(e=new Sl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Jr)))}function Fs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yr={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},$o={},sh={};Lt&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Gi(t){if($o[t])return $o[t];if(!Yr[t])return t;var e=Yr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sh)return $o[t]=e[r];return t}var ih=Gi("animationend"),oh=Gi("animationiteration"),ah=Gi("animationstart"),lh=Gi("transitionend"),uh=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){uh.set(t,e),Ar(e,[t])}for(var Lo=0;Lo<qu.length;Lo++){var Do=qu[Lo],pg=Do.toLowerCase(),mg=Do[0].toUpperCase()+Do.slice(1);ur(pg,"on"+mg)}ur(ih,"onAnimationEnd");ur(oh,"onAnimationIteration");ur(ah,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(lh,"onTransitionEnd");hn("onMouseEnter",["mouseout","mouseover"]);hn("onMouseLeave",["mouseout","mouseover"]);hn("onPointerEnter",["pointerout","pointerover"]);hn("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn));function Ku(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pm(n,e,void 0,t),t.currentTarget=null}function ch(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Ku(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Ku(s,l,c),i=u}}}if(xi)throw t=xa,xi=!1,xa=null,t}function te(t,e){var r=e[Pa];r===void 0&&(r=e[Pa]=new Set);var n=t+"__bubble";r.has(n)||(dh(e,t,2,!1),r.add(n))}function Uo(t,e,r){var n=0;e&&(n|=4),dh(r,t,n,e)}var zs="_reactListening"+Math.random().toString(36).slice(2);function ds(t){if(!t[zs]){t[zs]=!0,vd.forEach(function(r){r!=="selectionchange"&&(gg.has(r)||Uo(r,!1,t),Uo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zs]||(e[zs]=!0,Uo("selectionchange",!1,e))}}function dh(t,e,r,n){switch(Gd(e)){case 1:var s=Tm;break;case 4:s=Om;break;default:s=_l}r=s.bind(null,e,r,t),s=void 0,!va||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Mo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=jr(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Id(function(){var c=i,h=xl(r),f=[];e:{var g=uh.get(t);if(g!==void 0){var v=Sl,w=t;switch(t){case"keypress":if(li(r)===0)break e;case"keydown":case"keyup":v=qm;break;case"focusin":w="focus",v=Ao;break;case"focusout":w="blur",v=Ao;break;case"beforeblur":case"afterblur":v=Ao;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Qm;break;case ih:case oh:case ah:v=Dm;break;case lh:v=Ym;break;case"scroll":v=Am;break;case"wheel":v=Zm;break;case"copy":case"cut":case"paste":v=Mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Du}var j=(e&4)!==0,C=!j&&t==="scroll",p=j?g!==null?g+"Capture":null:g;j=[];for(var m=c,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=is(m,p),b!=null&&j.push(hs(m,b,y)))),C)break;m=m.return}0<j.length&&(g=new v(g,w,null,r,h),f.push({event:g,listeners:j}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&r!==ga&&(w=r.relatedTarget||r.fromElement)&&(jr(w)||w[Dt]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=c,w=w?jr(w):null,w!==null&&(C=Rr(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(j=$u,b="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(j=Du,b="onPointerLeave",p="onPointerEnter",m="pointer"),C=v==null?g:Xr(v),y=w==null?g:Xr(w),g=new j(b,m+"leave",v,r,h),g.target=C,g.relatedTarget=y,b=null,jr(h)===c&&(j=new j(p,m+"enter",w,r,h),j.target=y,j.relatedTarget=C,b=j),C=b,v&&w)t:{for(j=v,p=w,m=0,y=j;y;y=Ur(y))m++;for(y=0,b=p;b;b=Ur(b))y++;for(;0<m-y;)j=Ur(j),m--;for(;0<y-m;)p=Ur(p),y--;for(;m--;){if(j===p||p!==null&&j===p.alternate)break t;j=Ur(j),p=Ur(p)}j=null}else j=null;v!==null&&Gu(f,g,v,j,!1),w!==null&&C!==null&&Gu(f,C,w,j,!0)}}e:{if(g=c?Xr(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var N=og;else if(Fu(g))if(eh)N=cg;else{N=lg;var k=ag}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=ug);if(N&&(N=N(t,c))){Zd(f,N,r,h);break e}k&&k(t,g,c),t==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&da(g,"number",g.value)}switch(k=c?Xr(c):window,t){case"focusin":(Fu(k)||k.contentEditable==="true")&&(Jr=k,_a=c,Qn=null);break;case"focusout":Qn=_a=Jr=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,Vu(f,r,h);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":Vu(f,r,h)}var S;if(Cl)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Qr?Yd(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(Jd&&r.locale!=="ko"&&(Qr||I!=="onCompositionStart"?I==="onCompositionEnd"&&Qr&&(S=Qd()):(Yt=h,kl="value"in Yt?Yt.value:Yt.textContent,Qr=!0)),k=ki(c,I),0<k.length&&(I=new Lu(I,t,null,r,h),f.push({event:I,listeners:k}),S?I.data=S:(S=Xd(r),S!==null&&(I.data=S)))),(S=tg?rg(t,r):ng(t,r))&&(c=ki(c,"onBeforeInput"),0<c.length&&(h=new Lu("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=S))}ch(f,e)})}function hs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ki(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=is(t,r),i!=null&&n.unshift(hs(t,i,s)),i=is(t,e),i!=null&&n.push(hs(t,i,s))),t=t.return}return n}function Ur(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gu(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=is(r,i),u!=null&&a.unshift(hs(r,u,l))):s||(u=is(r,i),u!=null&&a.push(hs(r,u,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var yg=/\r\n?/g,vg=/\u0000|\uFFFD/g;function Qu(t){return(typeof t=="string"?t:""+t).replace(yg,`
`).replace(vg,"")}function Bs(t,e,r){if(e=Qu(e),Qu(t)!==e&&r)throw Error(_(425))}function Si(){}var Sa=null,Na=null;function Ca(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,xg=typeof clearTimeout=="function"?clearTimeout:void 0,Ju=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ju<"u"?function(t){return Ju.resolve(null).then(t).catch(bg)}:Ea;function bg(t){setTimeout(function(){throw t})}function Fo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ls(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ls(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _n=Math.random().toString(36).slice(2),bt="__reactFiber$"+_n,fs="__reactProps$"+_n,Dt="__reactContainer$"+_n,Pa="__reactEvents$"+_n,jg="__reactListeners$"+_n,_g="__reactHandles$"+_n;function jr(t){var e=t[bt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Dt]||r[bt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yu(t);t!==null;){if(r=t[bt])return r;t=Yu(t)}return e}t=r,r=t.parentNode}return null}function ks(t){return t=t[bt]||t[Dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function Qi(t){return t[fs]||null}var Ta=[],Zr=-1;function cr(t){return{current:t}}function re(t){0>Zr||(t.current=Ta[Zr],Ta[Zr]=null,Zr--)}function ee(t,e){Zr++,Ta[Zr]=t.current,t.current=e}var lr={},Ae=cr(lr),We=cr(!1),Cr=lr;function fn(t,e){var r=t.type.contextTypes;if(!r)return lr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function He(t){return t=t.childContextTypes,t!=null}function Ni(){re(We),re(Ae)}function Xu(t,e,r){if(Ae.current!==lr)throw Error(_(168));ee(Ae,e),ee(We,r)}function hh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(_(108,am(t)||"Unknown",s));return ae({},r,n)}function Ci(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Cr=Ae.current,ee(Ae,t),ee(We,We.current),!0}function Zu(t,e,r){var n=t.stateNode;if(!n)throw Error(_(169));r?(t=hh(t,e,Cr),n.__reactInternalMemoizedMergedChildContext=t,re(We),re(Ae),ee(Ae,t)):re(We),ee(We,r)}var Ot=null,Ji=!1,zo=!1;function fh(t){Ot===null?Ot=[t]:Ot.push(t)}function kg(t){Ji=!0,fh(t)}function dr(){if(!zo&&Ot!==null){zo=!0;var t=0,e=J;try{var r=Ot;for(J=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ot=null,Ji=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(t+1)),Ud(wl,dr),s}finally{J=e,zo=!1}}return null}var en=[],tn=0,Ei=null,Pi=0,Ze=[],et=0,Er=null,Rt=1,It="";function vr(t,e){en[tn++]=Pi,en[tn++]=Ei,Ei=t,Pi=e}function ph(t,e,r){Ze[et++]=Rt,Ze[et++]=It,Ze[et++]=Er,Er=t;var n=Rt;t=It;var s=32-pt(n)-1;n&=~(1<<s),r+=1;var i=32-pt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Rt=1<<32-pt(e)+s|r<<s|n,It=i+t}else Rt=1<<i|r<<s|n,It=t}function Pl(t){t.return!==null&&(vr(t,1),ph(t,1,0))}function Tl(t){for(;t===Ei;)Ei=en[--tn],en[tn]=null,Pi=en[--tn],en[tn]=null;for(;t===Er;)Er=Ze[--et],Ze[et]=null,It=Ze[--et],Ze[et]=null,Rt=Ze[--et],Ze[et]=null}var Qe=null,Ge=null,ne=!1,ft=null;function mh(t,e){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ec(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Ge=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Ge=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Er!==null?{id:Rt,overflow:It}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qe=t,Ge=null,!0):!1;default:return!1}}function Oa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Aa(t){if(ne){var e=Ge;if(e){var r=e;if(!ec(t,e)){if(Oa(t))throw Error(_(418));e=rr(r.nextSibling);var n=Qe;e&&ec(t,e)?mh(n,r):(t.flags=t.flags&-4097|2,ne=!1,Qe=t)}}else{if(Oa(t))throw Error(_(418));t.flags=t.flags&-4097|2,ne=!1,Qe=t}}}function tc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function Ws(t){if(t!==Qe)return!1;if(!ne)return tc(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ca(t.type,t.memoizedProps)),e&&(e=Ge)){if(Oa(t))throw gh(),Error(_(418));for(;e;)mh(t,e),e=rr(e.nextSibling)}if(tc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ge=rr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ge=null}}else Ge=Qe?rr(t.stateNode.nextSibling):null;return!0}function gh(){for(var t=Ge;t;)t=rr(t.nextSibling)}function pn(){Ge=Qe=null,ne=!1}function Ol(t){ft===null?ft=[t]:ft.push(t)}var Sg=Ft.ReactCurrentBatchConfig;function In(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var n=r.stateNode}if(!n)throw Error(_(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,t))}return t}function Hs(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rc(t){var e=t._init;return e(t._payload)}function yh(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=or(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,y,b){return m===null||m.tag!==6?(m=Go(y,p.mode,b),m.return=p,m):(m=s(m,y),m.return=p,m)}function u(p,m,y,b){var N=y.type;return N===Gr?h(p,m,y.props.children,b,y.key):m!==null&&(m.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qt&&rc(N)===m.type)?(b=s(m,y.props),b.ref=In(p,m,y),b.return=p,b):(b=mi(y.type,y.key,y.props,null,p.mode,b),b.ref=In(p,m,y),b.return=p,b)}function c(p,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Qo(y,p.mode,b),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function h(p,m,y,b,N){return m===null||m.tag!==7?(m=Nr(y,p.mode,b,N),m.return=p,m):(m=s(m,y),m.return=p,m)}function f(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Go(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rs:return y=mi(m.type,m.key,m.props,null,p.mode,y),y.ref=In(p,null,m),y.return=p,y;case Kr:return m=Qo(m,p.mode,y),m.return=p,m;case qt:var b=m._init;return f(p,b(m._payload),y)}if(zn(m)||Pn(m))return m=Nr(m,p.mode,y,null),m.return=p,m;Hs(p,m)}return null}function g(p,m,y,b){var N=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(p,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rs:return y.key===N?u(p,m,y,b):null;case Kr:return y.key===N?c(p,m,y,b):null;case qt:return N=y._init,g(p,m,N(y._payload),b)}if(zn(y)||Pn(y))return N!==null?null:h(p,m,y,b,null);Hs(p,y)}return null}function v(p,m,y,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,l(m,p,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rs:return p=p.get(b.key===null?y:b.key)||null,u(m,p,b,N);case Kr:return p=p.get(b.key===null?y:b.key)||null,c(m,p,b,N);case qt:var k=b._init;return v(p,m,y,k(b._payload),N)}if(zn(b)||Pn(b))return p=p.get(y)||null,h(m,p,b,N,null);Hs(m,b)}return null}function w(p,m,y,b){for(var N=null,k=null,S=m,I=m=0,X=null;S!==null&&I<y.length;I++){S.index>I?(X=S,S=null):X=S.sibling;var U=g(p,S,y[I],b);if(U===null){S===null&&(S=X);break}t&&S&&U.alternate===null&&e(p,S),m=i(U,m,I),k===null?N=U:k.sibling=U,k=U,S=X}if(I===y.length)return r(p,S),ne&&vr(p,I),N;if(S===null){for(;I<y.length;I++)S=f(p,y[I],b),S!==null&&(m=i(S,m,I),k===null?N=S:k.sibling=S,k=S);return ne&&vr(p,I),N}for(S=n(p,S);I<y.length;I++)X=v(S,p,I,y[I],b),X!==null&&(t&&X.alternate!==null&&S.delete(X.key===null?I:X.key),m=i(X,m,I),k===null?N=X:k.sibling=X,k=X);return t&&S.forEach(function(xe){return e(p,xe)}),ne&&vr(p,I),N}function j(p,m,y,b){var N=Pn(y);if(typeof N!="function")throw Error(_(150));if(y=N.call(y),y==null)throw Error(_(151));for(var k=N=null,S=m,I=m=0,X=null,U=y.next();S!==null&&!U.done;I++,U=y.next()){S.index>I?(X=S,S=null):X=S.sibling;var xe=g(p,S,U.value,b);if(xe===null){S===null&&(S=X);break}t&&S&&xe.alternate===null&&e(p,S),m=i(xe,m,I),k===null?N=xe:k.sibling=xe,k=xe,S=X}if(U.done)return r(p,S),ne&&vr(p,I),N;if(S===null){for(;!U.done;I++,U=y.next())U=f(p,U.value,b),U!==null&&(m=i(U,m,I),k===null?N=U:k.sibling=U,k=U);return ne&&vr(p,I),N}for(S=n(p,S);!U.done;I++,U=y.next())U=v(S,p,I,U.value,b),U!==null&&(t&&U.alternate!==null&&S.delete(U.key===null?I:U.key),m=i(U,m,I),k===null?N=U:k.sibling=U,k=U);return t&&S.forEach(function($){return e(p,$)}),ne&&vr(p,I),N}function C(p,m,y,b){if(typeof y=="object"&&y!==null&&y.type===Gr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Rs:e:{for(var N=y.key,k=m;k!==null;){if(k.key===N){if(N=y.type,N===Gr){if(k.tag===7){r(p,k.sibling),m=s(k,y.props.children),m.return=p,p=m;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qt&&rc(N)===k.type){r(p,k.sibling),m=s(k,y.props),m.ref=In(p,k,y),m.return=p,p=m;break e}r(p,k);break}else e(p,k);k=k.sibling}y.type===Gr?(m=Nr(y.props.children,p.mode,b,y.key),m.return=p,p=m):(b=mi(y.type,y.key,y.props,null,p.mode,b),b.ref=In(p,m,y),b.return=p,p=b)}return a(p);case Kr:e:{for(k=y.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else e(p,m);m=m.sibling}m=Qo(y,p.mode,b),m.return=p,p=m}return a(p);case qt:return k=y._init,C(p,m,k(y._payload),b)}if(zn(y))return w(p,m,y,b);if(Pn(y))return j(p,m,y,b);Hs(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,y),m.return=p,p=m):(r(p,m),m=Go(y,p.mode,b),m.return=p,p=m),a(p)):r(p,m)}return C}var mn=yh(!0),vh=yh(!1),Ti=cr(null),Oi=null,rn=null,Al=null;function Rl(){Al=rn=Oi=null}function Il(t){var e=Ti.current;re(Ti),t._currentValue=e}function Ra(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function cn(t,e){Oi=t,Al=rn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Be=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(Al!==t)if(t={context:t,memoizedValue:e,next:null},rn===null){if(Oi===null)throw Error(_(308));rn=t,Oi.dependencies={lanes:0,firstContext:t}}else rn=rn.next=t;return e}var _r=null;function $l(t){_r===null?_r=[t]:_r.push(t)}function xh(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,$l(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ut(t,n)}function Ut(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Kt=!1;function Ll(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ut(t,r)}return s=n.interleaved,s===null?(e.next=e,$l(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ut(t,r)}function ui(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bl(t,r)}}function nc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ai(t,e,r,n){var s=t.updateQueue;Kt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;a=0,h=c=u=null,l=i;do{var g=l.lane,v=l.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,j=l;switch(g=e,v=r,j.tag){case 1:if(w=j.payload,typeof w=="function"){f=w.call(v,f,g);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,g=typeof w=="function"?w.call(v,f,g):w,g==null)break e;f=ae({},f,g);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Tr|=a,t.lanes=a,t.memoizedState=f}}function sc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(_(191,s));s.call(n)}}}var Ss={},_t=cr(Ss),ps=cr(Ss),ms=cr(Ss);function kr(t){if(t===Ss)throw Error(_(174));return t}function Dl(t,e){switch(ee(ms,e),ee(ps,t),ee(_t,Ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fa(e,t)}re(_t),ee(_t,e)}function gn(){re(_t),re(ps),re(ms)}function bh(t){kr(ms.current);var e=kr(_t.current),r=fa(e,t.type);e!==r&&(ee(ps,t),ee(_t,r))}function Ul(t){ps.current===t&&(re(_t),re(ps))}var ie=cr(0);function Ri(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bo=[];function Ml(){for(var t=0;t<Bo.length;t++)Bo[t]._workInProgressVersionPrimary=null;Bo.length=0}var ci=Ft.ReactCurrentDispatcher,Wo=Ft.ReactCurrentBatchConfig,Pr=0,oe=null,ye=null,je=null,Ii=!1,Jn=!1,gs=0,Ng=0;function Pe(){throw Error(_(321))}function Fl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gt(t[r],e[r]))return!1;return!0}function zl(t,e,r,n,s,i){if(Pr=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ci.current=t===null||t.memoizedState===null?Tg:Og,t=r(n,s),Jn){i=0;do{if(Jn=!1,gs=0,25<=i)throw Error(_(301));i+=1,je=ye=null,e.updateQueue=null,ci.current=Ag,t=r(n,s)}while(Jn)}if(ci.current=$i,e=ye!==null&&ye.next!==null,Pr=0,je=ye=oe=null,Ii=!1,e)throw Error(_(300));return t}function Bl(){var t=gs!==0;return gs=0,t}function xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?oe.memoizedState=je=t:je=je.next=t,je}function it(){if(ye===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=je===null?oe.memoizedState:je.next;if(e!==null)je=e,ye=t;else{if(t===null)throw Error(_(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},je===null?oe.memoizedState=je=t:je=je.next=t}return je}function ys(t,e){return typeof e=="function"?e(t):e}function Ho(t){var e=it(),r=e.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=t;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var h=c.lane;if((Pr&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=n):u=u.next=f,oe.lanes|=h,Tr|=h}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,gt(n,e.memoizedState)||(Be=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,oe.lanes|=i,Tr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vo(t){var e=it(),r=e.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);gt(i,e.memoizedState)||(Be=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function jh(){}function _h(t,e){var r=oe,n=it(),s=e(),i=!gt(n.memoizedState,s);if(i&&(n.memoizedState=s,Be=!0),n=n.queue,Wl(Nh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||je!==null&&je.memoizedState.tag&1){if(r.flags|=2048,vs(9,Sh.bind(null,r,n,s,e),void 0,null),_e===null)throw Error(_(349));Pr&30||kh(r,e,s)}return s}function kh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Sh(t,e,r,n){e.value=r,e.getSnapshot=n,Ch(e)&&Eh(t)}function Nh(t,e,r){return r(function(){Ch(e)&&Eh(t)})}function Ch(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gt(t,r)}catch{return!0}}function Eh(t){var e=Ut(t,1);e!==null&&mt(e,t,1,-1)}function ic(t){var e=xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:t},e.queue=t,t=t.dispatch=Pg.bind(null,oe,t),[e.memoizedState,t]}function vs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ph(){return it().memoizedState}function di(t,e,r,n){var s=xt();oe.flags|=t,s.memoizedState=vs(1|e,r,void 0,n===void 0?null:n)}function Yi(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(ye!==null){var a=ye.memoizedState;if(i=a.destroy,n!==null&&Fl(n,a.deps)){s.memoizedState=vs(e,r,i,n);return}}oe.flags|=t,s.memoizedState=vs(1|e,r,i,n)}function oc(t,e){return di(8390656,8,t,e)}function Wl(t,e){return Yi(2048,8,t,e)}function Th(t,e){return Yi(4,2,t,e)}function Oh(t,e){return Yi(4,4,t,e)}function Ah(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rh(t,e,r){return r=r!=null?r.concat([t]):null,Yi(4,4,Ah.bind(null,e,t),r)}function Hl(){}function Ih(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function $h(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Lh(t,e,r){return Pr&21?(gt(r,e)||(r=zd(),oe.lanes|=r,Tr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Be=!0),t.memoizedState=r)}function Cg(t,e){var r=J;J=r!==0&&4>r?r:4,t(!0);var n=Wo.transition;Wo.transition={};try{t(!1),e()}finally{J=r,Wo.transition=n}}function Dh(){return it().memoizedState}function Eg(t,e,r){var n=ir(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uh(t))Mh(e,r);else if(r=xh(t,e,r,n),r!==null){var s=$e();mt(r,t,n,s),Fh(r,e,n)}}function Pg(t,e,r){var n=ir(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uh(t))Mh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,gt(l,a)){var u=e.interleaved;u===null?(s.next=s,$l(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=xh(t,e,s,n),r!==null&&(s=$e(),mt(r,t,n,s),Fh(r,e,n))}}function Uh(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function Mh(t,e){Jn=Ii=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Fh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bl(t,r)}}var $i={readContext:st,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Tg={readContext:st,useCallback:function(t,e){return xt().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:oc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,di(4194308,4,Ah.bind(null,e,t),r)},useLayoutEffect:function(t,e){return di(4194308,4,t,e)},useInsertionEffect:function(t,e){return di(4,2,t,e)},useMemo:function(t,e){var r=xt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Eg.bind(null,oe,t),[n.memoizedState,t]},useRef:function(t){var e=xt();return t={current:t},e.memoizedState=t},useState:ic,useDebugValue:Hl,useDeferredValue:function(t){return xt().memoizedState=t},useTransition:function(){var t=ic(!1),e=t[0];return t=Cg.bind(null,t[1]),xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=oe,s=xt();if(ne){if(r===void 0)throw Error(_(407));r=r()}else{if(r=e(),_e===null)throw Error(_(349));Pr&30||kh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,oc(Nh.bind(null,n,i,t),[t]),n.flags|=2048,vs(9,Sh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=xt(),e=_e.identifierPrefix;if(ne){var r=It,n=Rt;r=(n&~(1<<32-pt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ng++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Og={readContext:st,useCallback:Ih,useContext:st,useEffect:Wl,useImperativeHandle:Rh,useInsertionEffect:Th,useLayoutEffect:Oh,useMemo:$h,useReducer:Ho,useRef:Ph,useState:function(){return Ho(ys)},useDebugValue:Hl,useDeferredValue:function(t){var e=it();return Lh(e,ye.memoizedState,t)},useTransition:function(){var t=Ho(ys)[0],e=it().memoizedState;return[t,e]},useMutableSource:jh,useSyncExternalStore:_h,useId:Dh,unstable_isNewReconciler:!1},Ag={readContext:st,useCallback:Ih,useContext:st,useEffect:Wl,useImperativeHandle:Rh,useInsertionEffect:Th,useLayoutEffect:Oh,useMemo:$h,useReducer:Vo,useRef:Ph,useState:function(){return Vo(ys)},useDebugValue:Hl,useDeferredValue:function(t){var e=it();return ye===null?e.memoizedState=t:Lh(e,ye.memoizedState,t)},useTransition:function(){var t=Vo(ys)[0],e=it().memoizedState;return[t,e]},useMutableSource:jh,useSyncExternalStore:_h,useId:Dh,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ia(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ae({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xi={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$e(),s=ir(t),i=$t(n,s);i.payload=e,r!=null&&(i.callback=r),e=nr(t,i,s),e!==null&&(mt(e,t,s,n),ui(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$e(),s=ir(t),i=$t(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=nr(t,i,s),e!==null&&(mt(e,t,s,n),ui(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$e(),n=ir(t),s=$t(r,n);s.tag=2,e!=null&&(s.callback=e),e=nr(t,s,n),e!==null&&(mt(e,t,n,r),ui(e,t,n))}};function ac(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!cs(r,n)||!cs(s,i):!0}function zh(t,e,r){var n=!1,s=lr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=He(e)?Cr:Ae.current,n=e.contextTypes,i=(n=n!=null)?fn(t,s):lr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xi.enqueueReplaceState(e,e.state,null)}function $a(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Ll(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=He(e)?Cr:Ae.current,s.context=fn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ia(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xi.enqueueReplaceState(s,s.state,null),Ai(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yn(t,e){try{var r="",n=e;do r+=om(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function La(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Rg=typeof WeakMap=="function"?WeakMap:Map;function Bh(t,e,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Di||(Di=!0,qa=n),La(t,e)},r}function Wh(t,e,r){r=$t(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){La(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){La(t,e),typeof n!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function uc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Rg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Kg.bind(null,t,e,r),e.then(t,t))}function cc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=$t(-1,1),e.tag=2,nr(r,e,1))),r.lanes|=1),t)}var Ig=Ft.ReactCurrentOwner,Be=!1;function Ie(t,e,r,n){e.child=t===null?vh(e,null,r,n):mn(e,t.child,r,n)}function hc(t,e,r,n,s){r=r.render;var i=e.ref;return cn(e,s),n=zl(t,e,r,n,i,s),r=Bl(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mt(t,e,s)):(ne&&r&&Pl(e),e.flags|=1,Ie(t,e,n,s),e.child)}function fc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Xl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Hh(t,e,i,n,s)):(t=mi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(a,n)&&t.ref===e.ref)return Mt(t,e,s)}return e.flags|=1,t=or(i,n),t.ref=e.ref,t.return=e,e.child=t}function Hh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(cs(i,n)&&t.ref===e.ref)if(Be=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Be=!0);else return e.lanes=t.lanes,Mt(t,e,s)}return Da(t,e,r,n,s)}function Vh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(sn,Ke),Ke|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ee(sn,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ee(sn,Ke),Ke|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ee(sn,Ke),Ke|=n;return Ie(t,e,s,r),e.child}function qh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Da(t,e,r,n,s){var i=He(r)?Cr:Ae.current;return i=fn(e,i),cn(e,s),r=zl(t,e,r,n,i,s),n=Bl(),t!==null&&!Be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mt(t,e,s)):(ne&&n&&Pl(e),e.flags|=1,Ie(t,e,r,s),e.child)}function pc(t,e,r,n,s){if(He(r)){var i=!0;Ci(e)}else i=!1;if(cn(e,s),e.stateNode===null)hi(t,e),zh(e,r,n),$a(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=st(c):(c=He(r)?Cr:Ae.current,c=fn(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&lc(e,a,n,c),Kt=!1;var g=e.memoizedState;a.state=g,Ai(e,n,a,s),u=e.memoizedState,l!==n||g!==u||We.current||Kt?(typeof h=="function"&&(Ia(e,r,h,n),u=e.memoizedState),(l=Kt||ac(e,r,l,n,g,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,wh(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:ct(e.type,l),a.props=c,f=e.pendingProps,g=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=st(u):(u=He(r)?Cr:Ae.current,u=fn(e,u));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||g!==u)&&lc(e,a,n,u),Kt=!1,g=e.memoizedState,a.state=g,Ai(e,n,a,s);var w=e.memoizedState;l!==f||g!==w||We.current||Kt?(typeof v=="function"&&(Ia(e,r,v,n),w=e.memoizedState),(c=Kt||ac(e,r,c,n,g,w,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Ua(t,e,r,n,i,s)}function Ua(t,e,r,n,s,i){qh(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Zu(e,r,!1),Mt(t,e,i);n=e.stateNode,Ig.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=mn(e,t.child,null,i),e.child=mn(e,null,l,i)):Ie(t,e,l,i),e.memoizedState=n.state,s&&Zu(e,r,!0),e.child}function Kh(t){var e=t.stateNode;e.pendingContext?Xu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xu(t,e.context,!1),Dl(t,e.containerInfo)}function mc(t,e,r,n,s){return pn(),Ol(s),e.flags|=256,Ie(t,e,r,n),e.child}var Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gh(t,e,r){var n=e.pendingProps,s=ie.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ee(ie,s&1),t===null)return Aa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=to(a,n,0,null),t=Nr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fa(r),e.memoizedState=Ma,t):Vl(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $g(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=or(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=or(l,i):(i=Nr(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Fa(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Ma,n}return i=t.child,t=i.sibling,n=or(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Vl(t,e){return e=to({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vs(t,e,r,n){return n!==null&&Ol(n),mn(e,t.child,null,r),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $g(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=qo(Error(_(422))),Vs(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=to({mode:"visible",children:n.children},s,0,null),i=Nr(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&mn(e,t.child,null,a),e.child.memoizedState=Fa(a),e.memoizedState=Ma,i);if(!(e.mode&1))return Vs(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_(419)),n=qo(i,n,void 0),Vs(t,e,a,n)}if(l=(a&t.childLanes)!==0,Be||l){if(n=_e,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ut(t,s),mt(n,t,s,-1))}return Yl(),n=qo(Error(_(421))),Vs(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Gg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ge=rr(s.nextSibling),Qe=e,ne=!0,ft=null,t!==null&&(Ze[et++]=Rt,Ze[et++]=It,Ze[et++]=Er,Rt=t.id,It=t.overflow,Er=e),e=Vl(e,n.children),e.flags|=4096,e)}function gc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ra(t.return,e,r)}function Ko(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ie(t,e,n.children,r),n=ie.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gc(t,r,e);else if(t.tag===19)gc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ee(ie,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ri(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ko(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ri(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ko(e,!0,r,null,i);break;case"together":Ko(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Tr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,r=or(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=or(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Lg(t,e,r){switch(e.tag){case 3:Kh(e),pn();break;case 5:bh(e);break;case 1:He(e.type)&&Ci(e);break;case 4:Dl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ee(Ti,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ee(ie,ie.current&1),e.flags|=128,null):r&e.child.childLanes?Gh(t,e,r):(ee(ie,ie.current&1),t=Mt(t,e,r),t!==null?t.sibling:null);ee(ie,ie.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Qh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ie,ie.current),n)break;return null;case 22:case 23:return e.lanes=0,Vh(t,e,r)}return Mt(t,e,r)}var Jh,za,Yh,Xh;Jh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};za=function(){};Yh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,kr(_t.current);var i=null;switch(r){case"input":s=ua(t,s),n=ua(t,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=ha(t,s),n=ha(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Si)}pa(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ns.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ns.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&te("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Xh=function(t,e,r,n){r!==n&&(e.flags|=4)};function $n(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Dg(t,e,r){var n=e.pendingProps;switch(Tl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return He(e.type)&&Ni(),Te(e),null;case 3:return n=e.stateNode,gn(),re(We),re(Ae),Ml(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(Qa(ft),ft=null))),za(t,e),Te(e),null;case 5:Ul(e);var s=kr(ms.current);if(r=e.type,t!==null&&e.stateNode!=null)Yh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(_(166));return Te(e),null}if(t=kr(_t.current),Ws(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[bt]=e,n[fs]=i,t=(e.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(s=0;s<Wn.length;s++)te(Wn[s],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Su(n,i),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},te("invalid",n);break;case"textarea":Cu(n,i),te("invalid",n)}pa(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bs(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bs(n.textContent,l,t),s=["children",""+l]):ns.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&te("scroll",n)}switch(r){case"input":Is(n),Nu(n,i,!0);break;case"textarea":Is(n),Eu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Si)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[bt]=e,t[fs]=n,Jh(t,e,!1,!1),e.stateNode=t;e:{switch(a=ma(r,n),r){case"dialog":te("cancel",t),te("close",t),s=n;break;case"iframe":case"object":case"embed":te("load",t),s=n;break;case"video":case"audio":for(s=0;s<Wn.length;s++)te(Wn[s],t);s=n;break;case"source":te("error",t),s=n;break;case"img":case"image":case"link":te("error",t),te("load",t),s=n;break;case"details":te("toggle",t),s=n;break;case"input":Su(t,n),s=ua(t,n),te("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),te("invalid",t);break;case"textarea":Cu(t,n),s=ha(t,n),te("invalid",t);break;default:s=n}pa(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Pd(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cd(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ss(t,u):typeof u=="number"&&ss(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?u!=null&&i==="onScroll"&&te("scroll",t):u!=null&&ml(t,i,u,a))}switch(r){case"input":Is(t),Nu(t,n,!1);break;case"textarea":Is(t),Eu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ar(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?on(t,!!n.multiple,i,!1):n.defaultValue!=null&&on(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Si)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)Xh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(_(166));if(r=kr(ms.current),kr(_t.current),Ws(e)){if(n=e.stateNode,r=e.memoizedProps,n[bt]=e,(i=n.nodeValue!==r)&&(t=Qe,t!==null))switch(t.tag){case 3:Bs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bt]=e,e.stateNode=n}return Te(e),null;case 13:if(re(ie),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Ge!==null&&e.mode&1&&!(e.flags&128))gh(),pn(),e.flags|=98560,i=!1;else if(i=Ws(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(_(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_(317));i[bt]=e}else pn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else ft!==null&&(Qa(ft),ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ie.current&1?ve===0&&(ve=3):Yl())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return gn(),za(t,e),t===null&&ds(e.stateNode.containerInfo),Te(e),null;case 10:return Il(e.type._context),Te(e),null;case 17:return He(e.type)&&Ni(),Te(e),null;case 19:if(re(ie),i=e.memoizedState,i===null)return Te(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)$n(i,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ri(t),a!==null){for(e.flags|=128,$n(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ee(ie,ie.current&1|2),e.child}t=t.sibling}i.tail!==null&&de()>vn&&(e.flags|=128,n=!0,$n(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ri(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$n(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return Te(e),null}else 2*de()-i.renderingStartTime>vn&&r!==1073741824&&(e.flags|=128,n=!0,$n(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=de(),e.sibling=null,r=ie.current,ee(ie,n?r&1|2:r&1),e):(Te(e),null);case 22:case 23:return Jl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ke&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function Ug(t,e){switch(Tl(e),e.tag){case 1:return He(e.type)&&Ni(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gn(),re(We),re(Ae),Ml(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ul(e),null;case 13:if(re(ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));pn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(ie),null;case 4:return gn(),null;case 10:return Il(e.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var qs=!1,Oe=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,O=null;function nn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(t,e,n)}else r.current=null}function Ba(t,e,r){try{r()}catch(n){ue(t,e,n)}}var yc=!1;function Fg(t,e){if(Sa=ji,t=nh(),El(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,h=0,f=t,g=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===r&&++c===s&&(l=a),g===i&&++h===n&&(u=a),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Na={focusedElem:t,selectionRange:r},ji=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,C=w.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?j:ct(e.type,j),C);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(b){ue(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return w=yc,yc=!1,w}function Yn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ba(e,r,i)}s=s.next}while(s!==n)}}function Zi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Wa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Zh(t){var e=t.alternate;e!==null&&(t.alternate=null,Zh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bt],delete e[fs],delete e[Pa],delete e[jg],delete e[_g])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ef(t){return t.tag===5||t.tag===3||t.tag===4}function vc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ef(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ha(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Si));else if(n!==4&&(t=t.child,t!==null))for(Ha(t,e,r),t=t.sibling;t!==null;)Ha(t,e,r),t=t.sibling}function Va(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Va(t,e,r),t=t.sibling;t!==null;)Va(t,e,r),t=t.sibling}var Se=null,dt=!1;function Wt(t,e,r){for(r=r.child;r!==null;)tf(t,e,r),r=r.sibling}function tf(t,e,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:Oe||nn(r,e);case 6:var n=Se,s=dt;Se=null,Wt(t,e,r),Se=n,dt=s,Se!==null&&(dt?(t=Se,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(dt?(t=Se,r=r.stateNode,t.nodeType===8?Fo(t.parentNode,r):t.nodeType===1&&Fo(t,r),ls(t)):Fo(Se,r.stateNode));break;case 4:n=Se,s=dt,Se=r.stateNode.containerInfo,dt=!0,Wt(t,e,r),Se=n,dt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ba(r,e,a),s=s.next}while(s!==n)}Wt(t,e,r);break;case 1:if(!Oe&&(nn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ue(r,e,l)}Wt(t,e,r);break;case 21:Wt(t,e,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,Wt(t,e,r),Oe=n):Wt(t,e,r);break;default:Wt(t,e,r)}}function xc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Mg),e.forEach(function(n){var s=Qg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,dt=!1;break e;case 3:Se=l.stateNode.containerInfo,dt=!0;break e;case 4:Se=l.stateNode.containerInfo,dt=!0;break e}l=l.return}if(Se===null)throw Error(_(160));tf(i,a,s),Se=null,dt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rf(e,t),e=e.sibling}function rf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lt(e,t),vt(t),n&4){try{Yn(3,t,t.return),Zi(3,t)}catch(j){ue(t,t.return,j)}try{Yn(5,t,t.return)}catch(j){ue(t,t.return,j)}}break;case 1:lt(e,t),vt(t),n&512&&r!==null&&nn(r,r.return);break;case 5:if(lt(e,t),vt(t),n&512&&r!==null&&nn(r,r.return),t.flags&32){var s=t.stateNode;try{ss(s,"")}catch(j){ue(t,t.return,j)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kd(s,i),ma(l,a);var c=ma(l,i);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];h==="style"?Pd(s,f):h==="dangerouslySetInnerHTML"?Cd(s,f):h==="children"?ss(s,f):ml(s,h,f,c)}switch(l){case"input":ca(s,i);break;case"textarea":Sd(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?on(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?on(s,!!i.multiple,i.defaultValue,!0):on(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(j){ue(t,t.return,j)}}break;case 6:if(lt(e,t),vt(t),n&4){if(t.stateNode===null)throw Error(_(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){ue(t,t.return,j)}}break;case 3:if(lt(e,t),vt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(j){ue(t,t.return,j)}break;case 4:lt(e,t),vt(t);break;case 13:lt(e,t),vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gl=de())),n&4&&xc(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Oe=(c=Oe)||h,lt(e,t),Oe=c):lt(e,t),vt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(O=t,h=t.child;h!==null;){for(f=O=h;O!==null;){switch(g=O,v=g.child,g.tag){case 0:case 11:case 14:case 15:Yn(4,g,g.return);break;case 1:nn(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(j){ue(n,r,j)}}break;case 5:nn(g,g.return);break;case 22:if(g.memoizedState!==null){bc(f);continue}}v!==null?(v.return=g,O=v):bc(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ed("display",a))}catch(j){ue(t,t.return,j)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(j){ue(t,t.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lt(e,t),vt(t),n&4&&xc(t);break;case 21:break;default:lt(e,t),vt(t)}}function vt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ef(r)){var n=r;break e}r=r.return}throw Error(_(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ss(s,""),n.flags&=-33);var i=vc(t);Va(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=vc(t);Ha(t,l,a);break;default:throw Error(_(161))}}catch(u){ue(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zg(t,e,r){O=t,nf(t)}function nf(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||qs;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Oe;l=qs;var c=Oe;if(qs=a,(Oe=u)&&!c)for(O=s;O!==null;)a=O,u=a.child,a.tag===22&&a.memoizedState!==null?jc(s):u!==null?(u.return=a,O=u):jc(s);for(;i!==null;)O=i,nf(i),i=i.sibling;O=s,qs=l,Oe=c}wc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):wc(t)}}function wc(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Zi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ct(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sc(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sc(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Oe||e.flags&512&&Wa(e)}catch(g){ue(e,e.return,g)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function bc(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function jc(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Zi(4,e)}catch(u){ue(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){ue(e,s,u)}}var i=e.return;try{Wa(e)}catch(u){ue(e,i,u)}break;case 5:var a=e.return;try{Wa(e)}catch(u){ue(e,a,u)}}}catch(u){ue(e,e.return,u)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Bg=Math.ceil,Li=Ft.ReactCurrentDispatcher,ql=Ft.ReactCurrentOwner,rt=Ft.ReactCurrentBatchConfig,K=0,_e=null,pe=null,Ce=0,Ke=0,sn=cr(0),ve=0,xs=null,Tr=0,eo=0,Kl=0,Xn=null,Fe=null,Gl=0,vn=1/0,Pt=null,Di=!1,qa=null,sr=null,Ks=!1,Xt=null,Ui=0,Zn=0,Ka=null,fi=-1,pi=0;function $e(){return K&6?de():fi!==-1?fi:fi=de()}function ir(t){return t.mode&1?K&2&&Ce!==0?Ce&-Ce:Sg.transition!==null?(pi===0&&(pi=zd()),pi):(t=J,t!==0||(t=window.event,t=t===void 0?16:Gd(t.type)),t):1}function mt(t,e,r,n){if(50<Zn)throw Zn=0,Ka=null,Error(_(185));js(t,r,n),(!(K&2)||t!==_e)&&(t===_e&&(!(K&2)&&(eo|=r),ve===4&&Qt(t,Ce)),Ve(t,n),r===1&&K===0&&!(e.mode&1)&&(vn=de()+500,Ji&&dr()))}function Ve(t,e){var r=t.callbackNode;Sm(t,e);var n=bi(t,t===_e?Ce:0);if(n===0)r!==null&&Ou(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ou(r),e===1)t.tag===0?kg(_c.bind(null,t)):fh(_c.bind(null,t)),wg(function(){!(K&6)&&dr()}),r=null;else{switch(Bd(n)){case 1:r=wl;break;case 4:r=Md;break;case 16:r=wi;break;case 536870912:r=Fd;break;default:r=wi}r=hf(r,sf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sf(t,e){if(fi=-1,pi=0,K&6)throw Error(_(327));var r=t.callbackNode;if(dn()&&t.callbackNode!==r)return null;var n=bi(t,t===_e?Ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mi(t,n);else{e=n;var s=K;K|=2;var i=af();(_e!==t||Ce!==e)&&(Pt=null,vn=de()+500,Sr(t,e));do try{Vg();break}catch(l){of(t,l)}while(!0);Rl(),Li.current=i,K=s,pe!==null?e=0:(_e=null,Ce=0,e=ve)}if(e!==0){if(e===2&&(s=wa(t),s!==0&&(n=s,e=Ga(t,s))),e===1)throw r=xs,Sr(t,0),Qt(t,n),Ve(t,de()),r;if(e===6)Qt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Wg(s)&&(e=Mi(t,n),e===2&&(i=wa(t),i!==0&&(n=i,e=Ga(t,i))),e===1))throw r=xs,Sr(t,0),Qt(t,n),Ve(t,de()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(_(345));case 2:xr(t,Fe,Pt);break;case 3:if(Qt(t,n),(n&130023424)===n&&(e=Gl+500-de(),10<e)){if(bi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){$e(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ea(xr.bind(null,t,Fe,Pt),e);break}xr(t,Fe,Pt);break;case 4:if(Qt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-pt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bg(n/1960))-n,10<n){t.timeoutHandle=Ea(xr.bind(null,t,Fe,Pt),n);break}xr(t,Fe,Pt);break;case 5:xr(t,Fe,Pt);break;default:throw Error(_(329))}}}return Ve(t,de()),t.callbackNode===r?sf.bind(null,t):null}function Ga(t,e){var r=Xn;return t.current.memoizedState.isDehydrated&&(Sr(t,e).flags|=256),t=Mi(t,e),t!==2&&(e=Fe,Fe=r,e!==null&&Qa(e)),t}function Qa(t){Fe===null?Fe=t:Fe.push.apply(Fe,t)}function Wg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qt(t,e){for(e&=~Kl,e&=~eo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pt(e),n=1<<r;t[r]=-1,e&=~n}}function _c(t){if(K&6)throw Error(_(327));dn();var e=bi(t,0);if(!(e&1))return Ve(t,de()),null;var r=Mi(t,e);if(t.tag!==0&&r===2){var n=wa(t);n!==0&&(e=n,r=Ga(t,n))}if(r===1)throw r=xs,Sr(t,0),Qt(t,e),Ve(t,de()),r;if(r===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xr(t,Fe,Pt),Ve(t,de()),null}function Ql(t,e){var r=K;K|=1;try{return t(e)}finally{K=r,K===0&&(vn=de()+500,Ji&&dr())}}function Or(t){Xt!==null&&Xt.tag===0&&!(K&6)&&dn();var e=K;K|=1;var r=rt.transition,n=J;try{if(rt.transition=null,J=1,t)return t()}finally{J=n,rt.transition=r,K=e,!(K&6)&&dr()}}function Jl(){Ke=sn.current,re(sn)}function Sr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xg(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(Tl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ni();break;case 3:gn(),re(We),re(Ae),Ml();break;case 5:Ul(n);break;case 4:gn();break;case 13:re(ie);break;case 19:re(ie);break;case 10:Il(n.type._context);break;case 22:case 23:Jl()}r=r.return}if(_e=t,pe=t=or(t.current,null),Ce=Ke=e,ve=0,xs=null,Kl=eo=Tr=0,Fe=Xn=null,_r!==null){for(e=0;e<_r.length;e++)if(r=_r[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}_r=null}return t}function of(t,e){do{var r=pe;try{if(Rl(),ci.current=$i,Ii){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ii=!1}if(Pr=0,je=ye=oe=null,Jn=!1,gs=0,ql.current=null,r===null||r.return===null){ve=1,xs=e,pe=null;break}e:{var i=t,a=r.return,l=r,u=e;if(e=Ce,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=cc(a);if(v!==null){v.flags&=-257,dc(v,a,l,i,e),v.mode&1&&uc(i,c,e),e=v,u=c;var w=e.updateQueue;if(w===null){var j=new Set;j.add(u),e.updateQueue=j}else w.add(u);break e}else{if(!(e&1)){uc(i,c,e),Yl();break e}u=Error(_(426))}}else if(ne&&l.mode&1){var C=cc(a);if(C!==null){!(C.flags&65536)&&(C.flags|=256),dc(C,a,l,i,e),Ol(yn(u,l));break e}}i=u=yn(u,l),ve!==4&&(ve=2),Xn===null?Xn=[i]:Xn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Bh(i,u,e);nc(i,p);break e;case 1:l=u;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(sr===null||!sr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=Wh(i,l,e);nc(i,b);break e}}i=i.return}while(i!==null)}uf(r)}catch(N){e=N,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function af(){var t=Li.current;return Li.current=$i,t===null?$i:t}function Yl(){(ve===0||ve===3||ve===2)&&(ve=4),_e===null||!(Tr&268435455)&&!(eo&268435455)||Qt(_e,Ce)}function Mi(t,e){var r=K;K|=2;var n=af();(_e!==t||Ce!==e)&&(Pt=null,Sr(t,e));do try{Hg();break}catch(s){of(t,s)}while(!0);if(Rl(),K=r,Li.current=n,pe!==null)throw Error(_(261));return _e=null,Ce=0,ve}function Hg(){for(;pe!==null;)lf(pe)}function Vg(){for(;pe!==null&&!gm();)lf(pe)}function lf(t){var e=df(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?uf(t):pe=e,ql.current=null}function uf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ug(r,e),r!==null){r.flags&=32767,pe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,pe=null;return}}else if(r=Dg(r,e,Ke),r!==null){pe=r;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);ve===0&&(ve=5)}function xr(t,e,r){var n=J,s=rt.transition;try{rt.transition=null,J=1,qg(t,e,r,n)}finally{rt.transition=s,J=n}return null}function qg(t,e,r,n){do dn();while(Xt!==null);if(K&6)throw Error(_(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Nm(t,i),t===_e&&(pe=_e=null,Ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ks||(Ks=!0,hf(wi,function(){return dn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var a=J;J=1;var l=K;K|=4,ql.current=null,Fg(t,r),rf(r,t),hg(Na),ji=!!Sa,Na=Sa=null,t.current=r,zg(r),ym(),K=l,J=a,rt.transition=i}else t.current=r;if(Ks&&(Ks=!1,Xt=t,Ui=s),i=t.pendingLanes,i===0&&(sr=null),wm(r.stateNode),Ve(t,de()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Di)throw Di=!1,t=qa,qa=null,t;return Ui&1&&t.tag!==0&&dn(),i=t.pendingLanes,i&1?t===Ka?Zn++:(Zn=0,Ka=t):Zn=0,dr(),null}function dn(){if(Xt!==null){var t=Bd(Ui),e=rt.transition,r=J;try{if(rt.transition=null,J=16>t?16:t,Xt===null)var n=!1;else{if(t=Xt,Xt=null,Ui=0,K&6)throw Error(_(331));var s=K;for(K|=4,O=t.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(O=c;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:Yn(8,h,i)}var f=h.child;if(f!==null)f.return=h,O=f;else for(;O!==null;){h=O;var g=h.sibling,v=h.return;if(Zh(h),h===c){O=null;break}if(g!==null){g.return=v,O=g;break}O=v}}}var w=i.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var C=j.sibling;j.sibling=null,j=C}while(j!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yn(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){a=O;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,O=y;else e:for(a=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zi(9,l)}}catch(N){ue(l,l.return,N)}if(l===a){O=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,O=b;break e}O=l.return}}if(K=s,dr(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Vi,t)}catch{}n=!0}return n}finally{J=r,rt.transition=e}}return!1}function kc(t,e,r){e=yn(r,e),e=Bh(t,e,1),t=nr(t,e,1),e=$e(),t!==null&&(js(t,1,e),Ve(t,e))}function ue(t,e,r){if(t.tag===3)kc(t,t,r);else for(;e!==null;){if(e.tag===3){kc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sr===null||!sr.has(n))){t=yn(r,t),t=Wh(e,t,1),e=nr(e,t,1),t=$e(),e!==null&&(js(e,1,t),Ve(e,t));break}}e=e.return}}function Kg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&r,_e===t&&(Ce&r)===r&&(ve===4||ve===3&&(Ce&130023424)===Ce&&500>de()-Gl?Sr(t,0):Kl|=r),Ve(t,e)}function cf(t,e){e===0&&(t.mode&1?(e=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):e=1);var r=$e();t=Ut(t,e),t!==null&&(js(t,e,r),Ve(t,r))}function Gg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),cf(t,r)}function Qg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(_(314))}n!==null&&n.delete(e),cf(t,r)}var df;df=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)Be=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Be=!1,Lg(t,e,r);Be=!!(t.flags&131072)}else Be=!1,ne&&e.flags&1048576&&ph(e,Pi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hi(t,e),t=e.pendingProps;var s=fn(e,Ae.current);cn(e,r),s=zl(null,e,n,t,s,r);var i=Bl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,He(n)?(i=!0,Ci(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ll(e),s.updater=Xi,e.stateNode=s,s._reactInternals=e,$a(e,n,t,r),e=Ua(null,e,n,!0,i,r)):(e.tag=0,ne&&i&&Pl(e),Ie(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Yg(n),t=ct(n,t),s){case 0:e=Da(null,e,n,t,r);break e;case 1:e=pc(null,e,n,t,r);break e;case 11:e=hc(null,e,n,t,r);break e;case 14:e=fc(null,e,n,ct(n.type,t),r);break e}throw Error(_(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),Da(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),pc(t,e,n,s,r);case 3:e:{if(Kh(e),t===null)throw Error(_(387));n=e.pendingProps,i=e.memoizedState,s=i.element,wh(t,e),Ai(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yn(Error(_(423)),e),e=mc(t,e,n,r,s);break e}else if(n!==s){s=yn(Error(_(424)),e),e=mc(t,e,n,r,s);break e}else for(Ge=rr(e.stateNode.containerInfo.firstChild),Qe=e,ne=!0,ft=null,r=vh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pn(),n===s){e=Mt(t,e,r);break e}Ie(t,e,n,r)}e=e.child}return e;case 5:return bh(e),t===null&&Aa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ca(n,s)?a=null:i!==null&&Ca(n,i)&&(e.flags|=32),qh(t,e),Ie(t,e,a,r),e.child;case 6:return t===null&&Aa(e),null;case 13:return Gh(t,e,r);case 4:return Dl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=mn(e,null,n,r):Ie(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),hc(t,e,n,s,r);case 7:return Ie(t,e,e.pendingProps,r),e.child;case 8:return Ie(t,e,e.pendingProps.children,r),e.child;case 12:return Ie(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ee(Ti,n._currentValue),n._currentValue=a,i!==null)if(gt(i.value,a)){if(i.children===s.children&&!We.current){e=Mt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=$t(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Ra(i.return,r,e),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(_(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ra(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ie(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,cn(e,r),s=st(s),n=n(s),e.flags|=1,Ie(t,e,n,r),e.child;case 14:return n=e.type,s=ct(n,e.pendingProps),s=ct(n.type,s),fc(t,e,n,s,r);case 15:return Hh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),hi(t,e),e.tag=1,He(n)?(t=!0,Ci(e)):t=!1,cn(e,r),zh(e,n,s),$a(e,n,s,r),Ua(null,e,n,!0,t,r);case 19:return Qh(t,e,r);case 22:return Vh(t,e,r)}throw Error(_(156,e.tag))};function hf(t,e){return Ud(t,e)}function Jg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(t,e,r,n){return new Jg(t,e,r,n)}function Xl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yg(t){if(typeof t=="function")return Xl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yl)return 11;if(t===vl)return 14}return 2}function or(t,e){var r=t.alternate;return r===null?(r=tt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function mi(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Xl(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gr:return Nr(r.children,s,i,e);case gl:a=8,s|=8;break;case ia:return t=tt(12,r,e,s|2),t.elementType=ia,t.lanes=i,t;case oa:return t=tt(13,r,e,s),t.elementType=oa,t.lanes=i,t;case aa:return t=tt(19,r,e,s),t.elementType=aa,t.lanes=i,t;case bd:return to(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xd:a=10;break e;case wd:a=9;break e;case yl:a=11;break e;case vl:a=14;break e;case qt:a=16,n=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=tt(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Nr(t,e,r,n){return t=tt(7,t,n,e),t.lanes=r,t}function to(t,e,r,n){return t=tt(22,t,n,e),t.elementType=bd,t.lanes=r,t.stateNode={isHidden:!1},t}function Go(t,e,r){return t=tt(6,t,null,e),t.lanes=r,t}function Qo(t,e,r){return e=tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zl(t,e,r,n,s,i,a,l,u){return t=new Xg(t,e,r,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ll(i),t}function Zg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ff(t){if(!t)return lr;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(He(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var r=t.type;if(He(r))return hh(t,r,e)}return e}function pf(t,e,r,n,s,i,a,l,u){return t=Zl(r,n,!0,t,s,i,a,l,u),t.context=ff(null),r=t.current,n=$e(),s=ir(r),i=$t(n,s),i.callback=e??null,nr(r,i,s),t.current.lanes=s,js(t,s,n),Ve(t,n),t}function ro(t,e,r,n){var s=e.current,i=$e(),a=ir(s);return r=ff(r),e.context===null?e.context=r:e.pendingContext=r,e=$t(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=nr(s,e,a),t!==null&&(mt(t,s,a,i),ui(t,s,a)),a}function Fi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function eu(t,e){Sc(t,e),(t=t.alternate)&&Sc(t,e)}function e0(){return null}var mf=typeof reportError=="function"?reportError:function(t){console.error(t)};function tu(t){this._internalRoot=t}no.prototype.render=tu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));ro(t,e,null,null)};no.prototype.unmount=tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Or(function(){ro(null,t,null,null)}),e[Dt]=null}};function no(t){this._internalRoot=t}no.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gt.length&&e!==0&&e<Gt[r].priority;r++);Gt.splice(r,0,t),r===0&&Kd(t)}};function ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function so(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function t0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Fi(a);i.call(c)}}var a=pf(e,n,t,0,null,!1,!1,"",Nc);return t._reactRootContainer=a,t[Dt]=a.current,ds(t.nodeType===8?t.parentNode:t),Or(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Fi(u);l.call(c)}}var u=Zl(t,0,!1,null,null,!1,!1,"",Nc);return t._reactRootContainer=u,t[Dt]=u.current,ds(t.nodeType===8?t.parentNode:t),Or(function(){ro(e,u,r,n)}),u}function io(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=Fi(a);l.call(u)}}ro(e,a,t,s)}else a=t0(r,e,t,s,n);return Fi(a)}Wd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Bn(e.pendingLanes);r!==0&&(bl(e,r|1),Ve(e,de()),!(K&6)&&(vn=de()+500,dr()))}break;case 13:Or(function(){var n=Ut(t,1);if(n!==null){var s=$e();mt(n,t,1,s)}}),eu(t,1)}};jl=function(t){if(t.tag===13){var e=Ut(t,134217728);if(e!==null){var r=$e();mt(e,t,134217728,r)}eu(t,134217728)}};Hd=function(t){if(t.tag===13){var e=ir(t),r=Ut(t,e);if(r!==null){var n=$e();mt(r,t,e,n)}eu(t,e)}};Vd=function(){return J};qd=function(t,e){var r=J;try{return J=t,e()}finally{J=r}};ya=function(t,e,r){switch(e){case"input":if(ca(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Qi(n);if(!s)throw Error(_(90));_d(n),ca(n,s)}}}break;case"textarea":Sd(t,r);break;case"select":e=r.value,e!=null&&on(t,!!r.multiple,e,!1)}};Ad=Ql;Rd=Or;var r0={usingClientEntryPoint:!1,Events:[ks,Xr,Qi,Td,Od,Ql]},Ln={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n0={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ld(t),t===null?null:t.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||e0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{Vi=Gs.inject(n0),jt=Gs}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0;Ye.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(e))throw Error(_(200));return Zg(t,e,null,r)};Ye.createRoot=function(t,e){if(!ru(t))throw Error(_(299));var r=!1,n="",s=mf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zl(t,1,!1,null,null,r,!1,n,s),t[Dt]=e.current,ds(t.nodeType===8?t.parentNode:t),new tu(e)};Ye.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=Ld(e),t=t===null?null:t.stateNode,t};Ye.flushSync=function(t){return Or(t)};Ye.hydrate=function(t,e,r){if(!so(e))throw Error(_(200));return io(null,t,e,!0,r)};Ye.hydrateRoot=function(t,e,r){if(!ru(t))throw Error(_(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=pf(e,null,t,1,r??null,s,!1,i,a),t[Dt]=e.current,ds(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new no(e)};Ye.render=function(t,e,r){if(!so(e))throw Error(_(200));return io(null,t,e,!1,r)};Ye.unmountComponentAtNode=function(t){if(!so(t))throw Error(_(40));return t._reactRootContainer?(Or(function(){io(null,null,t,!1,function(){t._reactRootContainer=null,t[Dt]=null})}),!0):!1};Ye.unstable_batchedUpdates=Ql;Ye.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!so(r))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return io(t,e,r,!1,n)};Ye.version="18.3.1-next-f1338f8080-20240426";function gf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gf)}catch(t){console.error(t)}}gf(),md.exports=Ye;var s0=md.exports,Cc=s0;na.createRoot=Cc.createRoot,na.hydrateRoot=Cc.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},h)=>E.createElement("svg",{ref:h,...i0,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${o0(t)}`,l].join(" "),...c},[...e.map(([f,g])=>E.createElement(f,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ce("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ce("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),v0="modulepreload",x0=function(t){return"/"+t},Ac={},Ns=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=x0(u),u in Ac)return;Ac[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":v0,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},w0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class nu extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class b0 extends nu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rc extends nu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ic extends nu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ja;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ja||(Ja={}));var j0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};class _0{constructor(e,{headers:r={},customFetch:n,region:s=Ja.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=w0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return j0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(j=>{throw new b0(j)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new Rc(f);if(!f.ok)throw new Ic(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield f.json():v==="application/octet-stream"?w=yield f.blob():v==="text/event-stream"?w=f:v==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Ic||s instanceof Rc?s.context:void 0}}})}}var ze={},su={},oo={},Cs={},ao={},lo={},k0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xn=k0();const S0=xn.fetch,yf=xn.fetch.bind(xn),vf=xn.Headers,N0=xn.Request,C0=xn.Response,kn=Object.freeze(Object.defineProperty({__proto__:null,Headers:vf,Request:N0,Response:C0,default:yf,fetch:S0},Symbol.toStringTag,{value:"Module"})),E0=Ap(kn);var uo={};Object.defineProperty(uo,"__esModule",{value:!0});let P0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};uo.default=P0;var xf=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lo,"__esModule",{value:!0});const T0=xf(E0),O0=xf(uo);let A0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=T0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,u;let c=null,h=null,f=null,g=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=p:h=JSON.parse(p))}const j=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),C=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&C&&C.length>1&&(f=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{c=JSON.parse(j),Array.isArray(c)&&i.status===404&&(h=[],c=null,g=200,v="OK")}catch{i.status===404&&j===""?(g=204,v="No Content"):c={message:j}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,g=200,v="OK"),c&&this.shouldThrowOnError)throw new O0.default(c)}return{error:c,data:h,count:f,status:g,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};lo.default=A0;var R0=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ao,"__esModule",{value:!0});const I0=R0(lo);let $0=class extends I0.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ao.default=$0;var L0=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});const D0=L0(ao);let U0=class extends D0.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Cs.default=U0;var M0=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oo,"__esModule",{value:!0});const Dn=M0(Cs);let F0=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Dn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Dn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Dn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};oo.default=F0;var co={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.version=void 0;ho.version="0.0.0-automated";Object.defineProperty(co,"__esModule",{value:!0});co.DEFAULT_HEADERS=void 0;const z0=ho;co.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${z0.version}`};var wf=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(su,"__esModule",{value:!0});const B0=wf(oo),W0=wf(Cs),H0=co;let V0=class bf{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},H0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new B0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new W0.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};su.default=V0;var Sn=nt&&nt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const jf=Sn(su);ze.PostgrestClient=jf.default;const _f=Sn(oo);ze.PostgrestQueryBuilder=_f.default;const kf=Sn(Cs);ze.PostgrestFilterBuilder=kf.default;const Sf=Sn(ao);ze.PostgrestTransformBuilder=Sf.default;const Nf=Sn(lo);ze.PostgrestBuilder=Nf.default;const Cf=Sn(uo);ze.PostgrestError=Cf.default;var q0=ze.default={PostgrestClient:jf.default,PostgrestQueryBuilder:_f.default,PostgrestFilterBuilder:kf.default,PostgrestTransformBuilder:Sf.default,PostgrestBuilder:Nf.default,PostgrestError:Cf.default};const{PostgrestClient:K0,PostgrestQueryBuilder:Ox,PostgrestFilterBuilder:Ax,PostgrestTransformBuilder:Rx,PostgrestBuilder:Ix,PostgrestError:$x}=q0;class G0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Q0="2.15.1",J0=`realtime-js/${Q0}`,Y0="1.0.0",Ya=1e4,X0=1e3,Z0=100;var es;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(es||(es={}));var me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(me||(me={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var Xa;(function(t){t.websocket="websocket"})(Xa||(Xa={}));var br;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(br||(br={}));class ey{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Ef{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Z||(Z={}));const $c=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=ty(a,t,e,s),i),{})},ty=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Pf(i,a):Za(a)},Pf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return iy(e,r)}switch(t){case Z.bool:return ry(e);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return ny(e);case Z.json:case Z.jsonb:return sy(e);case Z.timestamp:return oy(e);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Za(e);default:return Za(e)}},Za=t=>t,ry=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ny=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},iy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Pf(e,l))}return t},oy=t=>typeof t=="string"?t.replace(" ","T"):t,Tf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Jo{constructor(e,r,n={},s=Ya){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lc||(Lc={}));class ts{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=ts.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ts.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},u={};return this.map(i,(c,h)=>{a[c]||(u[c]=h)}),this.map(a,(c,h)=>{const f=i[c];if(f){const g=h.map(C=>C.presence_ref),v=f.map(C=>C.presence_ref),w=h.filter(C=>v.indexOf(C.presence_ref)<0),j=f.filter(C=>g.indexOf(C.presence_ref)<0);w.length>0&&(l[c]=w),j.length>0&&(u[c]=j)}else l[c]=h}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const h=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),h.length>0){const f=e[l].map(v=>v.presence_ref),g=h.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...g)}n(l,h,u)}),this.map(a,(l,u)=>{let c=e[l];if(!c)return;const h=u.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Dc||(Dc={}));var rs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rs||(rs={}));var Tt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class iu{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jo(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Ef(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ts(this),this.broadcastEndpointURL=Tf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[rs.PRESENCE]&&this.bindings[rs.PRESENCE].length>0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Tt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Tt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e(Tt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,C=[];for(let p=0;p<j;p++){const m=w[p],{filter:{event:y,schema:b,table:N,filter:k}}=m,S=g&&g[p];if(S&&S.event===y&&S.schema===b&&S.table===N&&S.filter===k)C.push(Object.assign(Object.assign({},m),{id:S.id}));else{this.unsubscribe(),this.state=me.errored,e==null||e(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Tt.SUBSCRIBED);return}}).receive("error",g=>{this.state=me.errored,e==null||e(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===me.joined&&e===rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Jo(this,ht.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Z0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:h}=ht;if(n&&[l,u,c,h].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,j,C;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(j=v.filter)===null||j===void 0?void 0:j.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===a}).map(v=>v.callback(g,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var w,j,C,p,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const b=v.id,N=(w=v.filter)===null||w===void 0?void 0:w.event;return b&&((j=r.ids)===null||j===void 0?void 0:j.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const b=(m=(p=v==null?void 0:v.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:j,table:C,commit_timestamp:p,type:m,errors:y}=w;g=Object.assign(Object.assign({},{schema:j,table:C,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&iu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=$c(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=$c(e.columns,e.old_record)),r}}const Uc=()=>{},Xs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ay=[1e3,2e3,5e3,1e4],ly=1e4,uy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cy{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ya,this.transport=null,this.heartbeatIntervalMs=Xs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uc,this.ref=0,this.reconnectTimer=null,this.logger=Uc,this.conn=null,this.sendBuffer=[],this.serializer=new ey,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Ns(async()=>{const{default:l}=await Promise.resolve().then(()=>kn);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Xa.websocket}`,this.httpEndpoint=Tf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=G0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Y0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case es.connecting:return br.Connecting;case es.open:return br.Open;case es.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new iu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(X0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Xs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([uy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:J0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ef(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,u,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ya,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Xs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>ay[h-1]||ly,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ou extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ge(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dy extends ou{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class el extends ou{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var hy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const Of=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},fy=()=>hy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ns(()=>Promise.resolve().then(()=>kn),void 0)).Response:Response}),tl=t=>{if(Array.isArray(t))return t.map(r=>tl(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=tl(n)}),e},py=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ir=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const Yo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),my=(t,e,r)=>Ir(void 0,void 0,void 0,function*(){const n=yield fy();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new dy(Yo(s),i,a))}).catch(s=>{e(new el(Yo(s),s))}):e(new el(Yo(t),t))}),gy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(py(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Es(t,e,r,n,s,i){return Ir(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,gy(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>my(u,l,n))})})}function Bi(t,e,r,n){return Ir(this,void 0,void 0,function*(){return Es(t,"GET",e,r,n)})}function wt(t,e,r,n,s){return Ir(this,void 0,void 0,function*(){return Es(t,"POST",e,n,s,r)})}function rl(t,e,r,n,s){return Ir(this,void 0,void 0,function*(){return Es(t,"PUT",e,n,s,r)})}function yy(t,e,r,n){return Ir(this,void 0,void 0,function*(){return Es(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Af(t,e,r,n,s){return Ir(this,void 0,void 0,function*(){return Es(t,"DELETE",e,n,s,r)})}var Re=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const vy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xy{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Of(s)}uploadOrUpdate(e,r,n,s){return Re(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Mc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),f=yield(e=="PUT"?rl:wt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Mc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield rl(this.fetch,l.toString(),u,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(ge(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new ou("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}update(e,r,n){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Re(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Re(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Re(this,void 0,void 0,function*(){try{const s=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}download(e,r){return Re(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Bi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}info(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tl(n),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}exists(e){return Re(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield yy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ge(n)&&n instanceof el){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}list(e,r,n){return Re(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vy),r),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}listV2(e,r){return Re(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield wt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const wy="2.11.0",by={"X-Client-Info":`storage-js/${wy}`};var Fr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};class jy{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},by),r),this.fetch=Of(n)}listBuckets(){return Fr(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ge(e))return{data:null,error:e};throw e}})}getBucket(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Fr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Fr(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Fr(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}}class _y extends jy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new xy(this.url,this.headers,e,this.fetch)}}const ky="2.55.0";let Hn="";typeof Deno<"u"?Hn="deno":typeof document<"u"?Hn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hn="react-native":Hn="node";const Sy={"X-Client-Info":`supabase-js-${Hn}/${ky}`},Ny={headers:Sy},Cy={schema:"public"},Ey={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Py={};var Ty=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};const Oy=t=>{let e;return t?e=t:typeof fetch>"u"?e=yf:e=fetch,(...r)=>e(...r)},Ay=()=>typeof Headers>"u"?vf:Headers,Ry=(t,e,r)=>{const n=Oy(r),s=Ay();return(i,a)=>Ty(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Iy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};function $y(t){return t.endsWith("/")?t:t+"/"}function Ly(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:u,auth:c,realtime:h,global:f}=e,g={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Iy(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const Rf="2.71.1",Vr=30*1e3,nl=3,Xo=nl*Vr,Dy="http://localhost:9999",Uy="supabase.auth.token",My={"X-Client-Info":`gotrue-js/${Rf}`},sl="X-Supabase-Api-Version",If={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zy=10*60*1e3;class au extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class By extends au{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Wy(t){return F(t)&&t.name==="AuthApiError"}class $f extends au{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class hr extends au{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Vt extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hy(t){return F(t)&&t.name==="AuthSessionMissingError"}class Zs extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ei extends hr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ti extends hr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vy(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fc extends hr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class il extends hr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Zo(t){return F(t)&&t.name==="AuthRetryableFetchError"}class zc extends hr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ol extends hr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bc=` 	
\r=`.split(""),qy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bc.length;e+=1)t[Bc[e].charCodeAt(0)]=-2;for(let e=0;e<Wi.length;e+=1)t[Wi[e].charCodeAt(0)]=e;return t})();function Wc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wi[n]),e.queuedBits-=6}}function Lf(t,e,r){const n=qy[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hc(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Qy(a,n,r)};for(let a=0;a<t.length;a+=1)Lf(t.charCodeAt(a),s,i);return e.join("")}function Ky(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ky(n,e)}}function Qy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Jy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Yy(t){const e=[];return Gy(t,r=>e.push(r)),new Uint8Array(e)}function Xy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Wc(s,r,n)),Wc(null,r,n),e.join("")}function Zy(t){return Math.round(Date.now()/1e3)+t}function ev(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},Df=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function tv(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Uf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>kn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},yr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ht=async(t,e)=>{await t.removeItem(e)};class fo{constructor(){this.promise=new fo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}fo.promiseConstructor=Promise;function ea(t){const e=t.split(".");if(e.length!==3)throw new ol("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Fy.test(e[n]))throw new ol("JWT not in base64url format");return{header:JSON.parse(Hc(e[0])),payload:JSON.parse(Hc(e[1])),signature:Jy(e[2]),raw:{header:e[0],payload:e[1]}}}async function nv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sv(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function iv(t){return("0"+t.toString(16)).substr(-2)}function ov(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,iv).join("")}async function av(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function lv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await av(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zr(t,e,r=!1){const n=ov();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qr(t,`${e}-code-verifier`,s);const i=await lv(n);return[i,n===i?"plain":"s256"]}const uv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cv(t){const e=t.headers.get(sl);if(!e||!e.match(uv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Br(t){if(!fv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ta(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vc(t){return JSON.parse(JSON.stringify(t))}var pv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const wr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mv=[502,503,504];async function qc(t){var e;if(!rv(t))throw new il(wr(t),0);if(mv.includes(t.status))throw new il(wr(t),t.status);let r;try{r=await t.json()}catch(i){throw new $f(wr(i),i)}let n;const s=cv(t);if(s&&s.getTime()>=If["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zc(wr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new zc(wr(r),t.status,r.weak_password.reasons);throw new By(wr(r),t.status||500,n)}const gv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function V(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sl]||(i[sl]=If["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await yv(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function yv(t,e,r,n,s,i){const a=gv(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(u){throw console.error(u),new il(wr(u),0)}if(l.ok||await qc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await qc(u)}}function Et(t){var e;let r=null;bv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Zy(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Kc(t){const e=Et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Jt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vv(t){return{data:t,error:null}}function xv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=pv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function wv(t){return t}function bv(t){return t.access_token&&t.refresh_token&&t.expires_in}const ra=["global","local","others"];var jv=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class _v{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Uf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ra[0]){if(ra.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ra.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=jv(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Jt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},h=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wv});if(h.error)throw h.error;const f=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(u=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(w=>{const j=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);c[`${C}Page`]=j}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Br(e);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Jt})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Br(e);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Jt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Br(e);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jt})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Br(e.userId);try{const{data:r,error:n}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Br(e.userId),Br(e.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}}function Gc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function kv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wr={debug:!!(globalThis&&Df()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sv extends Mf{}async function Nv(t,e,r){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}kv();const Cv={url:Dy,storageKey:Uy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:My,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qc(t,e,r){return await r()}const Hr={};class ws{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ws.nextInstanceID,ws.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Cv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _v({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uf(s.fetch),this.lock=s.lock||Qc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ut()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nv:this.lock=Qc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Df()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gc(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Hr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Hr[this.storageKey]=Object.assign(Object.assign({},Hr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Hr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hr[this.storageKey]=Object.assign(Object.assign({},Hr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=tv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ut()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vy(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new $f("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Et}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:f,options:g}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await zr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:w},xform:Et})}else if("phone"in e){const{phone:h,password:f,options:g}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Et})}else throw new ei("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kc})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kc})}else throw new ei("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,a,l,u,c,h,f,g,v;let w,j;if("message"in e)w=e.message,j=e.signature;else{const{chain:C,wallet:p,statement:m,options:y}=e;let b;if(ut())if(typeof p=="object")b=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),m?{statement:m}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),j=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=k}}try{const{data:C,error:p}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Xy(j)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Et});if(p)throw p;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Zs}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:p})}catch(C){if(F(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const r=await yr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Et});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Et}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Zs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:u}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await zr(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new ei("You must provide either an email or phone number.")}catch(l){if(F(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Et});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(F(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await zr(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:vv})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Vt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ei("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Xo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await yr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ta()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,h)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Jt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Jt})})}catch(r){if(F(r))return Hy(r)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Vt;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await zr(this.storage,this.storageKey));const{data:c,error:h}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Jt});if(h)throw h;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ea(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ut())throw new ti("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ti(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ti("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fc("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!a||!c)throw new ti("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;u&&(g=parseInt(u));const v=g-h;v*1e3<=Vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=g-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,h);const{data:j,error:C}=await this._getUser(i);if(C)throw C;const p={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:a,token_type:c,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(n){if(F(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await yr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Wy(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ev(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await zr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,h;const{data:f,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return ut()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(F(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sv(async s=>(s>0&&await nv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Et})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Zo(i)&&Date.now()+a-n<Vr})}catch(n){if(this._debug(r,"error",n),F(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ut()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await yr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await qr(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ta()}else if(s&&!s.user&&!s.user){const a=await yr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ht(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,s)):s.user=ta()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Zo(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fo;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),F(i)){const a={session:null,error:i};return Zo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Vc(s);await qr(this.storage,this.storageKey,i)}else{const s=Vc(r);await qr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Vr}ms, refresh threshold is ${nl} ticks`),s<=nl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await zr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ea(s.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+zy>s)return n;const{data:i,error:a}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=ea(n);r!=null&&r.allowExpired||dv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const h=hv(s.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,Yy(`${l}.${u}`)))throw new ol("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}}ws.nextInstanceID=0;const Ev=ws;class Pv extends Ev{constructor(e){super(e)}}var Tv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{c(n.next(h))}catch(f){a(f)}}function u(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?i(h.value):s(h.value).then(l,u)}c((n=n.apply(t,e||[])).next())})};class Ov{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=$y(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:Cy,realtime:Py,auth:Object.assign(Object.assign({},Ey),{storageKey:c}),global:Ny},f=Ly(n??{},h);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Ry(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new K0(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new _y(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new _0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Tv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new cy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Av=(t,e,r)=>new Ov(t,e,r);function Rv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Rv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Iv="https://hdqbnhtimuynuypwouwf.supabase.co",$v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWJuaHRpbXV5bnV5cHdvdXdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzOTExMTIsImV4cCI6MjA3MDk2NzExMn0.JU4TzFtiUmVDAJ0QNu7lcu5RcXEJw6jhNUB86L1YTSQ",Ne=Av(Iv,$v);class Lv{constructor(){Dr(this,"isConnected",!1);Dr(this,"subscriptions",[]);Dr(this,"orderUpdateCallbacks",[]);Dr(this,"orderCancelledCallbacks",[]);Dr(this,"connectionCallbacks",[]);this.initializeSupabaseRealtime()}initializeSupabaseRealtime(){try{const e=Ne.channel("orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},n=>{console.log("📦 Order change:",n);const s=n.new;n.eventType==="UPDATE"?(this.notifyOrderUpdateCallbacks(s),s.status==="cancelled"&&(console.log("❌ Order cancelled:",s),this.notifyOrderCancelledCallbacks(s))):n.eventType==="INSERT"&&console.log("🆕 New order created:",s)}).subscribe(n=>{console.log("🔗 Supabase real-time status:",n),this.isConnected=n==="SUBSCRIBED",this.notifyConnectionCallbacks(this.isConnected)}),r=Ne.channel("products").on("postgres_changes",{event:"*",schema:"public",table:"products"},n=>{console.log("📦 Product change:",n)}).subscribe();this.subscriptions.push(e,r)}catch(e){console.error("Failed to initialize Supabase real-time:",e)}}isSocketConnected(){return this.isConnected}async connect(e){console.log("🔗 User connected:",e)}async disconnect(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.subscriptions=[],console.log("🔌 User disconnected")}onOrderUpdate(e){this.orderUpdateCallbacks.push(e)}onConnectionChange(e){this.connectionCallbacks.push(e)}onOrderCancelled(e){this.orderCancelledCallbacks.push(e)}notifyOrderUpdateCallbacks(e){this.orderUpdateCallbacks.forEach(r=>r(e))}notifyOrderCancelledCallbacks(e){this.orderCancelledCallbacks.forEach(r=>r(e))}notifyConnectionCallbacks(e){this.connectionCallbacks.forEach(r=>r(e))}async getProducts(){try{console.log("🔍 Fetching products from Supabase...");const{data:e,error:r}=await Ne.from("products").select("*").order("name");if(r)throw console.error("Supabase products query error:",r),r;return console.log("📦 Products fetched from Supabase:",(e==null?void 0:e.length)||0,"products"),e&&e.length>0&&console.log("Sample product:",e[0]),e||[]}catch(e){throw console.error("Failed to fetch products:",e),e}}async createOrder(e){try{const{data:r,error:n}=await Ne.from("orders").insert([{user_id:e.user_id,customer_name:e.customer_name,customer_phone:e.customer_phone,address:e.address,items:e.items,total:e.total,status:"pending"}]).select().single();if(n)throw n;return console.log("📦 Order created successfully:",r),r}catch(r){throw console.error("Failed to create order:",r),r}}async getOrders(e){try{const{data:{user:r}}=await Ne.auth.getUser();if(!(r!=null&&r.id))return console.error("No authenticated user found"),[];const{data:n,error:s}=await Ne.from("orders").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(s)throw s;return n||[]}catch(r){throw console.error("Failed to fetch orders:",r),r}}async getOrder(e){try{const{data:r,error:n}=await Ne.from("orders").select("*").eq("id",e).single();if(n)throw n;return r}catch(r){throw console.error("Failed to fetch order:",r),r}}removeAllListeners(){this.orderUpdateCallbacks=[],this.connectionCallbacks=[]}}const Ct=new Lv;var Ff="basil",Dv=function(e){return e===3?"v3":e},zf="https://js.stripe.com",Uv="".concat(zf,"/").concat(Ff,"/stripe.js"),Mv=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Fv=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var zv=function(e){return Mv.test(e)||Fv.test(e)},Bv=function(){for(var e=document.querySelectorAll('script[src^="'.concat(zf,'"]')),r=0;r<e.length;r++){var n=e[r];if(zv(n.src))return n}return null},Jc=function(e){var r="",n=document.createElement("script");n.src="".concat(Uv).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},Wv=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:r})},Un=null,ri=null,ni=null,Hv=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},Vv=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},qv=function(e){return Un!==null?Un:(Un=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=Bv();if(!(s&&e)){if(!s)s=Jc(e);else if(s&&ni!==null&&ri!==null){var i;s.removeEventListener("load",ni),s.removeEventListener("error",ri),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=Jc(e)}}ni=Vv(r,n),ri=Hv(n),s.addEventListener("load",ni),s.addEventListener("error",ri)}catch(a){n(a);return}}),Un.catch(function(r){return Un=null,Promise.reject(r)}))},Kv=function(e,r,n){if(e===null)return null;var s=r[0],i=s.match(/^pk_test/),a=Dv(e.version),l=Ff;i&&a!==l&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,r);return Wv(u,n),u},Mn,Bf=!1,Wf=function(){return Mn||(Mn=qv(null).catch(function(e){return Mn=null,Promise.reject(e)}),Mn)};Promise.resolve().then(function(){return Wf()}).catch(function(t){Bf||console.warn(t)});var Gv=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];Bf=!0;var s=Date.now();return Wf().then(function(i){return Kv(i,r,s)})},Hf={exports:{}},Qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jv=Qv,Yv=Jv;function Vf(){}function qf(){}qf.resetWarningCache=Vf;var Xv=function(){function t(n,s,i,a,l,u){if(u!==Yv){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qf,resetWarningCache:Vf};return r.PropTypes=r,r};Hf.exports=Xv();var Zv=Hf.exports;const se=nd(Zv);function Yc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yc(Object(r),!0).forEach(function(n){Kf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yc(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gi(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gi=function(e){return typeof e}:gi=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(t)}function Kf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ex(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function tx(t,e){if(t==null)return{};var r=ex(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gf(t,e){return rx(t)||nx(t,e)||sx(t,e)||ix()}function rx(t){if(Array.isArray(t))return t}function nx(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,a,l;try{for(r=r.call(t);!(s=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));s=!0);}catch(u){i=!0,l=u}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function sx(t,e){if(t){if(typeof t=="string")return Zc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zc(t,e)}}function Zc(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ix(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qe=function(e,r,n){var s=!!n,i=Q.useRef(n);Q.useEffect(function(){i.current=n},[n]),Q.useEffect(function(){if(!s||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(r,a),function(){e.off(r,a)}},[s,r,e,i])},al=function(e){var r=Q.useRef(e);return Q.useEffect(function(){r.current=e},[e]),r.current},wn=function(e){return e!==null&&gi(e)==="object"},ox=function(e){return wn(e)&&typeof e.then=="function"},ax=function(e){return wn(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ed="[object Object]",lx=function t(e,r){if(!wn(e)||!wn(r))return e===r;var n=Array.isArray(e),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(e)===ed,a=Object.prototype.toString.call(r)===ed;if(i!==a)return!1;if(!i&&!n)return e===r;var l=Object.keys(e),u=Object.keys(r);if(l.length!==u.length)return!1;for(var c={},h=0;h<l.length;h+=1)c[l[h]]=!0;for(var f=0;f<u.length;f+=1)c[u[f]]=!0;var g=Object.keys(c);if(g.length!==l.length)return!1;var v=e,w=r,j=function(p){return t(v[p],w[p])};return g.every(j)},Qf=function(e,r,n){return wn(e)?Object.keys(e).reduce(function(s,i){var a=!wn(r)||!lx(e[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?Xc(Xc({},s||{}),{},Kf({},i,e[i])):s},null):null},Jf="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",td=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jf;if(e===null||ax(e))return e;throw new Error(r)},ux=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jf;if(ox(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return td(s,r)})};var n=td(e,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},cx=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.2"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.2",url:"https://stripe.com/docs/stripe-js/react"}))},po=Q.createContext(null);po.displayName="ElementsContext";var Yf=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},Xf=function(e){var r=e.stripe,n=e.options,s=e.children,i=Q.useMemo(function(){return ux(r)},[r]),a=Q.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=Gf(a,2),u=l[0],c=l[1];Q.useEffect(function(){var g=!0,v=function(j){c(function(C){return C.stripe?C:{stripe:j,elements:j.elements(n)}})};return i.tag==="async"&&!u.stripe?i.stripePromise.then(function(w){w&&g&&v(w)}):i.tag==="sync"&&!u.stripe&&v(i.stripe),function(){g=!1}},[i,u,n]);var h=al(r);Q.useEffect(function(){h!==null&&h!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,r]);var f=al(n);return Q.useEffect(function(){if(u.elements){var g=Qf(n,f,["clientSecret","fonts"]);g&&u.elements.update(g)}},[n,f,u.elements]),Q.useEffect(function(){cx(u.stripe)},[u.stripe]),Q.createElement(po.Provider,{value:u},s)};Xf.propTypes={stripe:se.any,options:se.object};var dx=function(e){var r=Q.useContext(po);return Yf(r,e)},hx=function(){var e=dx("calls useElements()"),r=e.elements;return r};se.func.isRequired;var Zf=Q.createContext(null);Zf.displayName="CheckoutSdkContext";var fx=function(e,r){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return e},px=Q.createContext(null);px.displayName="CheckoutContext";se.any,se.shape({fetchClientSecret:se.func.isRequired,elementsOptions:se.object}).isRequired;var ll=function(e){var r=Q.useContext(Zf),n=Q.useContext(po);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r?fx(r,e):Yf(n,e)},mx=["mode"],gx=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},he=function(e,r){var n="".concat(gx(e),"Element"),s=function(u){var c=u.id,h=u.className,f=u.options,g=f===void 0?{}:f,v=u.onBlur,w=u.onFocus,j=u.onReady,C=u.onChange,p=u.onEscape,m=u.onClick,y=u.onLoadError,b=u.onLoaderStart,N=u.onNetworksChange,k=u.onConfirm,S=u.onCancel,I=u.onShippingAddressChange,X=u.onShippingRateChange,U=ll("mounts <".concat(n,">")),xe="elements"in U?U.elements:null,$="checkoutSdk"in U?U.checkoutSdk:null,kt=Q.useState(null),A=Gf(kt,2),we=A[0],zt=A[1],B=Q.useRef(null),P=Q.useRef(null);qe(we,"blur",v),qe(we,"focus",w),qe(we,"escape",p),qe(we,"click",m),qe(we,"loaderror",y),qe(we,"loaderstart",b),qe(we,"networkschange",N),qe(we,"confirm",k),qe(we,"cancel",S),qe(we,"shippingaddresschange",I),qe(we,"shippingratechange",X),qe(we,"change",C);var R;j&&(e==="expressCheckout"?R=j:R=function(){j(we)}),qe(we,"ready",R),Q.useLayoutEffect(function(){if(B.current===null&&P.current!==null&&(xe||$)){var M=null;if($)switch(e){case"payment":M=$.createPaymentElement(g);break;case"address":if("mode"in g){var z=g.mode,Y=tx(g,mx);if(z==="shipping")M=$.createShippingAddressElement(Y);else if(z==="billing")M=$.createBillingAddressElement(Y);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":M=$.createExpressCheckoutElement(g);break;case"currencySelector":M=$.createCurrencySelectorElement();break;case"taxId":M=$.createTaxIdElement(g);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else xe&&(M=xe.create(e,g));B.current=M,zt(M),M&&M.mount(P.current)}},[xe,$,g]);var D=al(g);return Q.useEffect(function(){if(B.current){var M=Qf(g,D,["paymentRequest"]);M&&"update"in B.current&&B.current.update(M)}},[g,D]),Q.useLayoutEffect(function(){return function(){if(B.current&&typeof B.current.destroy=="function")try{B.current.destroy(),B.current=null}catch{}}},[]),Q.createElement("div",{id:c,className:h,ref:P})},i=function(u){ll("mounts <".concat(n,">"));var c=u.id,h=u.className;return Q.createElement("div",{id:c,className:h})},a=r?i:s;return a.propTypes={id:se.string,className:se.string,onChange:se.func,onBlur:se.func,onFocus:se.func,onReady:se.func,onEscape:se.func,onClick:se.func,onLoadError:se.func,onLoaderStart:se.func,onNetworksChange:se.func,onConfirm:se.func,onCancel:se.func,onShippingAddressChange:se.func,onShippingRateChange:se.func,options:se.object},a.displayName=n,a.__elementType=e,a},fe=typeof window>"u",yx=Q.createContext(null);yx.displayName="EmbeddedCheckoutProviderContext";var vx=function(){var e=ll("calls useStripe()"),r=e.stripe;return r};he("auBankAccount",fe);var rd=he("card",fe);he("cardNumber",fe);he("cardExpiry",fe);he("cardCvc",fe);he("fpxBank",fe);he("iban",fe);he("idealBank",fe);he("p24Bank",fe);he("epsBank",fe);he("payment",fe);he("expressCheckout",fe);he("currencySelector",fe);he("paymentRequestButton",fe);he("linkAuthentication",fe);he("address",fe);he("shippingAddress",fe);he("paymentMethodMessaging",fe);he("affirmMessage",fe);he("afterpayClearpayMessage",fe);he("taxId",fe);const xx=async t=>{try{return console.log("Creating payment intent for amount:",t),await new Promise(e=>setTimeout(e,1e3)),{clientSecret:"pi_test_secret_"+Math.random().toString(36).substr(2,9),id:"pi_test_"+Math.random().toString(36).substr(2,9),status:"requires_payment_method"}}catch(e){throw console.error("Payment intent creation failed:",e),new Error("Payment service unavailable")}},wx=({amount:t,onPaymentSuccess:e,onPaymentError:r,onCancel:n})=>{const s=vx(),i=hx(),[a,l]=E.useState(!1),[u,c]=E.useState(null),h=async g=>{if(g.preventDefault(),!s||!i){c("Stripe not loaded");return}l(!0),c(null);try{const v=await xx(Math.round(t*100));if(!v)throw new Error("Failed to create payment intent");const{error:w,paymentIntent:j}=await s.confirmCardPayment(v.clientSecret,{payment_method:{card:i.getElement(rd)}});if(w)throw new Error(w.message);if(j.status==="succeeded")e(j);else throw new Error("Payment failed")}catch(v){const w=v instanceof Error?v.message:"Payment failed";c(w),r(w)}finally{l(!1)}},f={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment"}),o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(f0,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-semibold",children:"Secure Payment"})]})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Amount:"}),o.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",t.toFixed(2)]})]})})}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(c0,{className:"w-5 h-5"}),o.jsx("span",{children:"Card Information"})]})}),o.jsx("div",{className:"border border-gray-300 rounded-xl p-4 bg-white",children:o.jsx(rd,{options:f})})]}),u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(a0,{className:"w-5 h-5 text-red-600"}),o.jsx("span",{className:"text-red-800 font-medium",children:u})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{type:"button",onClick:n,disabled:a,className:"flex-1 px-6 py-4 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!s||a,className:"flex-1 px-6 py-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl font-semibold hover:from-emerald-700 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:a?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(At,{className:"w-5 h-5"}),o.jsxs("span",{children:["Pay $",t.toFixed(2)]})]})})]})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"Your payment is secured by Stripe. We never store your card information."})})]})},bx=Q.memo(({showToast:t,toastMessage:e})=>t&&o.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300",children:o.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-xl border border-emerald-500 flex items-center space-x-3",children:[o.jsx(At,{className:"w-6 h-6"}),o.jsx("span",{className:"font-semibold",children:e})]})})),jx=Q.memo(({product:t,addToCart:e,addingToCart:r})=>o.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[t.featured&&o.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full mb-3 inline-block",children:"FEATURED"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-32 object-cover rounded-2xl",onError:n=>{n.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBWMTMwTTcwIDEwMEgxMzAiIHN0cm9rZT0iIzlDQTNBRiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+"}}),!t.inStock&&o.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:"OUT OF STOCK"})}),t.labTested&&o.jsx("div",{className:"absolute top-2 right-2 bg-green-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:"LAB TESTED"})]}),o.jsx("h3",{className:"font-bold text-gray-900 mb-2 leading-tight",children:t.name}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.strain==="Sativa"?"bg-green-100 text-green-800":t.strain==="Indica"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:t.strain}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-sm text-gray-900",children:["THC: ",t.thc]}),t.cbd&&o.jsxs("div",{className:"text-xs text-gray-600",children:["CBD: ",t.cbd]})]})]}),o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsxs("div",{className:"flex items-center mr-3",children:[o.jsx(g0,{className:"w-4 h-4 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-sm font-semibold text-gray-700 ml-1",children:t.rating})]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.reviewCount," reviews)"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-black text-xl text-gray-900",children:["$",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["$",t.originalPrice]})]}),t.inStock?o.jsx("button",{type:"button",onClick:()=>e(t),disabled:r===t.id,className:`p-3 rounded-full transition-all shadow-lg transform focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${r===t.id?"bg-green-500 scale-110":"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 hover:scale-110 active:scale-95 hover:shadow-xl"} text-white`,children:r===t.id?o.jsx(At,{className:"w-5 h-5"}):o.jsx(zi,{className:"w-5 h-5"})}):o.jsx("button",{type:"button",disabled:!0,className:"bg-gray-300 text-gray-500 p-3 rounded-full cursor-not-allowed opacity-50",children:o.jsx(zi,{className:"w-5 h-5"})})]})]})),_x=()=>{var pu;const t=Gv("pk_test_51S06B0RrDiazxIUvu0HeQXVHvLss5BT8sb0K98q4yagKmWUUzOkA9ZYe2pxVsVueZSoNud3FRjVE6mOkE8uTJKTf00MOofPfc1"),[e,r]=E.useState("auth"),[n,s]=E.useState("login"),[i,a]=E.useState(!1),[l,u]=E.useState(!1),[c,h]=E.useState(0),[f,g]=E.useState(!1),[v,w]=E.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:""}),[j,C]=E.useState([]),[p,m]=E.useState({name:"",email:"",address:"",rewards:0,age:0,idVerified:!1}),[y,b]=E.useState([]),[N,k]=E.useState([]),[S,I]=E.useState("all"),[X,U]=E.useState(""),[xe,$]=E.useState(""),[kt,A]=E.useState(!1),[we,zt]=E.useState(null),[B,P]=E.useState({isOpen:!1,order:null}),[R,D]=E.useState({isOpen:!1,order:null}),[M,z]=E.useState({isOpen:!1,type:null}),[Y,Ue]=E.useState({name:"",email:"",phone:"",age:0,address:""}),[$r,St]=E.useState({lat:30.2672,lng:-97.7431,heading:45,speed:25}),[Me,ep]=E.useState({darkMode:!1,biometricLogin:!0,soundEffects:!0,analytics:!1}),[fr,tp]=E.useState({orderUpdates:!0,promotionsDeals:!0,newProducts:!1,deliveryReminders:!0,fsRewards:!0,smsNotifications:!1,emailUpdates:!0}),[Nn,rp]=E.useState({locationTracking:!0,purchaseHistory:!0,analytics:!1,thirdPartySharing:!1,biometricLogin:!0}),[mo,Ps]=E.useState([{id:1,type:"Apple Pay",icon:"🍎",status:"Connected",primary:!0,details:""},{id:2,type:"Visa",icon:"💳",status:"Active",primary:!1,details:"•••• 4242"},{id:3,type:"FS Coin",icon:"🪙",status:"Available",primary:!1,details:`${p.rewards} coins`}]),[np,go]=E.useState(!1),[le,pr]=E.useState({type:"card",cardNumber:"",expiryDate:"",cvv:"",name:""});E.useEffect(()=>{Ue({name:p.name,email:p.email,phone:p.phone||"",age:p.age,address:p.address||""})},[p]),E.useEffect(()=>(i&&(async()=>{try{const x=await Ct.getProducts();if(console.log("Loaded products from Supabase:",x==null?void 0:x.length),k(x),i&&p.email)try{const L=await Ct.getOrders(p.email);b(L.map(W=>({id:W.order_id,status:W.status,items:W.items.map(H=>H.name),total:W.total,date:W.created_at,estimatedDelivery:"1-2 hours",driver:"Driver Assigned",vehicle:"Vehicle Info"})))}catch(L){console.warn("Failed to load orders:",L)}i&&p.email&&Ct.connect(p.email);const T=Ct.isSocketConnected();console.log("Supabase real-time connection status:",T),Ct.onOrderUpdate(L=>{b(W=>W.map(H=>H.id===L.order_id?{...H,status:L.status}:H))}),Ct.onOrderCancelled(L=>{b(W=>W.map(H=>H.id===L.order_id?{...H,status:"cancelled"}:H)),$(`Order ${L.order_id} has been cancelled by admin.`),A(!0)}),console.log("Data loading completed"),$("Live data loaded successfully!"),A(!0)}catch(x){console.error("Failed to load live data:",x),$("Failed to load live data. Please check your connection."),A(!0)}finally{}})(),()=>{Ct.removeAllListeners(),Ct.disconnect()}),[i,p.email]),E.useEffect(()=>{Ps(d=>d.map(x=>x.type==="FS Coin"?{...x,details:`${p.rewards} coins`}:x))},[p.rewards]);const[yo,Bt]=E.useState([{id:1,name:"Home",address:p.address||"",primary:!0,type:"home",instructions:""}]),[sp,Cn]=E.useState(!1),[En,Ts]=E.useState(null),[G,ot]=E.useState({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""});E.useEffect(()=>{(async()=>{if(!(!i||!p.email))try{const{data:{user:x}}=await Ne.auth.getUser();if(!x)return;const{data:T,error:L}=await Ne.from("addresses").select("*").eq("user_id",x.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!0});if(L){console.error("Failed to load user addresses:",L),Bt([{id:1,name:"Home",address:p.address||"",primary:!0,type:"home",instructions:""}]);return}if(T&&T.length>0){console.log("✅ User addresses loaded:",T);const W=T.map(H=>({id:H.id,name:H.label,address:`${H.street}, ${H.city}, ${H.state} ${H.zip_code}`,primary:H.is_default,type:H.label.toLowerCase()==="home"?"home":H.label.toLowerCase()==="work"?"work":"other",instructions:""}));Bt(W)}else console.log("No saved addresses found, using main address"),Bt([{id:1,name:"Home",address:p.address||"",primary:!0,type:"home",instructions:""}])}catch(x){console.error("Error loading user addresses:",x),Bt([{id:1,name:"Home",address:p.address||"",primary:!0,type:"home",instructions:""}])}})()},[i,p.email,p.address]);const[vo,lu]=E.useState({isOpen:!1}),[uu,cu]=E.useState([{id:1,sender:"agent",name:"Sarah from Support",message:"Hi! How can I help you today?",time:"2:34 PM",avatar:"👩‍💼"}]),[Lr,xo]=E.useState(""),[du,wo]=E.useState(!1),[Os,ip]=E.useState("online"),op=E.useCallback(d=>{ep(T=>({...T,[d]:!T[d]}));const x={darkMode:`Dark mode ${Me[d]?"disabled":"enabled"}`,biometricLogin:`Biometric login ${Me[d]?"disabled":"enabled"}`,soundEffects:`Sound effects ${Me[d]?"disabled":"enabled"}`,analytics:`Usage analytics ${Me[d]?"disabled":"enabled"}`};$(x[d]),A(!0),setTimeout(()=>A(!1),2e3)},[Me]),ap=E.useCallback(d=>{tp(x=>({...x,[d]:!x[d]})),$("Notification setting updated"),A(!0),setTimeout(()=>A(!1),2e3)},[]),lp=E.useCallback(d=>{rp(x=>({...x,[d]:!x[d]})),$("Privacy setting updated"),A(!0),setTimeout(()=>A(!1),2e3)},[]),up=E.useCallback(()=>{if(le.type==="card"&&(!le.cardNumber||!le.expiryDate||!le.cvv||!le.name)){alert("Please fill in all card details");return}const d={id:Date.now(),type:le.type==="card"?`${le.cardNumber.slice(0,4)} •••• ${le.cardNumber.slice(-4)}`:le.type==="paypal"?"PayPal":"Google Pay",icon:le.type==="card"?"💳":le.type==="paypal"?"💙":"🔵",status:"Active",primary:mo.length===0,details:le.type==="card"?`Expires ${le.expiryDate}`:"Connected"};Ps(x=>[...x,d]),pr({type:"card",cardNumber:"",expiryDate:"",cvv:"",name:""}),go(!1),$("Payment method added successfully"),A(!0),setTimeout(()=>A(!1),2e3)},[le,mo.length]),cp=E.useCallback(d=>{Ps(x=>{const T=x.filter(L=>L.id!==d);return T.length>0&&!T.some(L=>L.primary)&&(T[0].primary=!0),T}),$("Payment method removed"),A(!0),setTimeout(()=>A(!1),2e3)},[]),dp=E.useCallback(d=>{Ps(x=>x.map(T=>({...T,primary:T.id===d}))),$("Primary payment method updated"),A(!0),setTimeout(()=>A(!1),2e3)},[]),hp=E.useCallback(()=>{if(!G.name||!G.address||!G.city||!G.zipCode){alert("Please fill in all required fields");return}const d=`${G.address}, ${G.city}, ${G.state} ${G.zipCode}`,x={id:Date.now(),name:G.name,address:d,primary:yo.length===0,type:G.type,instructions:G.instructions};Bt(T=>[...T,x]),ot({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""}),Cn(!1),Ts(null),$("Delivery address added successfully"),A(!0),setTimeout(()=>A(!1),2e3)},[G,yo.length]),fp=E.useCallback(()=>{if(!G.name||!G.address||!G.city||!G.zipCode){alert("Please fill in all required fields");return}const d=`${G.address}, ${G.city}, ${G.state} ${G.zipCode}`;Bt(x=>x.map(T=>T.id===En?{...T,name:G.name,address:d,type:G.type,instructions:G.instructions}:T)),ot({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""}),Cn(!1),Ts(null),$("Address updated successfully"),A(!0),setTimeout(()=>A(!1),2e3)},[G,En]),pp=E.useCallback(d=>{Bt(x=>{const T=x.filter(L=>L.id!==d);return T.length>0&&!T.some(L=>L.primary)&&(T[0].primary=!0,T[0].type==="home"&&m(L=>({...L,address:T[0].address}))),T}),$("Address removed"),A(!0),setTimeout(()=>A(!1),2e3)},[]),mp=E.useCallback(d=>{Bt(x=>x.map(T=>{const L={...T,primary:T.id===d};return L.primary&&L.type==="home"&&m(W=>({...W,address:L.address})),L})),$("Primary delivery address updated"),A(!0),setTimeout(()=>A(!1),2e3)},[]),gp=E.useCallback(d=>{const x=d.address.split(", "),T=x[x.length-1].split(" ");ot({name:d.name,address:x.slice(0,-2).join(", "),city:x[x.length-2],state:T[0]||"TX",zipCode:T[1]||"",type:d.type,instructions:d.instructions||""}),Ts(d.id),Cn(!0)},[]),hu=E.useCallback(()=>{lu({isOpen:!0});const d=["online","away","busy"];ip(d[Math.floor(Math.random()*d.length)])},[]),yp=E.useCallback(()=>{lu({isOpen:!1}),xo(""),wo(!1)},[]),bo=E.useCallback(()=>{if(!Lr.trim())return;const d={id:Date.now(),sender:"user",name:p.name,message:Lr.trim(),time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),avatar:"👤"};cu(x=>[...x,d]),xo(""),wo(!0),setTimeout(()=>{wo(!1);const x=["Thanks for reaching out! I'm looking into that for you.","Let me check on that order status for you right away.","I understand your concern. I'll help you resolve this quickly.","That's a great question! Here's what I can tell you...","I see you're asking about delivery. Let me get those details.","Perfect! I can definitely help you with that request.","Thanks for being patient. I have some good news for you!"],T={id:Date.now()+1,sender:"agent",name:"Sarah from Support",message:x[Math.floor(Math.random()*x.length)],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),avatar:"👩‍💼"};cu(L=>[...L,T])},1500+Math.random()*2e3)},[Lr,p.name]),vp=E.useCallback(d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),bo())},[bo]),xp=[{id:"all",name:"All Products",icon:"🌿",gradient:"from-green-400 to-emerald-500"},{id:"flower",name:"Flower",icon:"🌸",gradient:"from-pink-400 to-rose-500"},{id:"vapes",name:"Vapes",icon:"💨",gradient:"from-blue-400 to-cyan-500"},{id:"prerolls",name:"Pre-rolls",icon:"🚬",gradient:"from-orange-400 to-amber-500"},{id:"edibles",name:"Edibles",icon:"🍯",gradient:"from-purple-400 to-violet-500"}];console.log("realProducts from Supabase:",N),N.length===0&&console.log("No products available from Supabase");const wp=N.map(d=>({id:parseInt(d.id)||1,name:d.name,category:d.category,price:d.price,originalPrice:null,thc:d.thc,cbd:d.cbd,strain:"Hybrid",rating:4.8,reviewCount:100,imageUrl:"https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=400&h=400&fit=crop&crop=center",description:`${d.name} - Premium quality cannabis product.`,effects:["Relaxed","Happy","Creative"],labTested:!0,inStock:d.stock>0,featured:!1})).filter(d=>{const x=S==="all"||d.category===S,T=d.name.toLowerCase().includes(X.toLowerCase());return x&&T}),bp=E.useCallback(d=>{d.inStock&&(zt(d.id),setTimeout(()=>zt(null),500),C(x=>x.find(L=>L.id===d.id)?($(`Added another ${d.name} to cart!`),A(!0),setTimeout(()=>A(!1),3e3),x.map(L=>L.id===d.id?{...L,quantity:L.quantity+1}:L)):($(`${d.name} added to cart!`),A(!0),setTimeout(()=>A(!1),3e3),[...x,{...d,quantity:1}])))},[]),fu=E.useCallback((d,x)=>{C(T=>T.map(W=>{if(W.id===d){const H=W.quantity+x;return H<=0?($(`${W.name} removed from cart`),A(!0),setTimeout(()=>A(!1),2e3),null):(x>0?$(`Increased ${W.name} quantity`):$(`Decreased ${W.name} quantity`),A(!0),setTimeout(()=>A(!1),2e3),{...W,quantity:H})}return W}).filter(Boolean))},[]),at=j.reduce((d,x)=>d+x.price*x.quantity,0),jo=j.reduce((d,x)=>d+x.quantity,0),jp=E.useCallback(async()=>{var d,x,T,L;if(n==="login")if(v.email&&v.email.trim()&&v.password&&v.password.trim())try{console.log("🔐 Attempting login with:",v.email);const{data:W,error:H}=await Ne.auth.signInWithPassword({email:v.email,password:v.password});if(H){console.error("Login error:",H),H.message.includes("Invalid login credentials")?$("Invalid email or password. Please try again."):H.message.includes("Email not confirmed")?$("Please check your email and confirm your account before logging in."):$(`Login failed: ${H.message}`),A(!0);return}console.log("✅ Login successful:",W);try{console.log("🔍 Loading user profile for auth user ID:",W.user.id),console.log("🔍 Auth user email:",W.user.email);let{data:be,error:Nt}=await Ne.from("users").select("*").eq("id",W.user.id).single();if(Nt){console.log("⚠️ User profile not found by auth ID, trying by email...");const{data:yt,error:mr}=await Ne.from("users").select("*").eq("email",W.user.email).single();if(mr){console.error("❌ User profile not found by email either:",mr),console.log("💡 Creating user profile in database...");const{data:mu,error:gu}=await Ne.from("users").insert([{id:W.user.id,email:W.user.email,name:((x=(d=W.user)==null?void 0:d.user_metadata)==null?void 0:x.name)||v.name||"User",phone:((L=(T=W.user)==null?void 0:T.user_metadata)==null?void 0:L.phone)||"",is_verified:!0}]).select().single();gu?(console.error("❌ Failed to create user profile:",gu),m(Pp=>{var yu,vu;return{...Pp,email:v.email,name:((vu=(yu=W.user)==null?void 0:yu.user_metadata)==null?void 0:vu.name)||v.name||"User"}})):(console.log("✅ User profile created:",mu),be=mu)}else console.log("✅ User profile found by email:",yt),be=yt}else console.log("✅ User profile found by auth ID:",be);be&&(console.log("✅ Setting user data from profile:",be),m(yt=>({...yt,email:be.email,name:be.name,phone:be.phone||"",age:be.age||0,address:be.address||"",rewards:be.loyalty_points||0,idVerified:be.is_verified||!1})))}catch(be){console.error("❌ Error loading user profile:",be),m(Nt=>{var yt,mr;return{...Nt,email:v.email,name:((mr=(yt=W.user)==null?void 0:yt.user_metadata)==null?void 0:mr.name)||v.name||"User"}})}a(!0),r("home"),$("Successfully logged in!"),A(!0)}catch(W){console.error("Login error:",W),$("Login failed. Please try again."),A(!0)}else $("Please enter email and password"),A(!0);else if(n==="signup"){if(!v.name||!v.dateOfBirth||!v.phone||!v.email||!v.password){$("Please fill in all required fields"),A(!0);return}if(v.password!==v.confirmPassword){$("Passwords do not match"),A(!0);return}const W=new Date(v.dateOfBirth),be=new Date().getFullYear()-W.getFullYear();if(be<21){$("You must be 21 or older to use this service"),A(!0);return}try{console.log("🔐 Attempting signup with:",v.email);const{data:Nt,error:yt}=await Ne.auth.signUp({email:v.email,password:v.password,options:{data:{name:v.name,phone:v.phone,age:be,address:"123 Main St, Austin, TX"},emailRedirectTo:window.location.origin}});if(yt){console.error("Signup error:",yt),$("Signup failed. Please try again."),A(!0);return}if(console.log("✅ Signup successful:",Nt),Nt.user&&!Nt.user.email_confirmed_at){$("Account created! Please check your email (including spam folder) and click the confirmation link, then try logging in again."),A(!0),s("login"),setTimeout(()=>{$("If you don't see the email, check your spam folder or try creating the account again."),A(!0)},5e3);return}a(!0),r("home"),m(mr=>({...mr,email:v.email,name:v.name,phone:v.phone,age:be})),$("Account created and logged in successfully!"),A(!0)}catch(Nt){console.error("Signup error:",Nt),$("Signup failed. Please try again."),A(!0)}}else n==="forgot"&&(v.email&&v.email.trim()?($("Password reset link sent to your email!"),s("login"),A(!0)):($("Please enter your email address"),A(!0)))},[n,v]),_p=E.useCallback(()=>{a(!1),r("auth"),s("login"),C([]),w({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:""})},[]),_o=E.useCallback(()=>{w({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:""})},[]),kp=E.useCallback(()=>{m(d=>({...d,idVerified:!0})),r("cart")},[]),Sp=E.useCallback(async()=>{p.idVerified?(h(at+(at>=100?0:5)),u(!0)):r("id-verification")},[p.idVerified,at]),Np=E.useCallback(async d=>{try{const{data:{user:x}}=await Ne.auth.getUser();if(!(x!=null&&x.id))throw new Error("User not authenticated");const T={user_id:x.id,customer_name:p.name,customer_phone:p.phone||"+1234567890",address:p.address,items:j.map(H=>({name:H.name,quantity:H.quantity,price:H.price})),total:c,payment_intent_id:d.id},L=await Ct.createOrder(T),W={id:L.order_id,status:L.status,items:j.map(H=>H.name),total:L.total,date:L.created_at,estimatedDelivery:"1-2 hours",driver:"Driver Assigned",vehicle:"Vehicle Info"};b(H=>[W,...H]),C([]),u(!1),r("orders"),$("Payment successful! Order placed successfully!"),A(!0)}catch(x){console.error("Failed to create order after payment:",x),$("Payment successful but failed to create order. Please contact support."),A(!0)}},[p.name,p.phone,p.address,j,c]),Cp=E.useCallback(d=>{console.error("Payment failed:",d),$(`Payment failed: ${d}`),A(!0)},[]),Ep=E.useCallback(()=>{u(!1)},[]);return E.useEffect(()=>{var d;if(R.isOpen&&((d=R.order)==null?void 0:d.status)==="in-transit"){const x=setInterval(()=>{St(T=>({...T,lat:T.lat+(Math.random()-.5)*.002,lng:T.lng+(Math.random()-.5)*.002,heading:T.heading+(Math.random()-.5)*10,speed:Math.max(15,Math.min(35,T.speed+(Math.random()-.5)*5))}))},3e3);return()=>clearInterval(x)}},[R.isOpen,(pu=R.order)==null?void 0:pu.status]),E.useEffect(()=>{if(vo.isOpen){const d=document.querySelector(".chat-messages");d&&(d.scrollTop=d.scrollHeight)}},[uu,du,vo.isOpen]),o.jsx(Xf,{stripe:t,children:o.jsxs("div",{className:"max-w-md mx-auto bg-gray-50 min-h-screen",children:[o.jsx(bx,{showToast:kt,toastMessage:xe}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsx(wx,{amount:c,onPaymentSuccess:Np,onPaymentError:Cp,onCancel:Ep})})}),i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gradient-to-r from-emerald-500 via-green-500 to-emerald-600 text-white px-6 py-4 shadow-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg font-black",children:"FS"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-black tracking-tight",children:"Faded Skies"}),o.jsx("div",{className:"text-xs text-green-100 font-semibold",children:"Premium Cannabis"})]})]}),p.idVerified&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs bg-green-700/80 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[o.jsx(At,{className:"w-3 h-3"}),o.jsx("span",{className:"font-semibold",children:"Verified"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[o.jsx(Qs,{className:"w-4 h-4"}),o.jsx("span",{children:"Austin, TX"})]}),o.jsx("div",{className:"relative",children:o.jsxs("button",{type:"button",onClick:()=>r("cart"),className:"relative p-3 bg-emerald-700/80 backdrop-blur-sm rounded-xl hover:bg-emerald-800 transition-all shadow-lg hover:shadow-xl",children:[o.jsx(Oc,{className:"w-5 h-5"}),jo>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg animate-pulse",children:jo})]})})]})]})}),e==="home"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 via-green-500 to-emerald-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsxs("h1",{className:"text-3xl font-black mb-2",children:["Welcome back, ",p.name,"!"]}),o.jsx("p",{className:"text-green-100 text-lg mb-6 font-medium",children:"Premium cannabis delivered to your door"}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-3xl border border-white/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"font-semibold",children:"Rewards Balance"}),o.jsxs("span",{className:"font-black text-2xl",children:[p.rewards," FS Coins"]})]}),o.jsx("div",{className:"bg-emerald-600/80 backdrop-blur-sm p-3 rounded-2xl text-center",children:o.jsx("span",{className:"text-sm font-bold",children:"🚚 Free delivery on orders $100+"})})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(m0,{className:"absolute left-4 top-4 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search premium products...",value:X,onChange:d=>U(d.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-white shadow-sm font-medium"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Categories"}),o.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:xp.map(d=>o.jsxs("button",{type:"button",onClick:()=>I(d.id),className:`flex items-center space-x-2 px-6 py-3 rounded-full whitespace-nowrap transition-all font-semibold shadow-lg ${S===d.id?`bg-gradient-to-r ${d.gradient} text-white shadow-xl transform scale-105`:"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[o.jsx("span",{className:"text-lg",children:d.icon}),o.jsx("span",{children:d.name})]},d.id))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Premium Products"}),o.jsx("button",{type:"button",className:"text-emerald-600 hover:text-emerald-700 font-semibold text-sm",children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:wp.map(d=>o.jsx(jx,{product:d,addToCart:bp,addingToCart:we},d.id))})]})]})]}),e==="cart"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Your Cart"}),o.jsxs("p",{className:"text-green-100 text-lg",children:[jo," items • $",at.toFixed(2)]})]}),o.jsx("div",{className:"p-6",children:j.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner",children:o.jsx(Oc,{className:"w-16 h-16 text-gray-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Discover our premium cannabis products"}),o.jsx("button",{type:"button",onClick:()=>r("home"),className:"bg-gradient-to-r from-emerald-600 to-green-600 text-white px-10 py-5 rounded-2xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:"🌿 Start Shopping"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4 mb-8",children:j.map(d=>o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-16 h-16 object-cover rounded-2xl"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-gray-900",children:d.name}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["$",d.price," each"]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[d.strain," • ",d.thc," THC"]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>fu(d.id,-1),className:"bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors",children:o.jsx(Ec,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-8 text-center font-bold text-lg",children:d.quantity}),o.jsx("button",{type:"button",onClick:()=>fu(d.id,1),className:"bg-emerald-600 text-white p-2 rounded-full hover:bg-emerald-700 transition-colors",children:o.jsx(zi,{className:"w-4 h-4"})})]})]})},d.id))}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-3xl p-6 mb-8 border border-emerald-100",children:[o.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-900",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:"Subtotal:"}),o.jsxs("span",{className:"font-bold",children:["$",at.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:"Delivery:"}),o.jsx("span",{className:`font-bold ${at>=100?"text-green-600":""}`,children:at>=100?"FREE":"$5.00"})]}),o.jsxs("div",{className:"border-t border-emerald-200 pt-2 flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-lg",children:"Total:"}),o.jsxs("span",{className:"font-black text-2xl text-emerald-600",children:["$",(at+(at>=100?0:5)).toFixed(2)]})]}),at<100&&o.jsxs("p",{className:"text-sm text-amber-700 mt-3 text-center bg-amber-50 p-3 rounded-xl",children:["Add $",(100-at).toFixed(2)," more for free delivery! 🚚"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Payment Methods"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Apple Pay",icon:"🍎"},{name:"Google Pay",icon:"🔵"},{name:"Aeropay",icon:"💳"},{name:"FS Coin",icon:"🪙"}].map(d=>o.jsxs("button",{type:"button",className:"flex items-center justify-center space-x-2 bg-white border-2 border-gray-200 rounded-2xl p-4 hover:border-emerald-300 transition-colors font-semibold",children:[o.jsx("span",{className:"text-lg",children:d.icon}),o.jsx("span",{children:d.name})]},d.name))}),o.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-5 rounded-2xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl",onClick:Sp,children:p.idVerified?"Place Order":"🆔 Verify Age & Place Order"})]})]})})]}),e==="id-verification"&&o.jsxs("div",{className:"pb-20 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-lg",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ID Verification"}),o.jsx("p",{className:"text-green-100 text-lg",children:"Verify your age to complete purchase"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-2xl p-6 mb-8 shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-amber-800 mb-3",children:[o.jsx(Tc,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Age Verification Required"})]}),o.jsx("p",{className:"text-amber-700 leading-relaxed",children:"Please upload a valid government-issued ID to verify you are 21 or older. Your information is secure and encrypted."})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Acceptable ID Types"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{name:"Driver's License",icon:"🚗"},{name:"State ID Card",icon:"🆔"},{name:"Passport",icon:"📘"},{name:"Military ID",icon:"🎖️"}].map(d=>o.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-4 text-center hover:border-emerald-200 transition-colors shadow-sm",children:[o.jsx("div",{className:"text-2xl mb-2",children:d.icon}),o.jsx("span",{className:"text-sm font-semibold text-gray-800",children:d.name})]},d.name))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Upload Your ID"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-3xl p-10 text-center bg-gradient-to-br from-gray-50 to-white hover:border-emerald-300 transition-colors",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsxs("button",{type:"button",onClick:()=>alert("Camera functionality would open here"),className:"flex flex-col items-center space-y-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-6 rounded-2xl hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:[o.jsx(l0,{className:"w-8 h-8"}),o.jsx("span",{className:"text-sm font-bold",children:"Take Photo"})]}),o.jsxs("button",{type:"button",onClick:()=>alert("File upload would open here"),className:"flex flex-col items-center space-y-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white px-8 py-6 rounded-2xl hover:from-gray-700 hover:to-gray-800 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:[o.jsx(y0,{className:"w-8 h-8"}),o.jsx("span",{className:"text-sm font-bold",children:"Upload File"})]})]}),o.jsx("p",{className:"text-gray-600 font-medium",children:"Make sure your ID is clearly visible and not blurry"})]})}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:[o.jsx("h4",{className:"font-bold mb-3 text-blue-900 text-lg",children:"Photo Guidelines:"}),o.jsxs("ul",{className:"text-blue-800 space-y-2 font-medium",children:[o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(At,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Ensure all text is clearly readable"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(At,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Include all four corners of the ID"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(At,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Avoid glare and shadows"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(At,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Use a dark background"})]})]})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>r("cart"),className:"flex-1 bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:kp,className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-2xl font-bold hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl",children:"Verify ID"})]})]})]})]})]}),e==="orders"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Your Orders"}),o.jsx("p",{className:"text-green-100 text-lg",children:"Track your deliveries"})]}),o.jsx("div",{className:"p-6 space-y-6",children:y.map(d=>o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:d.id}),o.jsx("p",{className:"text-gray-600 font-medium",children:d.date}),o.jsxs("p",{className:"text-sm text-gray-500",children:["ETA: ",d.estimatedDelivery]})]}),o.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-bold ${d.status==="delivered"?"bg-green-100 text-green-800":d.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:d.status==="delivered"?"✅ Delivered":d.status==="cancelled"?"❌ Cancelled":"🚚 In Transit"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Items:"}),o.jsx("p",{className:"font-semibold text-gray-900",children:d.items.join(", ")})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-black text-xl text-gray-900",children:["$",d.total]}),o.jsx("button",{type:"button",onClick:()=>P({isOpen:!0,order:d}),className:"bg-emerald-600 text-white px-6 py-3 rounded-2xl font-bold hover:bg-emerald-700 transition-colors shadow-lg hover:shadow-xl",children:"📍 Track Order"})]})]},d.id))})]}),e==="profile"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),o.jsx("p",{className:"text-green-100 text-lg",children:"Manage your account & preferences"})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx(Ys,{className:"w-10 h-10 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:p.name}),o.jsx("p",{className:"text-gray-600 font-medium",children:p.email}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.idVerified&&o.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[o.jsx(At,{className:"w-3 h-3"}),o.jsx("span",{children:"ID Verified"})]}),o.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:"Premium Member"})]})]}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!0,type:"edit-profile"}),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Pc,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-3xl p-6 border border-emerald-100 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"🪙 FS Coin Rewards"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!0,type:"rewards"}),className:"text-emerald-600 hover:text-emerald-700 font-semibold text-sm",children:"View Details"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-4xl font-black text-emerald-600",children:p.rewards}),o.jsx("span",{className:"font-semibold text-gray-600",children:"Available Balance"})]}),o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Earn 1 FS Coin for every $1 spent"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Account Settings"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{icon:"💳",title:"Payment Methods",desc:"Manage cards & payment",type:"payment"},{icon:"🔔",title:"Notifications",desc:"Push & email settings",type:"notifications"},{icon:"🔒",title:"Privacy & Security",desc:"Account protection",type:"privacy"},{icon:"📍",title:"Delivery Addresses",desc:"Manage locations",type:"addresses"}].map((d,x)=>o.jsxs("button",{type:"button",onClick:()=>z({isOpen:!0,type:d.type}),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all transform hover:scale-[1.02] text-left",children:[o.jsx("div",{className:"text-2xl mb-2",children:d.icon}),o.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]},x))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"App Preferences"}),o.jsx("div",{className:"space-y-3",children:[{key:"darkMode",icon:"🌙",title:"Dark Mode",desc:"Switch to dark theme",enabled:Me.darkMode},{key:"biometricLogin",icon:"📱",title:"Biometric Login",desc:"Use Face ID / Touch ID",enabled:Me.biometricLogin},{key:"soundEffects",icon:"🔊",title:"Sound Effects",desc:"App sounds & notifications",enabled:Me.soundEffects},{key:"analytics",icon:"📊",title:"Usage Analytics",desc:"Help improve the app",enabled:Me.analytics}].map((d,x)=>o.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]})]}),o.jsx("button",{type:"button",onClick:()=>op(d.key),className:`w-12 h-6 rounded-full transition-colors cursor-pointer ${d.enabled?"bg-emerald-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${d.enabled?"translate-x-6":"translate-x-0.5"}`})})]},x))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Support & Help"}),o.jsx("div",{className:"space-y-3",children:[{icon:"❓",title:"Help Center",desc:"FAQs and guides",type:"help"},{icon:"💬",title:"Contact Support",desc:"Get help from our team",type:"support"},{icon:"⭐",title:"Rate App",desc:"Share your feedback",type:"rate"},{icon:"ℹ️",title:"About Faded Skies",desc:"App info and version",type:"about"}].map((d,x)=>o.jsxs("button",{type:"button",onClick:()=>z({isOpen:!0,type:d.type}),className:"w-full bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("span",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]})]},x))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:()=>r("orders"),className:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 rounded-2xl p-5 text-left border border-blue-200 hover:from-blue-100 hover:to-indigo-100 transition-colors font-bold shadow-sm flex items-center space-x-3",children:[o.jsx(Js,{className:"w-6 h-6"}),o.jsx("span",{children:"View Order History"})]}),o.jsxs("button",{type:"button",onClick:_p,className:"w-full bg-gradient-to-r from-red-50 to-red-100 text-red-600 rounded-2xl p-5 text-left border border-red-200 hover:from-red-100 hover:to-red-200 transition-colors font-bold shadow-sm flex items-center space-x-3",children:[o.jsx("span",{className:"text-xl",children:"🚪"}),o.jsx("span",{children:"Sign Out"})]})]})]})]}),e==="support"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Support Center"}),o.jsx("p",{className:"text-green-100 text-lg",children:"We're here to help 24/7"})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{type:"button",onClick:hu,className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl p-6 text-left hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Mr,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Live Chat"})]}),o.jsx("p",{className:"text-blue-100 text-sm",children:"Get instant help from our team"}),o.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{children:"Online now"})]})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Call initiated: +1 (512) 555-WEED"),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl p-6 text-left hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("span",{className:"text-xl",children:"📞"}),o.jsx("span",{className:"font-bold text-lg",children:"Call Us"})]}),o.jsx("p",{className:"text-green-100 text-sm",children:"Speak with support directly"}),o.jsx("p",{className:"text-xs text-green-200 mt-2",children:"(512) 555-WEED"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"How can we help?"}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{icon:"📦",title:"Order Issues",desc:"Track orders, delivery problems, returns",color:"from-orange-500 to-red-500"},{icon:"💳",title:"Payment & Billing",desc:"Payment methods, refunds, FS Coins",color:"from-blue-500 to-indigo-500"},{icon:"🆔",title:"Account & Verification",desc:"ID verification, account settings",color:"from-purple-500 to-pink-500"},{icon:"🌿",title:"Product Questions",desc:"Strains, effects, lab results",color:"from-green-500 to-emerald-500"},{icon:"🚚",title:"Delivery Areas",desc:"Service areas, delivery times",color:"from-yellow-500 to-orange-500"},{icon:"⚖️",title:"Legal & Compliance",desc:"Laws, regulations, licensing",color:"from-gray-500 to-gray-600"}].map((d,x)=>o.jsxs("button",{type:"button",onClick:()=>alert(`Opening ${d.title} help section...`),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${d.color} rounded-xl flex items-center justify-center text-white text-xl shadow-md`,children:d.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]}),o.jsx("span",{className:"text-gray-400",children:"›"})]},x))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Frequently Asked Questions"}),o.jsx("div",{className:"space-y-3",children:[{question:"How long does delivery take?",answer:"Most deliveries arrive within 1-2 hours. Express delivery is available for orders over $150."},{question:"What's the minimum order amount?",answer:"Our minimum order is $25. Free delivery on orders over $100."},{question:"Do I need to show ID upon delivery?",answer:"Yes, you must show a valid government-issued ID proving you're 21+ at the time of delivery."},{question:"What payment methods do you accept?",answer:"We accept cash, debit cards, Aeropay, Apple Pay, Google Pay, and FS Coins."},{question:"Can I return products?",answer:"Due to cannabis regulations, we cannot accept returns. However, we'll replace any defective products."}].map((d,x)=>o.jsxs("details",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:[o.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer hover:text-emerald-600 transition-colors",children:d.question}),o.jsx("p",{className:"text-gray-600 mt-3 leading-relaxed",children:d.answer})]},x))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Other Ways to Reach Us"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>alert("Email form opened: support@fadedskies.com"),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-xl",children:"✉️"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Email Support"}),o.jsx("p",{className:"text-sm text-gray-600",children:"support@fadedskies.com • Response within 2 hours"})]})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Opening WhatsApp chat..."),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-xl",children:"💬"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"WhatsApp"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Quick messaging support"})]})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Opening ticket submission form..."),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-xl",children:"🎫"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Submit a Ticket"}),o.jsx("p",{className:"text-sm text-gray-600",children:"For complex issues requiring investigation"})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-6 border border-emerald-100",children:[o.jsx("h3",{className:"font-bold text-lg text-emerald-800 mb-3",children:"🕒 Support Hours"}),o.jsxs("div",{className:"space-y-2 text-emerald-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Monday - Friday:"}),o.jsx("span",{children:"8:00 AM - 10:00 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Saturday - Sunday:"}),o.jsx("span",{children:"9:00 AM - 9:00 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Emergency Line:"}),o.jsx("span",{className:"font-bold",children:"24/7 Available"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Quick Links"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Terms of Service",icon:"📄"},{name:"Privacy Policy",icon:"🔒"},{name:"Delivery Areas",icon:"🗺️"},{name:"Product Lab Results",icon:"🧪"},{name:"Cannabis Education",icon:"📚"},{name:"Loyalty Program",icon:"🪙"}].map((d,x)=>o.jsxs("button",{type:"button",onClick:()=>alert(`Opening ${d.name}...`),className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 hover:shadow-md transition-all text-left flex items-center space-x-3",children:[o.jsx("span",{className:"text-lg",children:d.icon}),o.jsx("span",{className:"font-medium text-gray-900 text-sm",children:d.name})]},x))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-6 border border-red-100",children:[o.jsx("h3",{className:"font-bold text-lg text-red-800 mb-2",children:"🚨 Emergency Support"}),o.jsx("p",{className:"text-red-700 text-sm mb-3",children:"For urgent delivery issues or safety concerns"}),o.jsx("button",{type:"button",onClick:()=>alert("Emergency line: +1 (512) 555-911"),className:"bg-red-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"📞 Call Emergency Line"})]})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 p-4 flex justify-around shadow-xl",children:[{id:"home",icon:p0,label:"Shop"},{id:"orders",icon:Js,label:"Orders"},{id:"profile",icon:Ys,label:"Profile"},{id:"support",icon:Mr,label:"Support"}].map(d=>o.jsxs("button",{type:"button",onClick:()=>r(d.id),className:`flex flex-col items-center p-3 rounded-xl transition-all ${e===d.id?"bg-emerald-100 text-emerald-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(d.icon,{className:"w-6 h-6 mb-1"}),o.jsx("span",{className:"text-xs font-semibold",children:d.label})]},d.id))})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-600 via-green-600 to-teal-700 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 w-full max-w-md shadow-2xl border border-white/20",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx("span",{className:"text-white text-2xl font-bold",children:"FS"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n==="login"?"Welcome Back":n==="signup"?"Join Faded Skies":"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-medium",children:n==="login"?"Sign in to your account":n==="signup"?"Create your premium account":"Enter your email to reset password"})]}),o.jsxs("div",{className:"space-y-5",children:[n==="signup"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Full Name"}),o.jsx("input",{type:"text",value:v.name,onChange:d=>w(x=>({...x,name:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your full name",autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Date of Birth"}),o.jsx("input",{type:"date",value:v.dateOfBirth,onChange:d=>w(x=>({...x,dateOfBirth:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",autoComplete:"bday"}),o.jsx("p",{className:"text-xs text-amber-600 font-medium mt-1",children:"Must be 21+ to use this service"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Phone Number"}),o.jsx("input",{type:"tel",value:v.phone,onChange:d=>w(x=>({...x,phone:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"(555) 123-4567",autoComplete:"tel"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Address"}),o.jsx("input",{type:"email",value:v.email,onChange:d=>w(x=>({...x,email:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your email",autoComplete:"email"})]}),n!=="forgot"&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:f?"text":"password",value:v.password,onChange:d=>w(x=>({...x,password:d.target.value})),className:"w-full px-4 py-4 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your password",autoComplete:n==="login"?"current-password":"new-password"}),o.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:f?o.jsx(d0,{className:"w-5 h-5"}):o.jsx(h0,{className:"w-5 h-5"})})]})]}),n==="signup"&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Confirm Password"}),o.jsx("input",{type:"password",value:v.confirmPassword,onChange:d=>w(x=>({...x,confirmPassword:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Confirm your password",autoComplete:"new-password"})]}),o.jsx("button",{type:"button",onClick:jp,className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:n==="login"?"Sign In":n==="signup"?"Create Account":"Send Reset Link"})]}),o.jsxs("div",{className:"mt-8 text-center",children:[n==="login"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>s("forgot"),className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Forgot your password?"}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Don't have an account? "}),o.jsx("button",{type:"button",onClick:()=>{s("signup"),_o()},className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Sign up"})]})]}),n==="signup"&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Already have an account? "}),o.jsx("button",{type:"button",onClick:()=>{s("login"),_o()},className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Sign in"})]}),n==="forgot"&&o.jsx("button",{type:"button",onClick:()=>{s("login"),_o()},className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Back to sign in"})]}),n==="login"&&o.jsx("div",{className:"mt-6 text-xs text-gray-500 text-center bg-gray-50 p-4 rounded-xl",children:"Secure login powered by Supabase. Your data is protected."}),n==="signup"&&o.jsx("div",{className:"mt-6 text-xs text-gray-500 text-center bg-gray-50 p-4 rounded-xl",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. You must be 21+ to use this service."})]})}),B.isOpen&&B.order&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl shadow-2xl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Track Order"}),o.jsx("button",{type:"button",onClick:()=>P({isOpen:!1,order:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-green-100 text-lg",children:B.order.id}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${B.order.status==="delivered"?"bg-green-600 text-white":B.order.status==="cancelled"?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:B.order.status==="delivered"?"✅ Delivered":B.order.status==="cancelled"?"❌ Cancelled":"🚚 In Transit"})]})]}),o.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[B.order.status==="cancelled"&&o.jsx("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 rounded-2xl p-6 mb-6 border border-red-100",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:"Order Cancelled"}),o.jsx("p",{className:"text-red-600 font-semibold",children:"This order has been cancelled by admin"}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"If you have any questions, please contact support"})]})]})}),B.order.status==="in-transit"&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-6 border border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx(Ys,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:B.order.driver}),o.jsx("p",{className:"text-blue-600 font-semibold",children:"Your Delivery Driver"}),o.jsx("p",{className:"text-sm text-gray-600",children:B.order.vehicle})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-green-600 font-bold",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{children:"Live"})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:B.order.currentLocation})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>alert("Message sent to driver!"),className:"bg-blue-600 text-white px-4 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Mr,{className:"w-4 h-4"}),o.jsx("span",{children:"Message"})]}),o.jsxs("button",{type:"button",onClick:()=>D({isOpen:!0,order:B.order}),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[o.jsx(Qs,{className:"w-4 h-4"}),o.jsx("span",{children:"Live Map"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg mb-4 text-gray-900",children:"Tracking Timeline"}),o.jsx("div",{className:"space-y-4",children:[{title:"Order Confirmed",description:"Your order has been received and confirmed",time:"2:15 PM",completed:!0,icon:"✅"},{title:"Age Verification Complete",description:"ID verification successful",time:"2:16 PM",completed:!0,icon:"🆔"},{title:"Preparing Order",description:"Your items are being carefully prepared",time:"2:20 PM",completed:!0,icon:"📦"},B.order.status==="delivered"?{title:"Out for Delivery",description:`Driver ${B.order.driver} is on the way`,time:"2:45 PM",completed:!0,icon:"🚗"}:{title:"Out for Delivery",description:`Driver ${B.order.driver} is ${B.order.currentLocation}`,time:`ETA ${B.order.estimatedDelivery}`,completed:!1,icon:"🚗",current:!0},{title:B.order.status==="delivered"?"Delivered":"Delivery",description:B.order.status==="delivered"?"Order delivered successfully":"We'll notify you when delivered",time:B.order.deliveredAt||"Pending",completed:B.order.status==="delivered",icon:"🏠"}].map((d,x)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${d.completed?"bg-green-500 text-white":d.current?"bg-blue-500 text-white animate-pulse":"bg-gray-200 text-gray-500"}`,children:d.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h5",{className:`font-bold ${d.completed||d.current?"text-gray-900":"text-gray-500"}`,children:d.title}),o.jsx("span",{className:`text-sm font-medium ${d.completed||d.current?"text-gray-700":"text-gray-400"}`,children:d.time})]}),o.jsx("p",{className:`text-sm ${d.completed||d.current?"text-gray-600":"text-gray-400"}`,children:d.description})]})]},x))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:"Order Items"}),B.order.items.map((d,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[o.jsx("span",{className:"font-medium text-gray-900",children:d}),o.jsx("span",{className:"text-sm text-gray-600",children:"1x"})]},x))]}),o.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4 border border-emerald-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:["$",B.order.total]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Delivery Address"}),o.jsx("p",{className:"font-bold text-gray-900",children:p.address})]})]})})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[B.order.status==="in-transit"&&o.jsx("button",{type:"button",onClick:()=>alert("Support contacted! We'll help resolve any issues."),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-4 rounded-2xl font-bold hover:from-amber-600 hover:to-orange-600 transition-all shadow-lg",children:"📞 Contact Support"}),o.jsx("button",{type:"button",onClick:()=>P({isOpen:!1,order:null}),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"Close"})]})]})]})}),M.isOpen&&M.type&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[(()=>{switch(M.type){case"edit-profile":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"✏️ Edit Profile"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Update your personal information"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ys,{className:"w-12 h-12 text-white"})}),o.jsx("button",{type:"button",className:"bg-emerald-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-semibold hover:bg-emerald-200 transition-colors",children:"Change Photo"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:Y.name,onChange:d=>Ue({...Y,name:d.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:Y.email,onChange:d=>Ue({...Y,email:d.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:Y.phone,onChange:d=>Ue({...Y,phone:d.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"(555) 123-4567"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Age"}),o.jsx("input",{type:"number",value:Y.age||"",onChange:d=>Ue({...Y,age:parseInt(d.target.value)||0}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your age",min:"21",max:"120"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),o.jsx("input",{type:"text",value:Y.address,onChange:d=>Ue({...Y,address:d.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your delivery address"})]})]}),o.jsx("button",{type:"button",onClick:async()=>{try{const{data:{user:d}}=await Ne.auth.getUser();if(!d){$("Not authenticated. Please log in again."),A(!0);return}const{error:x}=await Ne.from("users").update({name:Y.name,email:Y.email,phone:Y.phone,age:Y.age,address:Y.address}).eq("id",d.id);if(x){console.error("Failed to update profile:",x),$("Failed to update profile. Please try again."),A(!0);return}m(T=>({...T,name:Y.name,email:Y.email,phone:Y.phone,age:Y.age,address:Y.address})),z({isOpen:!1,type:null}),$("Profile updated successfully!"),A(!0)}catch(d){console.error("Profile update error:",d),$("Failed to update profile. Please try again."),A(!0)}},className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-2xl font-bold hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg",children:"Save Changes"})]})})]});case"about":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"ℹ️ About Faded Skies"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Premium cannabis delivery app"})]}),o.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-white text-2xl font-bold",children:"FS"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Faded Skies"}),o.jsx("p",{className:"text-gray-600 font-medium",children:"Version 2.1.0"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4 border border-emerald-100",children:[o.jsx("h4",{className:"font-bold text-emerald-800 mb-2",children:"🌿 Our Mission"}),o.jsx("p",{className:"text-emerald-700 text-sm",children:"Providing safe, legal access to premium cannabis products with fast, reliable delivery and exceptional customer service."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Founded"}),o.jsx("span",{className:"text-gray-600",children:"2020"})]}),o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Headquarters"}),o.jsx("span",{className:"text-gray-600",children:"Austin, Texas"})]}),o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Licensed"}),o.jsx("span",{className:"text-green-600 font-bold",children:"✅ Fully Compliant"})]}),o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Delivery Areas"}),o.jsx("span",{className:"text-gray-600",children:"15+ Cities"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"button",className:"w-full bg-emerald-100 text-emerald-700 py-3 rounded-2xl font-bold hover:bg-emerald-200 transition-colors",children:"📄 Terms of Service"}),o.jsx("button",{type:"button",className:"w-full bg-blue-100 text-blue-700 py-3 rounded-2xl font-bold hover:bg-blue-200 transition-colors",children:"🔒 Privacy Policy"}),o.jsx("button",{type:"button",className:"w-full bg-gray-100 text-gray-700 py-3 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"📜 Licenses & Compliance"})]}),o.jsxs("div",{className:"text-center text-xs text-gray-500 pt-4 border-t border-gray-200",children:[o.jsx("p",{children:"© 2025 Faded Skies. All rights reserved."}),o.jsx("p",{className:"mt-1",children:"Licensed cannabis retailer • 21+ only"})]})]})]})]});case"payment":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"💳 Payment Methods"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-blue-100",children:"Manage your payment options"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:np?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Add Payment Method"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("select",{value:le.type,onChange:d=>pr(x=>({...x,type:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[o.jsx("option",{value:"card",children:"Credit/Debit Card"}),o.jsx("option",{value:"paypal",children:"PayPal"}),o.jsx("option",{value:"googlepay",children:"Google Pay"})]})]}),le.type==="card"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cardholder Name"}),o.jsx("input",{type:"text",value:le.name,onChange:d=>pr(x=>({...x,name:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"John Doe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Card Number"}),o.jsx("input",{type:"text",value:le.cardNumber,onChange:d=>{const x=d.target.value.replace(/\D/g,"").slice(0,16);pr(T=>({...T,cardNumber:x}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"1234 5678 9012 3456"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expiry Date"}),o.jsx("input",{type:"text",value:le.expiryDate,onChange:d=>{let x=d.target.value.replace(/\D/g,"");x.length>=2&&(x=x.slice(0,2)+"/"+x.slice(2,4)),pr(T=>({...T,expiryDate:x}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"MM/YY",maxLength:5})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CVV"}),o.jsx("input",{type:"text",value:le.cvv,onChange:d=>{const x=d.target.value.replace(/\D/g,"").slice(0,3);pr(T=>({...T,cvv:x}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"123"})]})]})]}),le.type!=="card"&&o.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[o.jsxs("p",{className:"text-blue-800 font-semibold mb-2",children:[le.type==="paypal"?"💙 PayPal":"🔵 Google Pay"," Integration"]}),o.jsx("p",{className:"text-blue-600 text-sm",children:"You'll be redirected to complete the setup"})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{go(!1),pr({type:"card",cardNumber:"",expiryDate:"",cvv:"",name:""})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:up,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-bold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg",children:"Add Method"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4 mb-6",children:mo.map(d=>o.jsx("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-5 hover:border-blue-200 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-900",children:[d.type," ",d.details]}),o.jsx("p",{className:"text-sm text-gray-600",children:d.status})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[d.primary&&o.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:"PRIMARY"}),!d.primary&&d.type!=="FS Coin"&&o.jsx("button",{type:"button",onClick:()=>dp(d.id),className:"text-blue-600 hover:text-blue-700 text-xs font-semibold",children:"Set Primary"}),d.type!=="FS Coin"&&o.jsx("button",{type:"button",onClick:()=>cp(d.id),className:"text-red-500 hover:text-red-600",children:o.jsx(ke,{className:"w-4 h-4"})})]})]})},d.id))}),o.jsx("button",{type:"button",onClick:()=>go(!0),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-2xl font-bold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg mb-4",children:"➕ Add New Payment Method"})]})})]});case"addresses":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"📍 Delivery Addresses"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Manage your delivery locations"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:sp?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:En?"Edit Address":"Add New Address"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address Name *"}),o.jsx("input",{type:"text",value:G.name,onChange:d=>ot(x=>({...x,name:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Home, Work, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:G.type,onChange:d=>ot(x=>({...x,type:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[o.jsx("option",{value:"home",children:"🏠 Home"}),o.jsx("option",{value:"work",children:"🏢 Work"}),o.jsx("option",{value:"other",children:"📍 Other"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street Address *"}),o.jsx("input",{type:"text",value:G.address,onChange:d=>ot(x=>({...x,address:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Enter your delivery address"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),o.jsx("input",{type:"text",value:G.city,onChange:d=>ot(x=>({...x,city:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Austin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State"}),o.jsxs("select",{value:G.state,onChange:d=>ot(x=>({...x,state:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[o.jsx("option",{value:"TX",children:"Texas"}),o.jsx("option",{value:"CA",children:"California"}),o.jsx("option",{value:"CO",children:"Colorado"}),o.jsx("option",{value:"NY",children:"New York"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ZIP Code *"}),o.jsx("input",{type:"text",value:G.zipCode,onChange:d=>{const x=d.target.value.replace(/\D/g,"").slice(0,5);ot(T=>({...T,zipCode:x}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"78701",maxLength:5})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Instructions"}),o.jsx("textarea",{value:G.instructions,onChange:d=>ot(x=>({...x,instructions:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors resize-none",placeholder:"Ring doorbell, leave at door, etc.",rows:3})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[o.jsx("h4",{className:"font-bold text-amber-800 mb-2",children:"🚚 Delivery Zone Check"}),o.jsx("p",{className:"text-amber-700 text-sm",children:"We'll verify this address is in our delivery area before saving. Current service areas: Austin, Round Rock, Cedar Park, Lakeway."})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{Cn(!1),Ts(null),ot({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:En?fp:hp,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 rounded-xl font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:En?"Update Address":"Save Address"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4 mb-6",children:yo.map(d=>o.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-5 hover:border-green-200 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-2xl",children:d.type==="home"?"🏠":d.type==="work"?"🏢":"📍"}),o.jsx("h4",{className:"font-bold text-gray-900",children:d.name}),d.primary&&o.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold",children:"PRIMARY"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[!d.primary&&o.jsx("button",{type:"button",onClick:()=>mp(d.id),className:"text-green-600 hover:text-green-700 text-xs font-semibold",children:"Set Primary"}),o.jsx("button",{type:"button",onClick:()=>gp(d),className:"text-blue-500 hover:text-blue-600",children:o.jsx(Pc,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>pp(d.id),className:"text-red-500 hover:text-red-600",children:o.jsx(ke,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:d.address}),d.instructions&&o.jsxs("p",{className:"text-gray-500 text-xs mt-2 italic",children:["Instructions: ",d.instructions]})]},d.id))}),o.jsx("button",{type:"button",onClick:()=>Cn(!0),className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-2xl font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"➕ Add New Address"})]})})]});case"notifications":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🔔 Notifications"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-purple-100",children:"Customize your notification preferences"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:[{key:"orderUpdates",title:"Order Updates",desc:"Status changes and delivery notifications",enabled:fr.orderUpdates},{key:"promotionsDeals",title:"Promotions & Deals",desc:"Special offers and discounts",enabled:fr.promotionsDeals},{key:"newProducts",title:"New Products",desc:"Notifications about new arrivals",enabled:fr.newProducts},{key:"deliveryReminders",title:"Delivery Reminders",desc:"Reminders before delivery windows",enabled:fr.deliveryReminders},{key:"fsRewards",title:"FS Coin Rewards",desc:"Updates about your rewards balance",enabled:fr.fsRewards},{key:"smsNotifications",title:"SMS Notifications",desc:"Text message updates",enabled:fr.smsNotifications},{key:"emailUpdates",title:"Email Updates",desc:"Email notifications and newsletters",enabled:fr.emailUpdates}].map((d,x)=>o.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]}),o.jsx("button",{type:"button",onClick:()=>ap(d.key),className:`w-12 h-6 rounded-full transition-colors cursor-pointer ${d.enabled?"bg-purple-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${d.enabled?"translate-x-6":"translate-x-0.5"}`})})]},x))})]});case"privacy":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-gray-600 to-gray-800 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🔒 Privacy & Security"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-gray-100",children:"Control your privacy and data settings"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Tc,{className:"w-5 h-5 text-amber-600"}),o.jsx("h4",{className:"font-bold text-amber-800",children:"Data Protection"})]}),o.jsx("p",{className:"text-amber-700 text-sm",children:"Your personal information is encrypted and securely stored."})]}),[{key:"locationTracking",title:"Location Tracking",desc:"Allow location access for delivery",enabled:Nn.locationTracking},{key:"purchaseHistory",title:"Purchase History",desc:"Store order history for recommendations",enabled:Nn.purchaseHistory},{key:"analytics",title:"Analytics",desc:"Help improve the app with usage data",enabled:Nn.analytics},{key:"thirdPartySharing",title:"Third-party Sharing",desc:"Share data with partners for offers",enabled:Nn.thirdPartySharing},{key:"biometricLogin",title:"Biometric Login",desc:"Use fingerprint/face ID for login",enabled:Nn.biometricLogin}].map((d,x)=>o.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]}),o.jsx("button",{type:"button",onClick:()=>lp(d.key),className:`w-12 h-6 rounded-full transition-colors cursor-pointer ${d.enabled?"bg-gray-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${d.enabled?"translate-x-6":"translate-x-0.5"}`})})]},x)),o.jsxs("div",{className:"space-y-3 pt-4",children:[o.jsx("button",{type:"button",className:"w-full bg-blue-600 text-white py-3 rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"📄 View Privacy Policy"}),o.jsx("button",{type:"button",className:"w-full bg-amber-600 text-white py-3 rounded-2xl font-bold hover:bg-amber-700 transition-colors",children:"🔑 Change Password"}),o.jsx("button",{type:"button",className:"w-full bg-red-100 text-red-600 py-3 rounded-2xl font-bold hover:bg-red-200 transition-colors",children:"🗑️ Delete My Account"})]})]})})]});case"rewards":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🪙 FS Coin Rewards"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-amber-100",children:"Your rewards program details"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl font-black text-amber-600 mb-2",children:p.rewards}),o.jsx("p",{className:"text-gray-600 font-semibold",children:"FS Coins Available"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Worth $",(p.rewards*.01).toFixed(2)," in credits"]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4 border border-amber-200",children:[o.jsx("h4",{className:"font-bold text-amber-800 mb-3",children:"How to Earn FS Coins:"}),o.jsxs("ul",{className:"text-amber-700 text-sm space-y-2",children:[o.jsx("li",{children:"• Earn 1 coin for every $1 spent"}),o.jsx("li",{children:"• Get 100 bonus coins on first order"}),o.jsx("li",{children:"• Earn 50 coins for each friend referral"}),o.jsx("li",{children:"• Special promotions and events"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Recent Activity:"}),o.jsx("div",{className:"space-y-2",children:[{action:"Purchase reward",amount:"+45",date:"2 days ago"},{action:"Referral bonus",amount:"+50",date:"1 week ago"},{action:"Used for discount",amount:"-25",date:"2 weeks ago"}].map((d,x)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:d.action}),o.jsx("p",{className:"text-sm text-gray-500",children:d.date})]}),o.jsxs("span",{className:`font-bold ${d.amount.startsWith("+")?"text-green-600":"text-red-600"}`,children:[d.amount," coins"]})]},x))})]}),o.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white py-4 rounded-2xl font-bold hover:from-amber-700 hover:to-orange-700 transition-all shadow-lg",children:"Redeem Rewards"})]})})]});case"help":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"❓ Help Center"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-blue-100",children:"Find answers to common questions"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-4",children:[[{category:"Getting Started",questions:[{q:"How do I verify my age?",a:"Upload a government-issued ID in the verification section."},{q:"What areas do you deliver to?",a:"We deliver throughout Austin and surrounding areas."}]},{category:"Ordering",questions:[{q:"What's the minimum order?",a:"$25 minimum, free delivery over $100."},{q:"How do I use FS Coins?",a:"Apply coins at checkout - 100 coins = $1 credit."}]},{category:"Delivery",questions:[{q:"How long does delivery take?",a:"Typically 1-2 hours, trackable in real-time."},{q:"Do I need to be present?",a:"Yes, valid ID required at delivery for age verification."}]}].map((d,x)=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2 text-lg",children:d.category}),o.jsx("div",{className:"space-y-2",children:d.questions.map((T,L)=>o.jsxs("details",{className:"bg-gray-50 rounded-xl p-3",children:[o.jsx("summary",{className:"font-semibold text-gray-800 cursor-pointer text-sm",children:T.q}),o.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:T.a})]},L))})]},x)),o.jsx("button",{type:"button",onClick:()=>{z({isOpen:!1,type:null}),r("support")},className:"w-full bg-blue-600 text-white py-3 rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"View Full Help Center"})]})})]});case"support":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"💬 Contact Support"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Get help from our support team"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-100",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-green-700 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"font-bold",children:"Support is online"})]}),o.jsx("p",{className:"text-green-600 text-sm",children:"Average response time: 2 minutes"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:hu,className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Start Live Chat"})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Calling: +1 (512) 555-WEED"),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:"📞"}),o.jsx("span",{children:"Call Support"})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Email form opened: support@fadedskies.com"),className:"w-full bg-gray-600 text-white py-4 rounded-2xl font-bold hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:"✉️"}),o.jsx("span",{children:"Send Email"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Support Hours"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Monday - Friday:"}),o.jsx("span",{children:"8 AM - 10 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Weekends:"}),o.jsx("span",{children:"9 AM - 9 PM"})]})]})]}),o.jsx("button",{type:"button",onClick:()=>{z({isOpen:!1,type:null}),r("support")},className:"w-full bg-emerald-100 text-emerald-700 py-3 rounded-2xl font-bold hover:bg-emerald-200 transition-colors",children:"Visit Support Center"})]})})]});case"rate":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"⭐ Rate Our App"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-orange-100",children:"Help us improve with your feedback"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"How would you rate Faded Skies?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Your feedback helps us serve you better"}),o.jsx("div",{className:"flex justify-center space-x-2 mb-6",children:[1,2,3,4,5].map(d=>o.jsx("button",{type:"button",onClick:()=>alert(`You rated us ${d} star${d>1?"s":""}! Thank you for your feedback.`),className:"text-4xl text-yellow-400 hover:text-yellow-500 transition-colors",children:"⭐"},d))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Quick Feedback"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{emoji:"🚀",text:"Fast Delivery"},{emoji:"🌿",text:"Great Products"},{emoji:"💯",text:"Easy to Use"},{emoji:"💰",text:"Good Prices"},{emoji:"🏆",text:"Excellent Service"},{emoji:"📱",text:"Love the App"}].map((d,x)=>o.jsxs("button",{type:"button",onClick:()=>alert(`Thanks for the "${d.text}" feedback!`),className:"bg-gray-50 hover:bg-gray-100 rounded-xl p-3 text-center transition-colors border border-gray-200",children:[o.jsx("div",{className:"text-2xl mb-1",children:d.emoji}),o.jsx("div",{className:"text-sm font-semibold text-gray-800",children:d.text})]},x))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"button",onClick:()=>alert("Opening App Store for rating..."),className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"📱 Rate on App Store"}),o.jsx("button",{type:"button",onClick:()=>alert("Opening Google Play for rating..."),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition-colors",children:"🤖 Rate on Google Play"}),o.jsx("button",{type:"button",onClick:()=>alert("Opening detailed feedback form..."),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"✍️ Detailed Feedback"})]})]})})]});default:return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Feature coming soon!"})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-gray-600 text-center py-8",children:"This feature is currently under development."})})]})}})(),o.jsx("div",{className:"p-4",children:o.jsx("button",{type:"button",onClick:()=>z({isOpen:!1,type:null}),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"Close"})})]})}),R.isOpen&&R.order&&o.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex flex-col",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 shadow-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>D({isOpen:!1,order:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Live Tracking"}),o.jsxs("p",{className:"text-blue-100 text-sm",children:[R.order.driver," • ETA ",R.order.estimatedDelivery]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500 px-3 py-1 rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm font-bold",children:"LIVE"})]})]})}),o.jsxs("div",{className:"flex-1 relative bg-gray-100",children:[o.jsxs("div",{className:"w-full h-full relative bg-gradient-to-br from-green-100 via-blue-50 to-gray-100",children:[o.jsx("div",{className:"absolute inset-0 opacity-20",children:o.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[o.jsx("defs",{children:o.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})})}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),o.jsx("div",{className:"absolute top-20 left-8 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-lg",children:o.jsx("span",{className:"text-sm font-bold text-gray-800",children:"South Lamar Blvd"})}),o.jsx("div",{className:"absolute top-40 right-12 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-lg rotate-45",children:o.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Barton Springs Rd"})}),o.jsx("div",{className:"absolute bottom-32 left-16 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-lg",children:o.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Zilker Park Dr"})}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"routeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1",stopOpacity:"0.8"}),o.jsx("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:"0.8"})]})}),o.jsx("path",{d:"M 80 120 Q 150 180, 220 140 T 320 200 Q 380 240, 420 180",stroke:"url(#routeGradient)",strokeWidth:"4",fill:"none",strokeDasharray:"10,5",className:"animate-pulse"})]}),o.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-1000",style:{left:`${30+Math.sin(Date.now()/1e4)*20}%`,top:`${40+Math.cos(Date.now()/8e3)*15}%`},children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full border-4 border-white shadow-lg flex items-center justify-center animate-bounce",children:o.jsx(Js,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"absolute -top-16 -left-8 bg-white/95 backdrop-blur-sm rounded-xl p-3 shadow-xl min-w-max",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-bold text-gray-900 text-sm",children:R.order.driver}),o.jsxs("p",{className:"text-blue-600 text-xs font-semibold",children:[Math.round($r.speed)," mph"]}),o.jsx("p",{className:"text-gray-600 text-xs",children:R.order.currentLocation})]}),o.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white/95"})]}),o.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-blue-400 rounded-full animate-ping opacity-75"})]})}),o.jsx("div",{className:"absolute bottom-20 right-20 transform -translate-x-1/2 -translate-y-1/2",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full border-4 border-white shadow-lg flex items-center justify-center",children:o.jsx(Qs,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"absolute -top-14 -left-12 bg-green-600 text-white rounded-xl p-2 shadow-xl min-w-max",children:[o.jsx("p",{className:"font-bold text-sm",children:"Your Address"}),o.jsx("p",{className:"text-xs opacity-90",children:p.address}),o.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-green-600"})]})]})}),o.jsx("div",{className:"absolute top-24 left-1/3 w-8 h-2 bg-yellow-400 rounded-full shadow-sm"}),o.jsx("div",{className:"absolute top-48 right-1/4 w-12 h-2 bg-red-500 rounded-full shadow-sm"}),o.jsx("div",{className:"absolute bottom-40 left-1/4 w-6 h-2 bg-green-500 rounded-full shadow-sm"})]}),o.jsxs("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[o.jsx("button",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg hover:bg-white transition-colors",children:o.jsx(zi,{className:"w-5 h-5 text-gray-800"})}),o.jsx("button",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg hover:bg-white transition-colors",children:o.jsx(Ec,{className:"w-5 h-5 text-gray-800"})})]}),o.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg",children:o.jsxs("div",{className:"w-8 h-8 relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-1 bg-red-500 h-4 rounded-full"})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center rotate-180",children:o.jsx("div",{className:"w-1 bg-gray-400 h-3 rounded-full"})}),o.jsx("span",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 text-xs font-bold text-red-500",children:"N"})]})})]}),o.jsxs("div",{className:"bg-white p-4 shadow-xl",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-blue-600 mb-1",children:[o.jsx(u0,{className:"w-4 h-4"}),o.jsx("span",{className:"font-bold text-sm",children:"ETA"})]}),o.jsx("p",{className:"font-black text-lg text-gray-900",children:R.order.estimatedDelivery})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-green-600 mb-1",children:[o.jsx(Qs,{className:"w-4 h-4"}),o.jsx("span",{className:"font-bold text-sm",children:"Distance"})]}),o.jsx("p",{className:"font-black text-lg text-gray-900",children:R.order.currentLocation})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-purple-600 mb-1",children:[o.jsx(Js,{className:"w-4 h-4"}),o.jsx("span",{className:"font-bold text-sm",children:"Speed"})]}),o.jsxs("p",{className:"font-black text-lg text-gray-900",children:[Math.round($r.speed)," mph"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>alert('Message sent to driver: "Hi! Just checking on delivery status."'),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-bold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[o.jsx(Mr,{className:"w-5 h-5"}),o.jsx("span",{children:"Message Driver"})]}),o.jsx("button",{type:"button",onClick:()=>D({isOpen:!1,order:null}),className:"bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Close Map"})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsxs("p",{className:"text-xs text-gray-500",children:["🛰️ GPS accurate to 3 meters • Last updated ",new Date().toLocaleTimeString()]})})]})]}),vo.isOpen&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl shadow-2xl max-h-[80vh] flex flex-col",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-t-3xl flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx(Mr,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"Live Support"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${Os==="online"?"bg-green-400 animate-pulse":Os==="away"?"bg-yellow-400":"bg-red-400"}`}),o.jsx("span",{className:"text-blue-100",children:Os==="online"?"Agent available":Os==="away"?"Slower responses":"High volume"})]})]})]}),o.jsx("button",{type:"button",onClick:yp,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(ke,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50 chat-messages",children:[uu.map(d=>o.jsx("div",{className:`flex ${d.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`flex items-start space-x-2 max-w-[80%] ${d.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white text-sm flex-shrink-0",children:d.avatar}),o.jsxs("div",{className:`rounded-2xl p-3 ${d.sender==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-900 rounded-bl-md shadow-sm border border-gray-100"}`,children:[d.sender==="agent"&&o.jsx("div",{className:"text-xs font-semibold text-blue-600 mb-1",children:d.name}),o.jsx("p",{className:"text-sm leading-relaxed",children:d.message}),o.jsx("div",{className:`text-xs mt-1 ${d.sender==="user"?"text-blue-100":"text-gray-500"}`,children:d.time})]})]})},d.id)),du&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white text-sm",children:"👩‍💼"}),o.jsxs("div",{className:"bg-white text-gray-900 rounded-2xl rounded-bl-md p-3 shadow-sm border border-gray-100",children:[o.jsx("div",{className:"text-xs font-semibold text-blue-600 mb-1",children:"Sarah from Support"}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})})]}),o.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 flex-shrink-0",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("div",{className:"flex-1 relative",children:o.jsx("textarea",{value:Lr,onChange:d=>xo(d.target.value),onKeyPress:vp,className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Type your message...",rows:1,style:{minHeight:"44px",maxHeight:"120px"}})}),o.jsx("button",{type:"button",onClick:bo,disabled:!Lr.trim(),className:`px-6 py-3 rounded-2xl font-bold transition-all ${Lr.trim()?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Send"})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"💬 Average response time: 2 minutes • Powered by Faded Skies Support"})})]})]})})]})})};na.createRoot(document.getElementById("root")).render(o.jsx(Q.StrictMode,{children:o.jsx(_x,{})}));
//# sourceMappingURL=index-QGapmRfj.js.map
