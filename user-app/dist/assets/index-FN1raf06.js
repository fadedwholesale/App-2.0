var Lf=Object.defineProperty;var Df=(t,e,r)=>e in t?Lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gn=(t,e,r)=>Df(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Tc={exports:{}},Si={},Oc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Ff=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),Za=Symbol.iterator;function Jf(t){return t===null||typeof t!="object"?null:(t=Za&&t[Za]||t["@@iterator"],typeof t=="function"?t:null)}var Ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rc=Object.assign,$c={};function on(t,e,r){this.props=t,this.context=e,this.refs=$c,this.updater=r||Ac}on.prototype.isReactComponent={};on.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};on.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ic(){}Ic.prototype=on.prototype;function zl(t,e,r){this.props=t,this.context=e,this.refs=$c,this.updater=r||Ac}var Bl=zl.prototype=new Ic;Bl.constructor=zl;Rc(Bl,on.prototype);Bl.isPureReactComponent=!0;var eu=Array.isArray,Lc=Object.prototype.hasOwnProperty,Wl={current:null},Dc={key:!0,ref:!0,__self:!0,__source:!0};function Mc(t,e,r){var n,s={},i=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Lc.call(e,n)&&!Dc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ls,type:t,key:i,ref:l,props:s,_owner:Wl.current}}function Yf(t,e){return{$$typeof:ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hl(t){return typeof t=="object"&&t!==null&&t.$$typeof===ls}function Xf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tu=/\/+/g;function no(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xf(""+t.key):e.toString(36)}function zs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ls:case Ff:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+no(l,0):n,eu(s)?(r="",t!=null&&(r=t.replace(tu,"$&/")+"/"),zs(s,e,r,"",function(c){return c})):s!=null&&(Hl(s)&&(s=Yf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(tu,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",eu(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+no(i,a);l+=zs(i,e,r,u,s)}else if(u=Jf(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+no(i,a++),l+=zs(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ys(t,e,r){if(t==null)return t;var n=[],s=0;return zs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Zf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Bs={transition:null},ep={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:Wl};function Uc(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:ys,forEach:function(t,e,r){ys(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ys(t,function(){e++}),e},toArray:function(t){return ys(t,function(e){return e})||[]},only:function(t){if(!Hl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=on;F.Fragment=zf;F.Profiler=Wf;F.PureComponent=zl;F.StrictMode=Bf;F.Suspense=Kf;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep;F.act=Uc;F.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Rc({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Wl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Lc.call(e,u)&&!Dc.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ls,type:t.type,key:s,ref:i,props:n,_owner:l}};F.createContext=function(t){return t={$$typeof:Vf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hf,_context:t},t.Consumer=t};F.createElement=Mc;F.createFactory=function(t){var e=Mc.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:qf,render:t}};F.isValidElement=Hl;F.lazy=function(t){return{$$typeof:Qf,_payload:{_status:-1,_result:t},_init:Zf}};F.memo=function(t,e){return{$$typeof:Gf,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Bs.transition;Bs.transition={};try{t()}finally{Bs.transition=e}};F.unstable_act=Uc;F.useCallback=function(t,e){return Ce.current.useCallback(t,e)};F.useContext=function(t){return Ce.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ce.current.useEffect(t,e)};F.useId=function(){return Ce.current.useId()};F.useImperativeHandle=function(t,e,r){return Ce.current.useImperativeHandle(t,e,r)};F.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ce.current.useMemo(t,e)};F.useReducer=function(t,e,r){return Ce.current.useReducer(t,e,r)};F.useRef=function(t){return Ce.current.useRef(t)};F.useState=function(t){return Ce.current.useState(t)};F.useSyncExternalStore=function(t,e,r){return Ce.current.useSyncExternalStore(t,e,r)};F.useTransition=function(){return Ce.current.useTransition()};F.version="18.3.1";Oc.exports=F;var O=Oc.exports;const Vl=Mf(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=O,rp=Symbol.for("react.element"),np=Symbol.for("react.fragment"),sp=Object.prototype.hasOwnProperty,ip=tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,op={key:!0,ref:!0,__self:!0,__source:!0};function Fc(t,e,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)sp.call(e,n)&&!op.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:rp,type:t,key:i,ref:l,props:s,_owner:ip.current}}Si.Fragment=np;Si.jsx=Fc;Si.jsxs=Fc;Tc.exports=Si;var o=Tc.exports,Do={},zc={exports:{}},ze={},Bc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var I=T.length;T.push(L);e:for(;0<I;){var X=I-1>>>1,q=T[X];if(0<s(q,L))T[X]=L,T[I]=q,I=X;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var L=T[0],I=T.pop();if(I!==L){T[0]=I;e:for(var X=0,q=T.length,jr=q>>>1;X<jr;){var Le=2*(X+1)-1,hn=T[Le],Je=Le+1,gt=T[Je];if(0>s(hn,I))Je<q&&0>s(gt,hn)?(T[X]=gt,T[Je]=I,X=Je):(T[X]=hn,T[Le]=I,X=Le);else if(Je<q&&0>s(gt,I))T[X]=gt,T[Je]=I,X=Je;else break e}}return L}function s(T,L){var I=T.sortIndex-L.sortIndex;return I!==0?I:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],c=[],h=1,f=null,p=3,x=!1,b=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=T)n(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=r(c)}}function w(T){if(_=!1,g(T),!b)if(r(u)!==null)b=!0,tr(S);else{var L=r(c);L!==null&&re(w,L.startTime-T)}}function S(T,L){b=!1,_&&(_=!1,y(R),R=-1),x=!0;var I=p;try{for(g(L),f=r(u);f!==null&&(!(f.expirationTime>L)||T&&!Pe());){var X=f.callback;if(typeof X=="function"){f.callback=null,p=f.priorityLevel;var q=X(f.expirationTime<=L);L=t.unstable_now(),typeof q=="function"?f.callback=q:f===r(u)&&n(u),g(L)}else n(u);f=r(u)}if(f!==null)var jr=!0;else{var Le=r(c);Le!==null&&re(w,Le.startTime-L),jr=!1}return jr}finally{f=null,p=I,x=!1}}var N=!1,j=null,R=-1,E=5,M=-1;function Pe(){return!(t.unstable_now()-M<E)}function V(){if(j!==null){var T=t.unstable_now();M=T;var L=!0;try{L=j(!0,T)}finally{L?mt():(N=!1,j=null)}}else N=!1}var mt;if(typeof m=="function")mt=function(){m(V)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,dn=_e.port2;_e.port1.onmessage=V,mt=function(){dn.postMessage(null)}}else mt=function(){P(V,0)};function tr(T){j=T,N||(N=!0,mt())}function re(T,L){R=P(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,tr(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var I=p;p=L;try{return T()}finally{p=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=p;p=T;try{return L()}finally{p=I}},t.unstable_scheduleCallback=function(T,L,I){var X=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?X+I:X):I=X,T){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=I+q,T={id:h++,callback:L,priorityLevel:T,startTime:I,expirationTime:q,sortIndex:-1},I>X?(T.sortIndex=I,e(c,T),r(u)===null&&T===r(c)&&(_?(y(R),R=-1):_=!0,re(w,I-X))):(T.sortIndex=q,e(u,T),b||x||(b=!0,tr(S))),T},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function(T){var L=p;return function(){var I=p;p=L;try{return T.apply(this,arguments)}finally{p=I}}}})(Wc);Bc.exports=Wc;var lp=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=O,Fe=lp;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hc=new Set,Wn={};function xr(t,e){Yr(t,e),Yr(t+"Capture",e)}function Yr(t,e){for(Wn[t]=e,t=0;t<e.length;t++)Hc.add(e[t])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=Object.prototype.hasOwnProperty,up=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ru={},nu={};function cp(t){return Mo.call(nu,t)?!0:Mo.call(ru,t)?!1:up.test(t)?nu[t]=!0:(ru[t]=!0,!1)}function dp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hp(t,e,r,n){if(e===null||typeof e>"u"||dp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ee(t,e,r,n,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ge[t]=new Ee(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ge[e]=new Ee(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ge[t]=new Ee(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ge[t]=new Ee(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ge[t]=new Ee(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ge[t]=new Ee(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ge[t]=new Ee(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ge[t]=new Ee(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ge[t]=new Ee(t,5,!1,t.toLowerCase(),null,!1,!1)});var ql=/[\-:]([a-z])/g;function Kl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ql,Kl);ge[e]=new Ee(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ql,Kl);ge[e]=new Ee(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ql,Kl);ge[e]=new Ee(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ge[t]=new Ee(t,1,!1,t.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ge[t]=new Ee(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gl(t,e,r,n){var s=ge.hasOwnProperty(e)?ge[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hp(e,r,s,n)&&(r=null),n||s===null?cp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Et=ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),Uo=Symbol.for("react.profiler"),Vc=Symbol.for("react.provider"),qc=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Fo=Symbol.for("react.suspense"),zo=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),su=Symbol.iterator;function yn(t){return t===null||typeof t!="object"?null:(t=su&&t[su]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,so;function Sn(t){if(so===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var io=!1;function oo(t,e){if(!t||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var u=`
`+s[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{io=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sn(t):""}function fp(t){switch(t.tag){case 5:return Sn(t.type);case 16:return Sn("Lazy");case 13:return Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Bo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $r:return"Fragment";case Rr:return"Portal";case Uo:return"Profiler";case Ql:return"StrictMode";case Fo:return"Suspense";case zo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qc:return(t.displayName||"Context")+".Consumer";case Vc:return(t._context.displayName||"Context")+".Provider";case Jl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yl:return e=t.displayName||null,e!==null?e:Bo(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return Bo(t(e))}catch{}}return null}function pp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(e);case 8:return e===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mp(t){var e=Gc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xs(t){t._valueTracker||(t._valueTracker=mp(t))}function Qc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Gc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wo(t,e){var r=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jc(t,e){e=e.checked,e!=null&&Gl(t,"checked",e,!1)}function Ho(t,e){Jc(t,e);var r=Qt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vo(t,e.type,Qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ou(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vo(t,e,r){(e!=="number"||Zs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cn=Array.isArray;function Vr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(Cn(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qt(r)}}function Yc(t,e){var r=Qt(e.value),n=Qt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function au(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ws,Zc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ws.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gp=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(t){gp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),On[e]=On[t]})});function ed(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||On.hasOwnProperty(t)&&On[t]?(""+e).trim():e+"px"}function td(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ed(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var yp=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(t,e){if(e){if(yp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Qo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Xl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yo=null,qr=null,Kr=null;function uu(t){if(t=cs(t)){if(typeof Yo!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Oi(e),Yo(t.stateNode,t.type,e))}}function rd(t){qr?Kr?Kr.push(t):Kr=[t]:qr=t}function nd(){if(qr){var t=qr,e=Kr;if(Kr=qr=null,uu(t),e)for(t=0;t<e.length;t++)uu(e[t])}}function sd(t,e){return t(e)}function id(){}var lo=!1;function od(t,e,r){if(lo)return t(e,r);lo=!0;try{return sd(t,e,r)}finally{lo=!1,(qr!==null||Kr!==null)&&(id(),nd())}}function Vn(t,e){var r=t.stateNode;if(r===null)return null;var n=Oi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var Xo=!1;if(kt)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Xo=!1}function vp(t,e,r,n,s,i,l,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var An=!1,ei=null,ti=!1,Zo=null,xp={onError:function(t){An=!0,ei=t}};function wp(t,e,r,n,s,i,l,a,u){An=!1,ei=null,vp.apply(xp,arguments)}function bp(t,e,r,n,s,i,l,a,u){if(wp.apply(this,arguments),An){if(An){var c=ei;An=!1,ei=null}else throw Error(k(198));ti||(ti=!0,Zo=c)}}function wr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ld(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cu(t){if(wr(t)!==t)throw Error(k(188))}function jp(t){var e=t.alternate;if(!e){if(e=wr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return cu(s),t;if(i===n)return cu(s),e;i=i.sibling}throw Error(k(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,a=s.child;a;){if(a===r){l=!0,r=s,n=i;break}if(a===n){l=!0,n=s,r=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===r){l=!0,r=i,n=s;break}if(a===n){l=!0,n=i,r=s;break}a=a.sibling}if(!l)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function ad(t){return t=jp(t),t!==null?ud(t):null}function ud(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ud(t);if(e!==null)return e;t=t.sibling}return null}var cd=Fe.unstable_scheduleCallback,du=Fe.unstable_cancelCallback,_p=Fe.unstable_shouldYield,kp=Fe.unstable_requestPaint,ie=Fe.unstable_now,Np=Fe.unstable_getCurrentPriorityLevel,Zl=Fe.unstable_ImmediatePriority,dd=Fe.unstable_UserBlockingPriority,ri=Fe.unstable_NormalPriority,Sp=Fe.unstable_LowPriority,hd=Fe.unstable_IdlePriority,Ci=null,ft=null;function Cp(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Tp,Ep=Math.log,Pp=Math.LN2;function Tp(t){return t>>>=0,t===0?32:31-(Ep(t)/Pp|0)|0}var bs=64,js=4194304;function En(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ni(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var a=l&~s;a!==0?n=En(a):(i&=l,i!==0&&(n=En(i)))}else l=r&~s,l!==0?n=En(l):i!==0&&(n=En(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-it(e),s=1<<r,n|=t[r],e&=~s;return n}function Op(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ap(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-it(i),a=1<<l,u=s[l];u===-1?(!(a&r)||a&n)&&(s[l]=Op(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function el(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fd(){var t=bs;return bs<<=1,!(bs&4194240)&&(bs=64),t}function ao(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function as(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=r}function Rp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-it(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ea(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-it(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var H=0;function pd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var md,ta,gd,yd,vd,tl=!1,_s=[],zt=null,Bt=null,Wt=null,qn=new Map,Kn=new Map,Lt=[],$p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(t,e){switch(t){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":qn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(e.pointerId)}}function xn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cs(e),e!==null&&ta(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ip(t,e,r,n,s){switch(e){case"focusin":return zt=xn(zt,t,e,r,n,s),!0;case"dragenter":return Bt=xn(Bt,t,e,r,n,s),!0;case"mouseover":return Wt=xn(Wt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return qn.set(i,xn(qn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Kn.set(i,xn(Kn.get(i)||null,t,e,r,n,s)),!0}return!1}function xd(t){var e=ur(t.target);if(e!==null){var r=wr(e);if(r!==null){if(e=r.tag,e===13){if(e=ld(r),e!==null){t.blockedOn=e,vd(t.priority,function(){gd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jo=n,r.target.dispatchEvent(n),Jo=null}else return e=cs(r),e!==null&&ta(e),t.blockedOn=r,!1;e.shift()}return!0}function fu(t,e,r){Ws(t)&&r.delete(e)}function Lp(){tl=!1,zt!==null&&Ws(zt)&&(zt=null),Bt!==null&&Ws(Bt)&&(Bt=null),Wt!==null&&Ws(Wt)&&(Wt=null),qn.forEach(fu),Kn.forEach(fu)}function wn(t,e){t.blockedOn===e&&(t.blockedOn=null,tl||(tl=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Lp)))}function Gn(t){function e(s){return wn(s,t)}if(0<_s.length){wn(_s[0],t);for(var r=1;r<_s.length;r++){var n=_s[r];n.blockedOn===t&&(n.blockedOn=null)}}for(zt!==null&&wn(zt,t),Bt!==null&&wn(Bt,t),Wt!==null&&wn(Wt,t),qn.forEach(e),Kn.forEach(e),r=0;r<Lt.length;r++)n=Lt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Lt.length&&(r=Lt[0],r.blockedOn===null);)xd(r),r.blockedOn===null&&Lt.shift()}var Gr=Et.ReactCurrentBatchConfig,si=!0;function Dp(t,e,r,n){var s=H,i=Gr.transition;Gr.transition=null;try{H=1,ra(t,e,r,n)}finally{H=s,Gr.transition=i}}function Mp(t,e,r,n){var s=H,i=Gr.transition;Gr.transition=null;try{H=4,ra(t,e,r,n)}finally{H=s,Gr.transition=i}}function ra(t,e,r,n){if(si){var s=rl(t,e,r,n);if(s===null)xo(t,e,n,ii,r),hu(t,n);else if(Ip(s,t,e,r,n))n.stopPropagation();else if(hu(t,n),e&4&&-1<$p.indexOf(t)){for(;s!==null;){var i=cs(s);if(i!==null&&md(i),i=rl(t,e,r,n),i===null&&xo(t,e,n,ii,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else xo(t,e,n,null,r)}}var ii=null;function rl(t,e,r,n){if(ii=null,t=Xl(n),t=ur(t),t!==null)if(e=wr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ld(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ii=t,null}function wd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Np()){case Zl:return 1;case dd:return 4;case ri:case Sp:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Ut=null,na=null,Hs=null;function bd(){if(Hs)return Hs;var t,e=na,r=e.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[i-n];n++);return Hs=s.slice(t,1<n?1-n:void 0)}function Vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ks(){return!0}function pu(){return!1}function Be(t){function e(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ks:pu,this.isPropagationStopped=pu,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),e}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Be(ln),us=te({},ln,{view:0,detail:0}),Up=Be(us),uo,co,bn,Ei=te({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(uo=t.screenX-bn.screenX,co=t.screenY-bn.screenY):co=uo=0,bn=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),mu=Be(Ei),Fp=te({},Ei,{dataTransfer:0}),zp=Be(Fp),Bp=te({},us,{relatedTarget:0}),ho=Be(Bp),Wp=te({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Hp=Be(Wp),Vp=te({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qp=Be(Vp),Kp=te({},ln,{data:0}),gu=Be(Kp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jp[t])?!!e[t]:!1}function ia(){return Yp}var Xp=te({},us,{key:function(t){if(t.key){var e=Gp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zp=Be(Xp),em=te({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=Be(em),tm=te({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),rm=Be(tm),nm=te({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),sm=Be(nm),im=te({},Ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),om=Be(im),lm=[9,13,27,32],oa=kt&&"CompositionEvent"in window,Rn=null;kt&&"documentMode"in document&&(Rn=document.documentMode);var am=kt&&"TextEvent"in window&&!Rn,jd=kt&&(!oa||Rn&&8<Rn&&11>=Rn),vu=" ",xu=!1;function _d(t,e){switch(t){case"keyup":return lm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ir=!1;function um(t,e){switch(t){case"compositionend":return kd(e);case"keypress":return e.which!==32?null:(xu=!0,vu);case"textInput":return t=e.data,t===vu&&xu?null:t;default:return null}}function cm(t,e){if(Ir)return t==="compositionend"||!oa&&_d(t,e)?(t=bd(),Hs=na=Ut=null,Ir=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jd&&e.locale!=="ko"?null:e.data;default:return null}}var dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dm[t.type]:e==="textarea"}function Nd(t,e,r,n){rd(n),e=oi(e,"onChange"),0<e.length&&(r=new sa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $n=null,Qn=null;function hm(t){Ld(t,0)}function Pi(t){var e=Mr(t);if(Qc(e))return t}function fm(t,e){if(t==="change")return e}var Sd=!1;if(kt){var fo;if(kt){var po="oninput"in document;if(!po){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),po=typeof bu.oninput=="function"}fo=po}else fo=!1;Sd=fo&&(!document.documentMode||9<document.documentMode)}function ju(){$n&&($n.detachEvent("onpropertychange",Cd),Qn=$n=null)}function Cd(t){if(t.propertyName==="value"&&Pi(Qn)){var e=[];Nd(e,Qn,t,Xl(t)),od(hm,e)}}function pm(t,e,r){t==="focusin"?(ju(),$n=e,Qn=r,$n.attachEvent("onpropertychange",Cd)):t==="focusout"&&ju()}function mm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pi(Qn)}function gm(t,e){if(t==="click")return Pi(e)}function ym(t,e){if(t==="input"||t==="change")return Pi(e)}function vm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:vm;function Jn(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Mo.call(e,s)||!lt(t[s],e[s]))return!1}return!0}function _u(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ku(t,e){var r=_u(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_u(r)}}function Ed(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ed(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pd(){for(var t=window,e=Zs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zs(t.document)}return e}function la(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xm(t){var e=Pd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ed(r.ownerDocument.documentElement,r)){if(n!==null&&la(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=ku(r,i);var l=ku(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wm=kt&&"documentMode"in document&&11>=document.documentMode,Lr=null,nl=null,In=null,sl=!1;function Nu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sl||Lr==null||Lr!==Zs(n)||(n=Lr,"selectionStart"in n&&la(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&Jn(In,n)||(In=n,n=oi(nl,"onSelect"),0<n.length&&(e=new sa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lr)))}function Ns(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Dr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},mo={},Td={};kt&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Ti(t){if(mo[t])return mo[t];if(!Dr[t])return t;var e=Dr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Td)return mo[t]=e[r];return t}var Od=Ti("animationend"),Ad=Ti("animationiteration"),Rd=Ti("animationstart"),$d=Ti("transitionend"),Id=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){Id.set(t,e),xr(e,[t])}for(var go=0;go<Su.length;go++){var yo=Su[go],bm=yo.toLowerCase(),jm=yo[0].toUpperCase()+yo.slice(1);Yt(bm,"on"+jm)}Yt(Od,"onAnimationEnd");Yt(Ad,"onAnimationIteration");Yt(Rd,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt($d,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_m=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Cu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bp(n,e,void 0,t),t.currentTarget=null}function Ld(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var l=n.length-1;0<=l;l--){var a=n[l],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Cu(s,a,c),i=u}else for(l=0;l<n.length;l++){if(a=n[l],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Cu(s,a,c),i=u}}}if(ti)throw t=Zo,ti=!1,Zo=null,t}function Q(t,e){var r=e[ul];r===void 0&&(r=e[ul]=new Set);var n=t+"__bubble";r.has(n)||(Dd(e,t,2,!1),r.add(n))}function vo(t,e,r){var n=0;e&&(n|=4),Dd(r,t,n,e)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Yn(t){if(!t[Ss]){t[Ss]=!0,Hc.forEach(function(r){r!=="selectionchange"&&(_m.has(r)||vo(r,!1,t),vo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ss]||(e[Ss]=!0,vo("selectionchange",!1,e))}}function Dd(t,e,r,n){switch(wd(e)){case 1:var s=Dp;break;case 4:s=Mp;break;default:s=ra}r=s.bind(null,e,r,t),s=void 0,!Xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function xo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ur(a),l===null)return;if(u=l.tag,u===5||u===6){n=i=l;continue e}a=a.parentNode}}n=n.return}od(function(){var c=i,h=Xl(r),f=[];e:{var p=Id.get(t);if(p!==void 0){var x=sa,b=t;switch(t){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":x=Zp;break;case"focusin":b="focus",x=ho;break;case"focusout":b="blur",x=ho;break;case"beforeblur":case"afterblur":x=ho;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=rm;break;case Od:case Ad:case Rd:x=Hp;break;case $d:x=sm;break;case"scroll":x=Up;break;case"wheel":x=om;break;case"copy":case"cut":case"paste":x=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=yu}var _=(e&4)!==0,P=!_&&t==="scroll",y=_?p!==null?p+"Capture":null:p;_=[];for(var m=c,g;m!==null;){g=m;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Vn(m,y),w!=null&&_.push(Xn(m,w,g)))),P)break;m=m.return}0<_.length&&(p=new x(p,b,null,r,h),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&r!==Jo&&(b=r.relatedTarget||r.fromElement)&&(ur(b)||b[Nt]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=c,b=b?ur(b):null,b!==null&&(P=wr(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=c),x!==b)){if(_=mu,w="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=yu,w="onPointerLeave",y="onPointerEnter",m="pointer"),P=x==null?p:Mr(x),g=b==null?p:Mr(b),p=new _(w,m+"leave",x,r,h),p.target=P,p.relatedTarget=g,w=null,ur(h)===c&&(_=new _(y,m+"enter",b,r,h),_.target=g,_.relatedTarget=P,w=_),P=w,x&&b)t:{for(_=x,y=b,m=0,g=_;g;g=kr(g))m++;for(g=0,w=y;w;w=kr(w))g++;for(;0<m-g;)_=kr(_),m--;for(;0<g-m;)y=kr(y),g--;for(;m--;){if(_===y||y!==null&&_===y.alternate)break t;_=kr(_),y=kr(y)}_=null}else _=null;x!==null&&Eu(f,p,x,_,!1),b!==null&&P!==null&&Eu(f,P,b,_,!0)}}e:{if(p=c?Mr(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var S=fm;else if(wu(p))if(Sd)S=ym;else{S=mm;var N=pm}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=gm);if(S&&(S=S(t,c))){Nd(f,S,r,h);break e}N&&N(t,p,c),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Vo(p,"number",p.value)}switch(N=c?Mr(c):window,t){case"focusin":(wu(N)||N.contentEditable==="true")&&(Lr=N,nl=c,In=null);break;case"focusout":In=nl=Lr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,Nu(f,r,h);break;case"selectionchange":if(wm)break;case"keydown":case"keyup":Nu(f,r,h)}var j;if(oa)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ir?_d(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(jd&&r.locale!=="ko"&&(Ir||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ir&&(j=bd()):(Ut=h,na="value"in Ut?Ut.value:Ut.textContent,Ir=!0)),N=oi(c,R),0<N.length&&(R=new gu(R,t,null,r,h),f.push({event:R,listeners:N}),j?R.data=j:(j=kd(r),j!==null&&(R.data=j)))),(j=am?um(t,r):cm(t,r))&&(c=oi(c,"onBeforeInput"),0<c.length&&(h=new gu("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=j))}Ld(f,e)})}function Xn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vn(t,r),i!=null&&n.unshift(Xn(t,i,s)),i=Vn(t,e),i!=null&&n.push(Xn(t,i,s))),t=t.return}return n}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eu(t,e,r,n,s){for(var i=e._reactName,l=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=Vn(r,i),u!=null&&l.unshift(Xn(r,u,a))):s||(u=Vn(r,i),u!=null&&l.push(Xn(r,u,a)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var km=/\r\n?/g,Nm=/\u0000|\uFFFD/g;function Pu(t){return(typeof t=="string"?t:""+t).replace(km,`
`).replace(Nm,"")}function Cs(t,e,r){if(e=Pu(e),Pu(t)!==e&&r)throw Error(k(425))}function li(){}var il=null,ol=null;function ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var al=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,Cm=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(t){return Tu.resolve(null).then(t).catch(Em)}:al;function Em(t){setTimeout(function(){throw t})}function wo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Gn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Gn(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ou(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var an=Math.random().toString(36).slice(2),ht="__reactFiber$"+an,Zn="__reactProps$"+an,Nt="__reactContainer$"+an,ul="__reactEvents$"+an,Pm="__reactListeners$"+an,Tm="__reactHandles$"+an;function ur(t){var e=t[ht];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Nt]||r[ht]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ou(t);t!==null;){if(r=t[ht])return r;t=Ou(t)}return e}t=r,r=t.parentNode}return null}function cs(t){return t=t[ht]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Oi(t){return t[Zn]||null}var cl=[],Ur=-1;function Xt(t){return{current:t}}function J(t){0>Ur||(t.current=cl[Ur],cl[Ur]=null,Ur--)}function G(t,e){Ur++,cl[Ur]=t.current,t.current=e}var Jt={},je=Xt(Jt),Re=Xt(!1),pr=Jt;function Xr(t,e){var r=t.type.contextTypes;if(!r)return Jt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function ai(){J(Re),J(je)}function Au(t,e,r){if(je.current!==Jt)throw Error(k(168));G(je,e),G(Re,r)}function Md(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(k(108,pp(t)||"Unknown",s));return te({},r,n)}function ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,pr=je.current,G(je,t),G(Re,Re.current),!0}function Ru(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=Md(t,e,pr),n.__reactInternalMemoizedMergedChildContext=t,J(Re),J(je),G(je,t)):J(Re),G(Re,r)}var wt=null,Ai=!1,bo=!1;function Ud(t){wt===null?wt=[t]:wt.push(t)}function Om(t){Ai=!0,Ud(t)}function Zt(){if(!bo&&wt!==null){bo=!0;var t=0,e=H;try{var r=wt;for(H=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}wt=null,Ai=!1}catch(s){throw wt!==null&&(wt=wt.slice(t+1)),cd(Zl,Zt),s}finally{H=e,bo=!1}}return null}var Fr=[],zr=0,ci=null,di=0,We=[],He=0,mr=null,bt=1,jt="";function ir(t,e){Fr[zr++]=di,Fr[zr++]=ci,ci=t,di=e}function Fd(t,e,r){We[He++]=bt,We[He++]=jt,We[He++]=mr,mr=t;var n=bt;t=jt;var s=32-it(n)-1;n&=~(1<<s),r+=1;var i=32-it(e)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,bt=1<<32-it(e)+s|r<<s|n,jt=i+t}else bt=1<<i|r<<s|n,jt=t}function aa(t){t.return!==null&&(ir(t,1),Fd(t,1,0))}function ua(t){for(;t===ci;)ci=Fr[--zr],Fr[zr]=null,di=Fr[--zr],Fr[zr]=null;for(;t===mr;)mr=We[--He],We[He]=null,jt=We[--He],We[He]=null,bt=We[--He],We[He]=null}var Ue=null,Me=null,Y=!1,st=null;function zd(t,e){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $u(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,Me=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mr!==null?{id:bt,overflow:jt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ue=t,Me=null,!0):!1;default:return!1}}function dl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hl(t){if(Y){var e=Me;if(e){var r=e;if(!$u(t,e)){if(dl(t))throw Error(k(418));e=Ht(r.nextSibling);var n=Ue;e&&$u(t,e)?zd(n,r):(t.flags=t.flags&-4097|2,Y=!1,Ue=t)}}else{if(dl(t))throw Error(k(418));t.flags=t.flags&-4097|2,Y=!1,Ue=t}}}function Iu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function Es(t){if(t!==Ue)return!1;if(!Y)return Iu(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ll(t.type,t.memoizedProps)),e&&(e=Me)){if(dl(t))throw Bd(),Error(k(418));for(;e;)zd(t,e),e=Ht(e.nextSibling)}if(Iu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Me=Ht(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=Ue?Ht(t.stateNode.nextSibling):null;return!0}function Bd(){for(var t=Me;t;)t=Ht(t.nextSibling)}function Zr(){Me=Ue=null,Y=!1}function ca(t){st===null?st=[t]:st.push(t)}var Am=Et.ReactCurrentBatchConfig;function jn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function Ps(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lu(t){var e=t._init;return e(t._payload)}function Wd(t){function e(y,m){if(t){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Gt(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,g,w){return m===null||m.tag!==6?(m=Eo(g,y.mode,w),m.return=y,m):(m=s(m,g),m.return=y,m)}function u(y,m,g,w){var S=g.type;return S===$r?h(y,m,g.props.children,w,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&Lu(S)===m.type)?(w=s(m,g.props),w.ref=jn(y,m,g),w.return=y,w):(w=Xs(g.type,g.key,g.props,null,y.mode,w),w.ref=jn(y,m,g),w.return=y,w)}function c(y,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Po(g,y.mode,w),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function h(y,m,g,w,S){return m===null||m.tag!==7?(m=fr(g,y.mode,w,S),m.return=y,m):(m=s(m,g),m.return=y,m)}function f(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Eo(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return g=Xs(m.type,m.key,m.props,null,y.mode,g),g.ref=jn(y,null,m),g.return=y,g;case Rr:return m=Po(m,y.mode,g),m.return=y,m;case Rt:var w=m._init;return f(y,w(m._payload),g)}if(Cn(m)||yn(m))return m=fr(m,y.mode,g,null),m.return=y,m;Ps(y,m)}return null}function p(y,m,g,w){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(y,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:return g.key===S?u(y,m,g,w):null;case Rr:return g.key===S?c(y,m,g,w):null;case Rt:return S=g._init,p(y,m,S(g._payload),w)}if(Cn(g)||yn(g))return S!==null?null:h(y,m,g,w,null);Ps(y,g)}return null}function x(y,m,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,a(m,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vs:return y=y.get(w.key===null?g:w.key)||null,u(m,y,w,S);case Rr:return y=y.get(w.key===null?g:w.key)||null,c(m,y,w,S);case Rt:var N=w._init;return x(y,m,g,N(w._payload),S)}if(Cn(w)||yn(w))return y=y.get(g)||null,h(m,y,w,S,null);Ps(m,w)}return null}function b(y,m,g,w){for(var S=null,N=null,j=m,R=m=0,E=null;j!==null&&R<g.length;R++){j.index>R?(E=j,j=null):E=j.sibling;var M=p(y,j,g[R],w);if(M===null){j===null&&(j=E);break}t&&j&&M.alternate===null&&e(y,j),m=i(M,m,R),N===null?S=M:N.sibling=M,N=M,j=E}if(R===g.length)return r(y,j),Y&&ir(y,R),S;if(j===null){for(;R<g.length;R++)j=f(y,g[R],w),j!==null&&(m=i(j,m,R),N===null?S=j:N.sibling=j,N=j);return Y&&ir(y,R),S}for(j=n(y,j);R<g.length;R++)E=x(j,y,R,g[R],w),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?R:E.key),m=i(E,m,R),N===null?S=E:N.sibling=E,N=E);return t&&j.forEach(function(Pe){return e(y,Pe)}),Y&&ir(y,R),S}function _(y,m,g,w){var S=yn(g);if(typeof S!="function")throw Error(k(150));if(g=S.call(g),g==null)throw Error(k(151));for(var N=S=null,j=m,R=m=0,E=null,M=g.next();j!==null&&!M.done;R++,M=g.next()){j.index>R?(E=j,j=null):E=j.sibling;var Pe=p(y,j,M.value,w);if(Pe===null){j===null&&(j=E);break}t&&j&&Pe.alternate===null&&e(y,j),m=i(Pe,m,R),N===null?S=Pe:N.sibling=Pe,N=Pe,j=E}if(M.done)return r(y,j),Y&&ir(y,R),S;if(j===null){for(;!M.done;R++,M=g.next())M=f(y,M.value,w),M!==null&&(m=i(M,m,R),N===null?S=M:N.sibling=M,N=M);return Y&&ir(y,R),S}for(j=n(y,j);!M.done;R++,M=g.next())M=x(j,y,R,M.value,w),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?R:M.key),m=i(M,m,R),N===null?S=M:N.sibling=M,N=M);return t&&j.forEach(function(V){return e(y,V)}),Y&&ir(y,R),S}function P(y,m,g,w){if(typeof g=="object"&&g!==null&&g.type===$r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vs:e:{for(var S=g.key,N=m;N!==null;){if(N.key===S){if(S=g.type,S===$r){if(N.tag===7){r(y,N.sibling),m=s(N,g.props.children),m.return=y,y=m;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rt&&Lu(S)===N.type){r(y,N.sibling),m=s(N,g.props),m.ref=jn(y,N,g),m.return=y,y=m;break e}r(y,N);break}else e(y,N);N=N.sibling}g.type===$r?(m=fr(g.props.children,y.mode,w,g.key),m.return=y,y=m):(w=Xs(g.type,g.key,g.props,null,y.mode,w),w.ref=jn(y,m,g),w.return=y,y=w)}return l(y);case Rr:e:{for(N=g.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=Po(g,y.mode,w),m.return=y,y=m}return l(y);case Rt:return N=g._init,P(y,m,N(g._payload),w)}if(Cn(g))return b(y,m,g,w);if(yn(g))return _(y,m,g,w);Ps(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,g),m.return=y,y=m):(r(y,m),m=Eo(g,y.mode,w),m.return=y,y=m),l(y)):r(y,m)}return P}var en=Wd(!0),Hd=Wd(!1),hi=Xt(null),fi=null,Br=null,da=null;function ha(){da=Br=fi=null}function fa(t){var e=hi.current;J(hi),t._currentValue=e}function fl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qr(t,e){fi=t,da=Br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(da!==t)if(t={context:t,memoizedValue:e,next:null},Br===null){if(fi===null)throw Error(k(308));Br=t,fi.dependencies={lanes:0,firstContext:t}}else Br=Br.next=t;return e}var cr=null;function pa(t){cr===null?cr=[t]:cr.push(t)}function Vd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,pa(e)):(r.next=s.next,s.next=r),e.interleaved=r,St(t,n)}function St(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $t=!1;function ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,St(t,r)}return s=n.interleaved,s===null?(e.next=e,pa(n)):(e.next=s.next,s.next=e),n.interleaved=e,St(t,r)}function qs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ea(t,r)}}function Du(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pi(t,e,r,n){var s=t.updateQueue;$t=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,l===null?i=c:l.next=c,l=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==l&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;l=0,h=c=u=null,a=i;do{var p=a.lane,x=a.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,_=a;switch(p=e,x=r,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(x,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(x,f,p):b,p==null)break e;f=te({},f,p);break e;case 2:$t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=x,u=f):h=h.next=x,l|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yr|=l,t.lanes=l,t.memoizedState=f}}function Mu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(k(191,s));s.call(n)}}}var ds={},pt=Xt(ds),es=Xt(ds),ts=Xt(ds);function dr(t){if(t===ds)throw Error(k(174));return t}function ga(t,e){switch(G(ts,e),G(es,t),G(pt,ds),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ko(e,t)}J(pt),G(pt,e)}function tn(){J(pt),J(es),J(ts)}function Kd(t){dr(ts.current);var e=dr(pt.current),r=Ko(e,t.type);e!==r&&(G(es,t),G(pt,r))}function ya(t){es.current===t&&(J(pt),J(es))}var Z=Xt(0);function mi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jo=[];function va(){for(var t=0;t<jo.length;t++)jo[t]._workInProgressVersionPrimary=null;jo.length=0}var Ks=Et.ReactCurrentDispatcher,_o=Et.ReactCurrentBatchConfig,gr=0,ee=null,ue=null,he=null,gi=!1,Ln=!1,rs=0,Rm=0;function ve(){throw Error(k(321))}function xa(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!lt(t[r],e[r]))return!1;return!0}function wa(t,e,r,n,s,i){if(gr=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ks.current=t===null||t.memoizedState===null?Dm:Mm,t=r(n,s),Ln){i=0;do{if(Ln=!1,rs=0,25<=i)throw Error(k(301));i+=1,he=ue=null,e.updateQueue=null,Ks.current=Um,t=r(n,s)}while(Ln)}if(Ks.current=yi,e=ue!==null&&ue.next!==null,gr=0,he=ue=ee=null,gi=!1,e)throw Error(k(300));return t}function ba(){var t=rs!==0;return rs=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ee.memoizedState=he=t:he=he.next=t,he}function Qe(){if(ue===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=he===null?ee.memoizedState:he.next;if(e!==null)he=e,ue=t;else{if(t===null)throw Error(k(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?ee.memoizedState=he=t:he=he.next=t}return he}function ns(t,e){return typeof e=="function"?e(t):e}function ko(t){var e=Qe(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=l=null,u=null,c=i;do{var h=c.lane;if((gr&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,l=n):u=u.next=f,ee.lanes|=h,yr|=h}c=c.next}while(c!==null&&c!==i);u===null?l=n:u.next=a,lt(n,e.memoizedState)||(Ae=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,yr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function No(t){var e=Qe(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);lt(i,e.memoizedState)||(Ae=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Gd(){}function Qd(t,e){var r=ee,n=Qe(),s=e(),i=!lt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ae=!0),n=n.queue,ja(Xd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,ss(9,Yd.bind(null,r,n,s,e),void 0,null),fe===null)throw Error(k(349));gr&30||Jd(r,e,s)}return s}function Jd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Yd(t,e,r,n){e.value=r,e.getSnapshot=n,Zd(e)&&eh(t)}function Xd(t,e,r){return r(function(){Zd(e)&&eh(t)})}function Zd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lt(t,r)}catch{return!0}}function eh(t){var e=St(t,1);e!==null&&ot(e,t,1,-1)}function Uu(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},e.queue=t,t=t.dispatch=Lm.bind(null,ee,t),[e.memoizedState,t]}function ss(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function th(){return Qe().memoizedState}function Gs(t,e,r,n){var s=ut();ee.flags|=t,s.memoizedState=ss(1|e,r,void 0,n===void 0?null:n)}function Ri(t,e,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(ue!==null){var l=ue.memoizedState;if(i=l.destroy,n!==null&&xa(n,l.deps)){s.memoizedState=ss(e,r,i,n);return}}ee.flags|=t,s.memoizedState=ss(1|e,r,i,n)}function Fu(t,e){return Gs(8390656,8,t,e)}function ja(t,e){return Ri(2048,8,t,e)}function rh(t,e){return Ri(4,2,t,e)}function nh(t,e){return Ri(4,4,t,e)}function sh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ih(t,e,r){return r=r!=null?r.concat([t]):null,Ri(4,4,sh.bind(null,e,t),r)}function _a(){}function oh(t,e){var r=Qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xa(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lh(t,e){var r=Qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xa(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ah(t,e,r){return gr&21?(lt(r,e)||(r=fd(),ee.lanes|=r,yr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=r)}function $m(t,e){var r=H;H=r!==0&&4>r?r:4,t(!0);var n=_o.transition;_o.transition={};try{t(!1),e()}finally{H=r,_o.transition=n}}function uh(){return Qe().memoizedState}function Im(t,e,r){var n=Kt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ch(t))dh(e,r);else if(r=Vd(t,e,r,n),r!==null){var s=Se();ot(r,t,n,s),hh(r,e,n)}}function Lm(t,e,r){var n=Kt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ch(t))dh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,r);if(s.hasEagerState=!0,s.eagerState=a,lt(a,l)){var u=e.interleaved;u===null?(s.next=s,pa(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=Vd(t,e,s,n),r!==null&&(s=Se(),ot(r,t,n,s),hh(r,e,n))}}function ch(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function dh(t,e){Ln=gi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ea(t,r)}}var yi={readContext:Ge,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Dm={readContext:Ge,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:Fu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gs(4194308,4,sh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gs(4,2,t,e)},useMemo:function(t,e){var r=ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Im.bind(null,ee,t),[n.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:Uu,useDebugValue:_a,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=Uu(!1),e=t[0];return t=$m.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ee,s=ut();if(Y){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),fe===null)throw Error(k(349));gr&30||Jd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Fu(Xd.bind(null,n,i,t),[t]),n.flags|=2048,ss(9,Yd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ut(),e=fe.identifierPrefix;if(Y){var r=jt,n=bt;r=(n&~(1<<32-it(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=rs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Rm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Mm={readContext:Ge,useCallback:oh,useContext:Ge,useEffect:ja,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:nh,useMemo:lh,useReducer:ko,useRef:th,useState:function(){return ko(ns)},useDebugValue:_a,useDeferredValue:function(t){var e=Qe();return ah(e,ue.memoizedState,t)},useTransition:function(){var t=ko(ns)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Gd,useSyncExternalStore:Qd,useId:uh,unstable_isNewReconciler:!1},Um={readContext:Ge,useCallback:oh,useContext:Ge,useEffect:ja,useImperativeHandle:ih,useInsertionEffect:rh,useLayoutEffect:nh,useMemo:lh,useReducer:No,useRef:th,useState:function(){return No(ns)},useDebugValue:_a,useDeferredValue:function(t){var e=Qe();return ue===null?e.memoizedState=t:ah(e,ue.memoizedState,t)},useTransition:function(){var t=No(ns)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Gd,useSyncExternalStore:Qd,useId:uh,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function pl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:te({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $i={isMounted:function(t){return(t=t._reactInternals)?wr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Se(),s=Kt(t),i=_t(n,s);i.payload=e,r!=null&&(i.callback=r),e=Vt(t,i,s),e!==null&&(ot(e,t,s,n),qs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Se(),s=Kt(t),i=_t(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Vt(t,i,s),e!==null&&(ot(e,t,s,n),qs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Se(),n=Kt(t),s=_t(r,n);s.tag=2,e!=null&&(s.callback=e),e=Vt(t,s,n),e!==null&&(ot(e,t,n,r),qs(e,t,n))}};function zu(t,e,r,n,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):e.prototype&&e.prototype.isPureReactComponent?!Jn(r,n)||!Jn(s,i):!0}function fh(t,e,r){var n=!1,s=Jt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=$e(e)?pr:je.current,n=e.contextTypes,i=(n=n!=null)?Xr(t,s):Jt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$i,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$i.enqueueReplaceState(e,e.state,null)}function ml(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},ma(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=$e(e)?pr:je.current,s.context=Xr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(pl(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&$i.enqueueReplaceState(s,s.state,null),pi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function rn(t,e){try{var r="",n=e;do r+=fp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function So(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Fm=typeof WeakMap=="function"?WeakMap:Map;function ph(t,e,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xi||(xi=!0,Sl=n),gl(t,e)},r}function mh(t,e,r){r=_t(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){gl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gl(t,e),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function Wu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Fm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=eg.bind(null,t,e,r),e.then(t,t))}function Hu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_t(-1,1),e.tag=2,Vt(r,e,1))),r.lanes|=1),t)}var zm=Et.ReactCurrentOwner,Ae=!1;function Ne(t,e,r,n){e.child=t===null?Hd(e,null,r,n):en(e,t.child,r,n)}function qu(t,e,r,n,s){r=r.render;var i=e.ref;return Qr(e,s),n=wa(t,e,r,n,i,s),r=ba(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(Y&&r&&aa(e),e.flags|=1,Ne(t,e,n,s),e.child)}function Ku(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Oa(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,gh(t,e,i,n,s)):(t=Xs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jn,r(l,n)&&t.ref===e.ref)return Ct(t,e,s)}return e.flags|=1,t=Gt(i,n),t.ref=e.ref,t.return=e,e.child=t}function gh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Jn(i,n)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,Ct(t,e,s)}return yl(t,e,r,n,s)}function yh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Hr,De),De|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Hr,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Hr,De),De|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,G(Hr,De),De|=n;return Ne(t,e,s,r),e.child}function vh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yl(t,e,r,n,s){var i=$e(r)?pr:je.current;return i=Xr(e,i),Qr(e,s),r=wa(t,e,r,n,i,s),n=ba(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(Y&&n&&aa(e),e.flags|=1,Ne(t,e,r,s),e.child)}function Gu(t,e,r,n,s){if($e(r)){var i=!0;ui(e)}else i=!1;if(Qr(e,s),e.stateNode===null)Qs(t,e),fh(e,r,n),ml(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=$e(r)?pr:je.current,c=Xr(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Bu(e,l,n,c),$t=!1;var p=e.memoizedState;l.state=p,pi(e,n,l,s),u=e.memoizedState,a!==n||p!==u||Re.current||$t?(typeof h=="function"&&(pl(e,r,h,n),u=e.memoizedState),(a=$t||zu(e,r,a,n,p,u,c))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),l.props=n,l.state=u,l.context=c,n=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,qd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tt(e.type,a),l.props=c,f=e.pendingProps,p=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ge(u):(u=$e(r)?pr:je.current,u=Xr(e,u));var x=r.getDerivedStateFromProps;(h=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Bu(e,l,n,u),$t=!1,p=e.memoizedState,l.state=p,pi(e,n,l,s);var b=e.memoizedState;a!==f||p!==b||Re.current||$t?(typeof x=="function"&&(pl(e,r,x,n),b=e.memoizedState),(c=$t||zu(e,r,c,n,p,b,u)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),l.props=n,l.state=b,l.context=u,n=c):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return vl(t,e,r,n,i,s)}function vl(t,e,r,n,s,i){vh(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&Ru(e,r,!1),Ct(t,e,i);n=e.stateNode,zm.current=e;var a=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=en(e,t.child,null,i),e.child=en(e,null,a,i)):Ne(t,e,a,i),e.memoizedState=n.state,s&&Ru(e,r,!0),e.child}function xh(t){var e=t.stateNode;e.pendingContext?Au(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Au(t,e.context,!1),ga(t,e.containerInfo)}function Qu(t,e,r,n,s){return Zr(),ca(s),e.flags|=256,Ne(t,e,r,n),e.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function wl(t){return{baseLanes:t,cachePool:null,transitions:null}}function wh(t,e,r){var n=e.pendingProps,s=Z.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),G(Z,s&1),t===null)return hl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,i?(n=e.mode,i=e.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Di(l,n,0,null),t=fr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wl(r),e.memoizedState=xl,t):ka(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bm(t,e,l,n,a,s,r);if(i){i=n.fallback,l=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Gt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gt(a,i):(i=fr(i,l,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=t.child.memoizedState,l=l===null?wl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,e.memoizedState=xl,n}return i=t.child,t=i.sibling,n=Gt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ka(t,e){return e=Di({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ts(t,e,r,n){return n!==null&&ca(n),en(e,t.child,null,r),t=ka(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bm(t,e,r,n,s,i,l){if(r)return e.flags&256?(e.flags&=-257,n=So(Error(k(422))),Ts(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Di({mode:"visible",children:n.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&en(e,t.child,null,l),e.child.memoizedState=wl(l),e.memoizedState=xl,i);if(!(e.mode&1))return Ts(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(k(419)),n=So(i,n,void 0),Ts(t,e,l,n)}if(a=(l&t.childLanes)!==0,Ae||a){if(n=fe,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,St(t,s),ot(n,t,s,-1))}return Ta(),n=So(Error(k(421))),Ts(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Me=Ht(s.nextSibling),Ue=e,Y=!0,st=null,t!==null&&(We[He++]=bt,We[He++]=jt,We[He++]=mr,bt=t.id,jt=t.overflow,mr=e),e=ka(e,n.children),e.flags|=4096,e)}function Ju(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fl(t.return,e,r)}function Co(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ne(t,e,n.children,r),n=Z.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ju(t,r,e);else if(t.tag===19)Ju(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(G(Z,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&mi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Co(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Co(e,!0,r,null,i);break;case"together":Co(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ct(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),yr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=Gt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Wm(t,e,r){switch(e.tag){case 3:xh(e),Zr();break;case 5:Kd(e);break;case 1:$e(e.type)&&ui(e);break;case 4:ga(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;G(hi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(G(Z,Z.current&1),e.flags|=128,null):r&e.child.childLanes?wh(t,e,r):(G(Z,Z.current&1),t=Ct(t,e,r),t!==null?t.sibling:null);G(Z,Z.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return bh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(Z,Z.current),n)break;return null;case 22:case 23:return e.lanes=0,yh(t,e,r)}return Ct(t,e,r)}var jh,bl,_h,kh;jh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bl=function(){};_h=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,dr(pt.current);var i=null;switch(r){case"input":s=Wo(t,s),n=Wo(t,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=qo(t,s),n=qo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=li)}Go(r,n);var l;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(l in a)a.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Q("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kh=function(t,e,r,n){r!==n&&(e.flags|=4)};function _n(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Hm(t,e,r){var n=e.pendingProps;switch(ua(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return $e(e.type)&&ai(),xe(e),null;case 3:return n=e.stateNode,tn(),J(Re),J(je),va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(Pl(st),st=null))),bl(t,e),xe(e),null;case 5:ya(e);var s=dr(ts.current);if(r=e.type,t!==null&&e.stateNode!=null)_h(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return xe(e),null}if(t=dr(pt.current),Es(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ht]=e,n[Zn]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Pn.length;s++)Q(Pn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":iu(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":lu(n,i),Q("invalid",n)}Go(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cs(n.textContent,a,t),s=["children",""+a]):Wn.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&Q("scroll",n)}switch(r){case"input":xs(n),ou(n,i,!0);break;case"textarea":xs(n),au(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=li)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[ht]=e,t[Zn]=n,jh(t,e,!1,!1),e.stateNode=t;e:{switch(l=Qo(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<Pn.length;s++)Q(Pn[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":iu(t,n),s=Wo(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),Q("invalid",t);break;case"textarea":lu(t,n),s=qo(t,n),Q("invalid",t);break;default:s=n}Go(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?td(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Hn(t,u):typeof u=="number"&&Hn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Q("scroll",t):u!=null&&Gl(t,i,u,l))}switch(r){case"input":xs(t),ou(t,n,!1);break;case"textarea":xs(t),au(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Vr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Vr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=li)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)kh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=dr(ts.current),dr(pt.current),Es(e)){if(n=e.stateNode,r=e.memoizedProps,n[ht]=e,(i=n.nodeValue!==r)&&(t=Ue,t!==null))switch(t.tag){case 3:Cs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ht]=e,e.stateNode=n}return xe(e),null;case 13:if(J(Z),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&Me!==null&&e.mode&1&&!(e.flags&128))Bd(),Zr(),e.flags|=98560,i=!1;else if(i=Es(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[ht]=e}else Zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),i=!1}else st!==null&&(Pl(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?ce===0&&(ce=3):Ta())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return tn(),bl(t,e),t===null&&Yn(e.stateNode.containerInfo),xe(e),null;case 10:return fa(e.type._context),xe(e),null;case 17:return $e(e.type)&&ai(),xe(e),null;case 19:if(J(Z),i=e.memoizedState,i===null)return xe(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)_n(i,!1);else{if(ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=mi(t),l!==null){for(e.flags|=128,_n(i,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return G(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&ie()>nn&&(e.flags|=128,n=!0,_n(i,!1),e.lanes=4194304)}else{if(!n)if(t=mi(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_n(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Y)return xe(e),null}else 2*ie()-i.renderingStartTime>nn&&r!==1073741824&&(e.flags|=128,n=!0,_n(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(r=i.last,r!==null?r.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ie(),e.sibling=null,r=Z.current,G(Z,n?r&1|2:r&1),e):(xe(e),null);case 22:case 23:return Pa(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?De&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Vm(t,e){switch(ua(e),e.tag){case 1:return $e(e.type)&&ai(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tn(),J(Re),J(je),va(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ya(e),null;case 13:if(J(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Z),null;case 4:return tn(),null;case 10:return fa(e.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Os=!1,be=!1,qm=typeof WeakSet=="function"?WeakSet:Set,A=null;function Wr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(t,e,n)}else r.current=null}function jl(t,e,r){try{r()}catch(n){se(t,e,n)}}var Yu=!1;function Km(t,e){if(il=si,t=Pd(),la(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var x;f!==r||s!==0&&f.nodeType!==3||(a=l+s),f!==i||n!==0&&f.nodeType!==3||(u=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(x=f.firstChild)!==null;)p=f,f=x;for(;;){if(f===t)break t;if(p===r&&++c===s&&(a=l),p===i&&++h===n&&(u=l),(x=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=x}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ol={focusedElem:t,selectionRange:r},si=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,P=b.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:tt(e.type,_),P);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){se(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return b=Yu,Yu=!1,b}function Dn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jl(e,r,i)}s=s.next}while(s!==n)}}function Ii(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _l(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Nh(t){var e=t.alternate;e!==null&&(t.alternate=null,Nh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[Zn],delete e[ul],delete e[Pm],delete e[Tm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sh(t){return t.tag===5||t.tag===3||t.tag===4}function Xu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=li));else if(n!==4&&(t=t.child,t!==null))for(kl(t,e,r),t=t.sibling;t!==null;)kl(t,e,r),t=t.sibling}function Nl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nl(t,e,r),t=t.sibling;t!==null;)Nl(t,e,r),t=t.sibling}var pe=null,rt=!1;function Pt(t,e,r){for(r=r.child;r!==null;)Ch(t,e,r),r=r.sibling}function Ch(t,e,r){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 5:be||Wr(r,e);case 6:var n=pe,s=rt;pe=null,Pt(t,e,r),pe=n,rt=s,pe!==null&&(rt?(t=pe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(rt?(t=pe,r=r.stateNode,t.nodeType===8?wo(t.parentNode,r):t.nodeType===1&&wo(t,r),Gn(t)):wo(pe,r.stateNode));break;case 4:n=pe,s=rt,pe=r.stateNode.containerInfo,rt=!0,Pt(t,e,r),pe=n,rt=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&jl(r,e,l),s=s.next}while(s!==n)}Pt(t,e,r);break;case 1:if(!be&&(Wr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){se(r,e,a)}Pt(t,e,r);break;case 21:Pt(t,e,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,Pt(t,e,r),be=n):Pt(t,e,r);break;default:Pt(t,e,r)}}function Zu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new qm),e.forEach(function(n){var s=rg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ze(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:pe=a.stateNode,rt=!1;break e;case 3:pe=a.stateNode.containerInfo,rt=!0;break e;case 4:pe=a.stateNode.containerInfo,rt=!0;break e}a=a.return}if(pe===null)throw Error(k(160));Ch(i,l,s),pe=null,rt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){se(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Eh(e,t),e=e.sibling}function Eh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),at(t),n&4){try{Dn(3,t,t.return),Ii(3,t)}catch(_){se(t,t.return,_)}try{Dn(5,t,t.return)}catch(_){se(t,t.return,_)}}break;case 1:Ze(e,t),at(t),n&512&&r!==null&&Wr(r,r.return);break;case 5:if(Ze(e,t),at(t),n&512&&r!==null&&Wr(r,r.return),t.flags&32){var s=t.stateNode;try{Hn(s,"")}catch(_){se(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jc(s,i),Qo(a,l);var c=Qo(a,i);for(l=0;l<u.length;l+=2){var h=u[l],f=u[l+1];h==="style"?td(s,f):h==="dangerouslySetInnerHTML"?Zc(s,f):h==="children"?Hn(s,f):Gl(s,h,f,c)}switch(a){case"input":Ho(s,i);break;case"textarea":Yc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Vr(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vr(s,!!i.multiple,i.defaultValue,!0):Vr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zn]=i}catch(_){se(t,t.return,_)}}break;case 6:if(Ze(e,t),at(t),n&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){se(t,t.return,_)}}break;case 3:if(Ze(e,t),at(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gn(e.containerInfo)}catch(_){se(t,t.return,_)}break;case 4:Ze(e,t),at(t);break;case 13:Ze(e,t),at(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ca=ie())),n&4&&Zu(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(be=(c=be)||h,Ze(e,t),be=c):Ze(e,t),at(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(A=t,h=t.child;h!==null;){for(f=A=h;A!==null;){switch(p=A,x=p.child,p.tag){case 0:case 11:case 14:case 15:Dn(4,p,p.return);break;case 1:Wr(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){se(n,r,_)}}break;case 5:Wr(p,p.return);break;case 22:if(p.memoizedState!==null){tc(f);continue}}x!==null?(x.return=p,A=x):tc(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ed("display",l))}catch(_){se(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){se(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ze(e,t),at(t),n&4&&Zu(t);break;case 21:break;default:Ze(e,t),at(t)}}function at(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Sh(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hn(s,""),n.flags&=-33);var i=Xu(t);Nl(t,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,a=Xu(t);kl(t,a,l);break;default:throw Error(k(161))}}catch(u){se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gm(t,e,r){A=t,Ph(t)}function Ph(t,e,r){for(var n=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Os;if(!l){var a=s.alternate,u=a!==null&&a.memoizedState!==null||be;a=Os;var c=be;if(Os=l,(be=u)&&!c)for(A=s;A!==null;)l=A,u=l.child,l.tag===22&&l.memoizedState!==null?rc(s):u!==null?(u.return=l,A=u):rc(s);for(;i!==null;)A=i,Ph(i),i=i.sibling;A=s,Os=a,be=c}ec(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):ec(t)}}function ec(t){for(;A!==null;){var e=A;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||Ii(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!be)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:tt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Mu(e,i,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Mu(e,l,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Gn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}be||e.flags&512&&_l(e)}catch(p){se(e,e.return,p)}}if(e===t){A=null;break}if(r=e.sibling,r!==null){r.return=e.return,A=r;break}A=e.return}}function tc(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var r=e.sibling;if(r!==null){r.return=e.return,A=r;break}A=e.return}}function rc(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ii(4,e)}catch(u){se(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){se(e,s,u)}}var i=e.return;try{_l(e)}catch(u){se(e,i,u)}break;case 5:var l=e.return;try{_l(e)}catch(u){se(e,l,u)}}}catch(u){se(e,e.return,u)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var Qm=Math.ceil,vi=Et.ReactCurrentDispatcher,Na=Et.ReactCurrentOwner,qe=Et.ReactCurrentBatchConfig,z=0,fe=null,oe=null,me=0,De=0,Hr=Xt(0),ce=0,is=null,yr=0,Li=0,Sa=0,Mn=null,Te=null,Ca=0,nn=1/0,vt=null,xi=!1,Sl=null,qt=null,As=!1,Ft=null,wi=0,Un=0,Cl=null,Js=-1,Ys=0;function Se(){return z&6?ie():Js!==-1?Js:Js=ie()}function Kt(t){return t.mode&1?z&2&&me!==0?me&-me:Am.transition!==null?(Ys===0&&(Ys=fd()),Ys):(t=H,t!==0||(t=window.event,t=t===void 0?16:wd(t.type)),t):1}function ot(t,e,r,n){if(50<Un)throw Un=0,Cl=null,Error(k(185));as(t,r,n),(!(z&2)||t!==fe)&&(t===fe&&(!(z&2)&&(Li|=r),ce===4&&Dt(t,me)),Ie(t,n),r===1&&z===0&&!(e.mode&1)&&(nn=ie()+500,Ai&&Zt()))}function Ie(t,e){var r=t.callbackNode;Ap(t,e);var n=ni(t,t===fe?me:0);if(n===0)r!==null&&du(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&du(r),e===1)t.tag===0?Om(nc.bind(null,t)):Ud(nc.bind(null,t)),Cm(function(){!(z&6)&&Zt()}),r=null;else{switch(pd(n)){case 1:r=Zl;break;case 4:r=dd;break;case 16:r=ri;break;case 536870912:r=hd;break;default:r=ri}r=Dh(r,Th.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Th(t,e){if(Js=-1,Ys=0,z&6)throw Error(k(327));var r=t.callbackNode;if(Jr()&&t.callbackNode!==r)return null;var n=ni(t,t===fe?me:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=bi(t,n);else{e=n;var s=z;z|=2;var i=Ah();(fe!==t||me!==e)&&(vt=null,nn=ie()+500,hr(t,e));do try{Xm();break}catch(a){Oh(t,a)}while(!0);ha(),vi.current=i,z=s,oe!==null?e=0:(fe=null,me=0,e=ce)}if(e!==0){if(e===2&&(s=el(t),s!==0&&(n=s,e=El(t,s))),e===1)throw r=is,hr(t,0),Dt(t,n),Ie(t,ie()),r;if(e===6)Dt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Jm(s)&&(e=bi(t,n),e===2&&(i=el(t),i!==0&&(n=i,e=El(t,i))),e===1))throw r=is,hr(t,0),Dt(t,n),Ie(t,ie()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:or(t,Te,vt);break;case 3:if(Dt(t,n),(n&130023424)===n&&(e=Ca+500-ie(),10<e)){if(ni(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Se(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=al(or.bind(null,t,Te,vt),e);break}or(t,Te,vt);break;case 4:if(Dt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-it(n);i=1<<l,l=e[l],l>s&&(s=l),n&=~i}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Qm(n/1960))-n,10<n){t.timeoutHandle=al(or.bind(null,t,Te,vt),n);break}or(t,Te,vt);break;case 5:or(t,Te,vt);break;default:throw Error(k(329))}}}return Ie(t,ie()),t.callbackNode===r?Th.bind(null,t):null}function El(t,e){var r=Mn;return t.current.memoizedState.isDehydrated&&(hr(t,e).flags|=256),t=bi(t,e),t!==2&&(e=Te,Te=r,e!==null&&Pl(e)),t}function Pl(t){Te===null?Te=t:Te.push.apply(Te,t)}function Jm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~Sa,e&=~Li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-it(e),n=1<<r;t[r]=-1,e&=~n}}function nc(t){if(z&6)throw Error(k(327));Jr();var e=ni(t,0);if(!(e&1))return Ie(t,ie()),null;var r=bi(t,e);if(t.tag!==0&&r===2){var n=el(t);n!==0&&(e=n,r=El(t,n))}if(r===1)throw r=is,hr(t,0),Dt(t,e),Ie(t,ie()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,or(t,Te,vt),Ie(t,ie()),null}function Ea(t,e){var r=z;z|=1;try{return t(e)}finally{z=r,z===0&&(nn=ie()+500,Ai&&Zt())}}function vr(t){Ft!==null&&Ft.tag===0&&!(z&6)&&Jr();var e=z;z|=1;var r=qe.transition,n=H;try{if(qe.transition=null,H=1,t)return t()}finally{H=n,qe.transition=r,z=e,!(z&6)&&Zt()}}function Pa(){De=Hr.current,J(Hr)}function hr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Sm(r)),oe!==null)for(r=oe.return;r!==null;){var n=r;switch(ua(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ai();break;case 3:tn(),J(Re),J(je),va();break;case 5:ya(n);break;case 4:tn();break;case 13:J(Z);break;case 19:J(Z);break;case 10:fa(n.type._context);break;case 22:case 23:Pa()}r=r.return}if(fe=t,oe=t=Gt(t.current,null),me=De=e,ce=0,is=null,Sa=Li=yr=0,Te=Mn=null,cr!==null){for(e=0;e<cr.length;e++)if(r=cr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}cr=null}return t}function Oh(t,e){do{var r=oe;try{if(ha(),Ks.current=yi,gi){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}gi=!1}if(gr=0,he=ue=ee=null,Ln=!1,rs=0,Na.current=null,r===null||r.return===null){ce=1,is=e,oe=null;break}e:{var i=t,l=r.return,a=r,u=e;if(e=me,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Hu(l);if(x!==null){x.flags&=-257,Vu(x,l,a,i,e),x.mode&1&&Wu(i,c,e),e=x,u=c;var b=e.updateQueue;if(b===null){var _=new Set;_.add(u),e.updateQueue=_}else b.add(u);break e}else{if(!(e&1)){Wu(i,c,e),Ta();break e}u=Error(k(426))}}else if(Y&&a.mode&1){var P=Hu(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Vu(P,l,a,i,e),ca(rn(u,a));break e}}i=u=rn(u,a),ce!==4&&(ce=2),Mn===null?Mn=[i]:Mn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=ph(i,u,e);Du(i,y);break e;case 1:a=u;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qt===null||!qt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=mh(i,a,e);Du(i,w);break e}}i=i.return}while(i!==null)}$h(r)}catch(S){e=S,oe===r&&r!==null&&(oe=r=r.return);continue}break}while(!0)}function Ah(){var t=vi.current;return vi.current=yi,t===null?yi:t}function Ta(){(ce===0||ce===3||ce===2)&&(ce=4),fe===null||!(yr&268435455)&&!(Li&268435455)||Dt(fe,me)}function bi(t,e){var r=z;z|=2;var n=Ah();(fe!==t||me!==e)&&(vt=null,hr(t,e));do try{Ym();break}catch(s){Oh(t,s)}while(!0);if(ha(),z=r,vi.current=n,oe!==null)throw Error(k(261));return fe=null,me=0,ce}function Ym(){for(;oe!==null;)Rh(oe)}function Xm(){for(;oe!==null&&!_p();)Rh(oe)}function Rh(t){var e=Lh(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?$h(t):oe=e,Na.current=null}function $h(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Vm(r,e),r!==null){r.flags&=32767,oe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ce=6,oe=null;return}}else if(r=Hm(r,e,De),r!==null){oe=r;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);ce===0&&(ce=5)}function or(t,e,r){var n=H,s=qe.transition;try{qe.transition=null,H=1,Zm(t,e,r,n)}finally{qe.transition=s,H=n}return null}function Zm(t,e,r,n){do Jr();while(Ft!==null);if(z&6)throw Error(k(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Rp(t,i),t===fe&&(oe=fe=null,me=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||As||(As=!0,Dh(ri,function(){return Jr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var l=H;H=1;var a=z;z|=4,Na.current=null,Km(t,r),Eh(r,t),xm(ol),si=!!il,ol=il=null,t.current=r,Gm(r),kp(),z=a,H=l,qe.transition=i}else t.current=r;if(As&&(As=!1,Ft=t,wi=s),i=t.pendingLanes,i===0&&(qt=null),Cp(r.stateNode),Ie(t,ie()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(xi)throw xi=!1,t=Sl,Sl=null,t;return wi&1&&t.tag!==0&&Jr(),i=t.pendingLanes,i&1?t===Cl?Un++:(Un=0,Cl=t):Un=0,Zt(),null}function Jr(){if(Ft!==null){var t=pd(wi),e=qe.transition,r=H;try{if(qe.transition=null,H=16>t?16:t,Ft===null)var n=!1;else{if(t=Ft,Ft=null,wi=0,z&6)throw Error(k(331));var s=z;for(z|=4,A=t.current;A!==null;){var i=A,l=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(A=c;A!==null;){var h=A;switch(h.tag){case 0:case 11:case 15:Dn(8,h,i)}var f=h.child;if(f!==null)f.return=h,A=f;else for(;A!==null;){h=A;var p=h.sibling,x=h.return;if(Nh(h),h===c){A=null;break}if(p!==null){p.return=x,A=p;break}A=x}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}A=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,A=l;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,A=y;break e}A=i.return}}var m=t.current;for(A=m;A!==null;){l=A;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,A=g;else e:for(l=m;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ii(9,a)}}catch(S){se(a,a.return,S)}if(a===l){A=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,A=w;break e}A=a.return}}if(z=s,Zt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ci,t)}catch{}n=!0}return n}finally{H=r,qe.transition=e}}return!1}function sc(t,e,r){e=rn(r,e),e=ph(t,e,1),t=Vt(t,e,1),e=Se(),t!==null&&(as(t,1,e),Ie(t,e))}function se(t,e,r){if(t.tag===3)sc(t,t,r);else for(;e!==null;){if(e.tag===3){sc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){t=rn(r,t),t=mh(e,t,1),e=Vt(e,t,1),t=Se(),e!==null&&(as(e,1,t),Ie(e,t));break}}e=e.return}}function eg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&r,fe===t&&(me&r)===r&&(ce===4||ce===3&&(me&130023424)===me&&500>ie()-Ca?hr(t,0):Sa|=r),Ie(t,e)}function Ih(t,e){e===0&&(t.mode&1?(e=js,js<<=1,!(js&130023424)&&(js=4194304)):e=1);var r=Se();t=St(t,e),t!==null&&(as(t,e,r),Ie(t,r))}function tg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Ih(t,r)}function rg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),Ih(t,r)}var Lh;Lh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Ae=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ae=!1,Wm(t,e,r);Ae=!!(t.flags&131072)}else Ae=!1,Y&&e.flags&1048576&&Fd(e,di,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qs(t,e),t=e.pendingProps;var s=Xr(e,je.current);Qr(e,r),s=wa(null,e,n,t,s,r);var i=ba();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(n)?(i=!0,ui(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ma(e),s.updater=$i,e.stateNode=s,s._reactInternals=e,ml(e,n,t,r),e=vl(null,e,n,!0,i,r)):(e.tag=0,Y&&i&&aa(e),Ne(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=sg(n),t=tt(n,t),s){case 0:e=yl(null,e,n,t,r);break e;case 1:e=Gu(null,e,n,t,r);break e;case 11:e=qu(null,e,n,t,r);break e;case 14:e=Ku(null,e,n,tt(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),yl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),Gu(t,e,n,s,r);case 3:e:{if(xh(e),t===null)throw Error(k(387));n=e.pendingProps,i=e.memoizedState,s=i.element,qd(t,e),pi(e,n,null,r);var l=e.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=rn(Error(k(423)),e),e=Qu(t,e,n,r,s);break e}else if(n!==s){s=rn(Error(k(424)),e),e=Qu(t,e,n,r,s);break e}else for(Me=Ht(e.stateNode.containerInfo.firstChild),Ue=e,Y=!0,st=null,r=Hd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),n===s){e=Ct(t,e,r);break e}Ne(t,e,n,r)}e=e.child}return e;case 5:return Kd(e),t===null&&hl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,ll(n,s)?l=null:i!==null&&ll(n,i)&&(e.flags|=32),vh(t,e),Ne(t,e,l,r),e.child;case 6:return t===null&&hl(e),null;case 13:return wh(t,e,r);case 4:return ga(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=en(e,null,n,r):Ne(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),qu(t,e,n,s,r);case 7:return Ne(t,e,e.pendingProps,r),e.child;case 8:return Ne(t,e,e.pendingProps.children,r),e.child;case 12:return Ne(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,G(hi,n._currentValue),n._currentValue=l,i!==null)if(lt(i.value,l)){if(i.children===s.children&&!Re.current){e=Ct(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=_t(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),fl(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(k(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),fl(l,r,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ne(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qr(e,r),s=Ge(s),n=n(s),e.flags|=1,Ne(t,e,n,r),e.child;case 14:return n=e.type,s=tt(n,e.pendingProps),s=tt(n.type,s),Ku(t,e,n,s,r);case 15:return gh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),Qs(t,e),e.tag=1,$e(n)?(t=!0,ui(e)):t=!1,Qr(e,r),fh(e,n,s),ml(e,n,s,r),vl(null,e,n,!0,t,r);case 19:return bh(t,e,r);case 22:return yh(t,e,r)}throw Error(k(156,e.tag))};function Dh(t,e){return cd(t,e)}function ng(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,r,n){return new ng(t,e,r,n)}function Oa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sg(t){if(typeof t=="function")return Oa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jl)return 11;if(t===Yl)return 14}return 2}function Gt(t,e){var r=t.alternate;return r===null?(r=Ve(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xs(t,e,r,n,s,i){var l=2;if(n=t,typeof t=="function")Oa(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case $r:return fr(r.children,s,i,e);case Ql:l=8,s|=8;break;case Uo:return t=Ve(12,r,e,s|2),t.elementType=Uo,t.lanes=i,t;case Fo:return t=Ve(13,r,e,s),t.elementType=Fo,t.lanes=i,t;case zo:return t=Ve(19,r,e,s),t.elementType=zo,t.lanes=i,t;case Kc:return Di(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vc:l=10;break e;case qc:l=9;break e;case Jl:l=11;break e;case Yl:l=14;break e;case Rt:l=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ve(l,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function fr(t,e,r,n){return t=Ve(7,t,n,e),t.lanes=r,t}function Di(t,e,r,n){return t=Ve(22,t,n,e),t.elementType=Kc,t.lanes=r,t.stateNode={isHidden:!1},t}function Eo(t,e,r){return t=Ve(6,t,null,e),t.lanes=r,t}function Po(t,e,r){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ig(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Aa(t,e,r,n,s,i,l,a,u){return t=new ig(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ve(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ma(i),t}function og(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Mh(t){if(!t)return Jt;t=t._reactInternals;e:{if(wr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if($e(r))return Md(t,r,e)}return e}function Uh(t,e,r,n,s,i,l,a,u){return t=Aa(r,n,!0,t,s,i,l,a,u),t.context=Mh(null),r=t.current,n=Se(),s=Kt(r),i=_t(n,s),i.callback=e??null,Vt(r,i,s),t.current.lanes=s,as(t,s,n),Ie(t,n),t}function Mi(t,e,r,n){var s=e.current,i=Se(),l=Kt(s);return r=Mh(r),e.context===null?e.context=r:e.pendingContext=r,e=_t(i,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vt(s,e,l),t!==null&&(ot(t,s,l,i),qs(t,s,l)),l}function ji(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ic(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ra(t,e){ic(t,e),(t=t.alternate)&&ic(t,e)}function lg(){return null}var Fh=typeof reportError=="function"?reportError:function(t){console.error(t)};function $a(t){this._internalRoot=t}Ui.prototype.render=$a.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Mi(t,e,null,null)};Ui.prototype.unmount=$a.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vr(function(){Mi(null,t,null,null)}),e[Nt]=null}};function Ui(t){this._internalRoot=t}Ui.prototype.unstable_scheduleHydration=function(t){if(t){var e=yd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Lt.length&&e!==0&&e<Lt[r].priority;r++);Lt.splice(r,0,t),r===0&&xd(t)}};function Ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oc(){}function ag(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ji(l);i.call(c)}}var l=Uh(e,n,t,0,null,!1,!1,"",oc);return t._reactRootContainer=l,t[Nt]=l.current,Yn(t.nodeType===8?t.parentNode:t),vr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ji(u);a.call(c)}}var u=Aa(t,0,!1,null,null,!1,!1,"",oc);return t._reactRootContainer=u,t[Nt]=u.current,Yn(t.nodeType===8?t.parentNode:t),vr(function(){Mi(e,u,r,n)}),u}function zi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var u=ji(l);a.call(u)}}Mi(e,l,t,s)}else l=ag(r,e,t,s,n);return ji(l)}md=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=En(e.pendingLanes);r!==0&&(ea(e,r|1),Ie(e,ie()),!(z&6)&&(nn=ie()+500,Zt()))}break;case 13:vr(function(){var n=St(t,1);if(n!==null){var s=Se();ot(n,t,1,s)}}),Ra(t,1)}};ta=function(t){if(t.tag===13){var e=St(t,134217728);if(e!==null){var r=Se();ot(e,t,134217728,r)}Ra(t,134217728)}};gd=function(t){if(t.tag===13){var e=Kt(t),r=St(t,e);if(r!==null){var n=Se();ot(r,t,e,n)}Ra(t,e)}};yd=function(){return H};vd=function(t,e){var r=H;try{return H=t,e()}finally{H=r}};Yo=function(t,e,r){switch(e){case"input":if(Ho(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Oi(n);if(!s)throw Error(k(90));Qc(n),Ho(n,s)}}}break;case"textarea":Yc(t,r);break;case"select":e=r.value,e!=null&&Vr(t,!!r.multiple,e,!1)}};sd=Ea;id=vr;var ug={usingClientEntryPoint:!1,Events:[cs,Mr,Oi,rd,nd,Ea]},kn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:kn.bundleType,version:kn.version,rendererPackageName:kn.rendererPackageName,rendererConfig:kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ad(t),t===null?null:t.stateNode},findFiberByHostInstance:kn.findFiberByHostInstance||lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Ci=Rs.inject(cg),ft=Rs}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ug;ze.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ia(e))throw Error(k(200));return og(t,e,null,r)};ze.createRoot=function(t,e){if(!Ia(t))throw Error(k(299));var r=!1,n="",s=Fh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Aa(t,1,!1,null,null,r,!1,n,s),t[Nt]=e.current,Yn(t.nodeType===8?t.parentNode:t),new $a(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=ad(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return vr(t)};ze.hydrate=function(t,e,r){if(!Fi(e))throw Error(k(200));return zi(null,t,e,!0,r)};ze.hydrateRoot=function(t,e,r){if(!Ia(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Fh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=Uh(e,null,t,1,r??null,s,!1,i,l),t[Nt]=e.current,Yn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ui(e)};ze.render=function(t,e,r){if(!Fi(e))throw Error(k(200));return zi(null,t,e,!1,r)};ze.unmountComponentAtNode=function(t){if(!Fi(t))throw Error(k(40));return t._reactRootContainer?(vr(function(){zi(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};ze.unstable_batchedUpdates=Ea;ze.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Fi(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return zi(t,e,r,!1,n)};ze.version="18.3.1-next-f1338f8080-20240426";function zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zh)}catch(t){console.error(t)}}zh(),zc.exports=ze;var dg=zc.exports,lc=dg;Do.createRoot=lc.createRoot,Do.hydrateRoot=lc.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(t,e)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:a="",children:u,...c},h)=>O.createElement("svg",{ref:h,...hg,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${fg(t)}`,a].join(" "),...c},[...e.map(([f,p])=>O.createElement(f,p)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=de("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=de("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=de("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jg="modulepreload",_g=function(t){return"/"+t},hc={},hs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=_g(u),u in hc)return;hc[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":jg,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,x)=>{f.addEventListener("load",p),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return s.then(l=>{for(const a of l||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},kg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class La extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ng extends La{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fc extends La{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pc extends La{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tl||(Tl={}));var Sg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Cg{constructor(e,{headers:r={},customFetch:n,region:s=Tl.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=kg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Sg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(a["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(a["Content-Type"]="application/json",h=JSON.stringify(l)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:h}).catch(_=>{throw new Ng(_)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new fc(f);if(!f.ok)throw new pc(f);let x=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield f.json():x==="application/octet-stream"?b=yield f.blob():x==="text/event-stream"?b=f:x==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof pc||s instanceof fc?s.context:void 0}}})}}var Oe={},Da={},Bi={},fs={},Wi={},Hi={},Eg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sn=Eg();const Pg=sn.fetch,Bh=sn.fetch.bind(sn),Wh=sn.Headers,Tg=sn.Request,Og=sn.Response,un=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wh,Request:Tg,Response:Og,default:Bh,fetch:Pg},Symbol.toStringTag,{value:"Module"})),Ag=Uf(un);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});let Rg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vi.default=Rg;var Hh=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});const $g=Hh(Ag),Ig=Hh(Vi);let Lg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$g.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,a,u;let c=null,h=null,f=null,p=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const _=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),P=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&P&&P.length>1&&(f=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(h=[],c=null,p=200,x="OK")}catch{i.status===404&&_===""?(p=204,x="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,x="OK"),c&&this.shouldThrowOnError)throw new Ig.default(c)}return{error:c,data:h,count:f,status:p,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,a,u;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Hi.default=Lg;var Dg=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const Mg=Dg(Hi);let Ug=class extends Mg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",a=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${c}"; options=${u};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wi.default=Ug;var Fg=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});const zg=Fg(Wi);let Bg=class extends zg.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};fs.default=Bg;var Wg=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});const Nn=Wg(fs);let Hg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const l=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(l.length>0){const a=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const l="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Nn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Nn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bi.default=Hg;var qi={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.version=void 0;Ki.version="0.0.0-automated";Object.defineProperty(qi,"__esModule",{value:!0});qi.DEFAULT_HEADERS=void 0;const Vg=Ki;qi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Vg.version}`};var Vh=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Da,"__esModule",{value:!0});const qg=Vh(Bi),Kg=Vh(fs),Gg=qi;let Qg=class qh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new qg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let l;const a=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{a.searchParams.append(h,f)})):(l="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Kg.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Da.default=Qg;var cn=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const Kh=cn(Da);Oe.PostgrestClient=Kh.default;const Gh=cn(Bi);Oe.PostgrestQueryBuilder=Gh.default;const Qh=cn(fs);Oe.PostgrestFilterBuilder=Qh.default;const Jh=cn(Wi);Oe.PostgrestTransformBuilder=Jh.default;const Yh=cn(Hi);Oe.PostgrestBuilder=Yh.default;const Xh=cn(Vi);Oe.PostgrestError=Xh.default;var Jg=Oe.default={PostgrestClient:Kh.default,PostgrestQueryBuilder:Gh.default,PostgrestFilterBuilder:Qh.default,PostgrestTransformBuilder:Jh.default,PostgrestBuilder:Yh.default,PostgrestError:Xh.default};const{PostgrestClient:Yg,PostgrestQueryBuilder:Yy,PostgrestFilterBuilder:Xy,PostgrestTransformBuilder:Zy,PostgrestBuilder:ev,PostgrestError:tv}=Jg;class Xg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zg="2.15.1",e0=`realtime-js/${Zg}`,t0="1.0.0",Ol=1e4,r0=1e3,n0=100;var Fn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fn||(Fn={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var Al;(function(t){t.websocket="websocket"})(Al||(Al={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class s0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const a=n.decode(e.slice(l,l+s));l=l+s;const u=n.decode(e.slice(l,l+i));l=l+i;const c=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class Zh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(K||(K={}));const mc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=i0(l,t,e,s),i),{})},i0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,l=r[t];return i&&!n.includes(i)?ef(i,l):Rl(l)},ef=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return u0(e,r)}switch(t){case K.bool:return o0(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return l0(e);case K.json:case K.jsonb:return a0(e);case K.timestamp:return c0(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return Rl(e);default:return Rl(e)}},Rl=t=>t,o0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},l0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},a0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},u0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(a=>ef(e,a))}return t},c0=t=>typeof t=="string"?t.replace(" ","T"):t,tf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class To{constructor(e,r,n={},s=Ol){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gc||(gc={}));class zn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zn.syncState(this.state,s,i,l),this.pendingDiffs.forEach(u=>{this.state=zn.syncDiff(this.state,u,i,l)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zn.syncDiff(this.state,s,i,l),a())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),l=this.transformState(r),a={},u={};return this.map(i,(c,h)=>{l[c]||(u[c]=h)}),this.map(l,(c,h)=>{const f=i[c];if(f){const p=h.map(P=>P.presence_ref),x=f.map(P=>P.presence_ref),b=h.filter(P=>x.indexOf(P.presence_ref)<0),_=f.filter(P=>p.indexOf(P.presence_ref)<0);b.length>0&&(a[c]=b),_.length>0&&(u[c]=_)}else a[c]=h}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),h.length>0){const f=e[a].map(x=>x.presence_ref),p=h.filter(x=>f.indexOf(x.presence_ref)<0);e[a].unshift(...p)}n(a,h,u)}),this.map(l,(a,u)=>{let c=e[a];if(!c)return;const h=u.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yc||(yc={}));var Bn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bn||(Bn={}));var xt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class Ma{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new To(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Zh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new zn(this),this.broadcastEndpointURL=tf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:i,presence:l,private:a}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Bn.PRESENCE]&&this.bindings[Bn.PRESENCE].length>0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(xt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(xt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){e==null||e(xt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,_=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,P=[];for(let y=0;y<_;y++){const m=b[y],{filter:{event:g,schema:w,table:S,filter:N}}=m,j=p&&p[y];if(j&&j.event===g&&j.schema===w&&j.table===S&&j.filter===N)P.push(Object.assign(Object.assign({},m),{id:j.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(xt.SUBSCRIBED);return}}).receive("error",p=>{this.state=le.errored,e==null||e(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===le.joined&&e===Bn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(l=this.params)===null||l===void 0?void 0:l.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new To(this,nt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new To(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>n0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const l=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:h}=nt;if(n&&[a,u,c,h].indexOf(l)>=0&&n!==this._joinRef())return;let p=this._onMessage(l,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var b,_,P;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((P=(_=x.filter)===null||_===void 0?void 0:_.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===l}).map(x=>x.callback(p,n)):(i=this.bindings[l])===null||i===void 0||i.filter(x=>{var b,_,P,y,m,g;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const w=x.id,S=(b=x.filter)===null||b===void 0?void 0:b.event;return w&&((_=r.ids)===null||_===void 0?void 0:_.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const w=(m=(y=x==null?void 0:x.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:_,table:P,commit_timestamp:y,type:m,errors:g}=b;p=Object.assign(Object.assign({},{schema:_,table:P,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(b))}x.callback(p,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ma.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=mc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=mc(e.columns,e.old_record)),r}}const vc=()=>{},Ds={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},d0=[1e3,2e3,5e3,1e4],h0=1e4,f0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ol,this.transport=null,this.heartbeatIntervalMs=Ds.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vc,this.ref=0,this.reconnectTimer=null,this.logger=vc,this.conn=null,this.sendBuffer=[],this.serializer=new s0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>hs(async()=>{const{default:a}=await Promise.resolve().then(()=>un);return{default:a}},void 0).then(({default:a})=>a(...l)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Al.websocket}`,this.httpEndpoint=tf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return ar.Connecting;case Fn.open:return ar.Open;case Fn.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ma(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,l=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(r0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ds.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:l}=r,a=l?`(${l})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([f0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:e0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ds.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,l,a,u,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ol,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ds.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>d0[h-1]||h0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ua extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m0 extends Ua{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $l extends Ua{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var g0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const rf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},y0=()=>g0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>un),void 0)).Response:Response}),Il=t=>{if(Array.isArray(t))return t.map(r=>Il(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Il(n)}),e},v0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var br=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const Oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),x0=(t,e,r)=>br(void 0,void 0,void 0,function*(){const n=yield y0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new m0(Oo(s),i,l))}).catch(s=>{e(new $l(Oo(s),s))}):e(new $l(Oo(t),t))}),w0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(v0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ps(t,e,r,n,s,i){return br(this,void 0,void 0,function*(){return new Promise((l,a)=>{t(r,w0(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>x0(u,a,n))})})}function ki(t,e,r,n){return br(this,void 0,void 0,function*(){return ps(t,"GET",e,r,n)})}function ct(t,e,r,n,s){return br(this,void 0,void 0,function*(){return ps(t,"POST",e,n,s,r)})}function Ll(t,e,r,n,s){return br(this,void 0,void 0,function*(){return ps(t,"PUT",e,n,s,r)})}function b0(t,e,r,n){return br(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nf(t,e,r,n,s){return br(this,void 0,void 0,function*(){return ps(t,"DELETE",e,n,s,r)})}var ke=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const j0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=rf(s)}uploadOrUpdate(e,r,n,s){return ke(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},xc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${l.cacheControl}`,a["content-type"]=l.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),f=yield(e=="PUT"?Ll:ct)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:a},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${l}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:xc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield Ll(this.fetch,a.toString(),u,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(u){if(ae(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),a=l.searchParams.get("token");if(!a)throw new Ua("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:a},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=yield ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(e,r){return ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ki(this.fetch,`${this.url}/${s}/${a}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ki(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Il(n),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield b0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ae(n)&&n instanceof $l){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},j0),r),{prefix:e||""});return{data:yield ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return ke(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const k0="2.11.0",N0={"X-Client-Info":`storage-js/${k0}`};var Sr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class S0{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},N0),r),this.fetch=rf(n)}listBuckets(){return Sr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Sr(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Sr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Sr(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Sr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Sr(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}}class C0 extends S0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new _0(this.url,this.headers,e,this.fetch)}}const E0="2.55.0";let Tn="";typeof Deno<"u"?Tn="deno":typeof document<"u"?Tn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tn="react-native":Tn="node";const P0={"X-Client-Info":`supabase-js-${Tn}/${E0}`},T0={headers:P0},O0={schema:"public"},A0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R0={};var $0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const I0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bh:e=fetch,(...r)=>e(...r)},L0=()=>typeof Headers>"u"?Wh:Headers,D0=(t,e,r)=>{const n=I0(r),s=L0();return(i,l)=>$0(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(l==null?void 0:l.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},l),{headers:c}))})};var M0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};function U0(t){return t.endsWith("/")?t:t+"/"}function F0(t,e){var r,n;const{db:s,auth:i,realtime:l,global:a}=t,{db:u,auth:c,realtime:h,global:f}=e,p={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>M0(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const sf="2.71.1",Or=30*1e3,Dl=3,Ao=Dl*Or,z0="http://localhost:9999",B0="supabase.auth.token",W0={"X-Client-Info":`gotrue-js/${sf}`},Ml="X-Supabase-Api-Version",of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},H0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V0=10*60*1e3;class Fa extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class q0 extends Fa{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function K0(t){return D(t)&&t.name==="AuthApiError"}class lf extends Fa{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class er extends Fa{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class At extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G0(t){return D(t)&&t.name==="AuthSessionMissingError"}class Ms extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends er{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fs extends er{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q0(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class wc extends er{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ul extends er{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ro(t){return D(t)&&t.name==="AuthRetryableFetchError"}class bc extends er{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fl extends er{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),J0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=-2;for(let e=0;e<Ni.length;e+=1)t[Ni[e].charCodeAt(0)]=e;return t})();function _c(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}}function af(t,e,r){const n=J0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function kc(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{Z0(l,n,r)};for(let l=0;l<t.length;l+=1)af(t.charCodeAt(l),s,i);return e.join("")}function Y0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function X0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Y0(n,e)}}function Z0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ey(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)af(t.charCodeAt(s),r,n);return new Uint8Array(e)}function ty(t){const e=[];return X0(t,r=>e.push(r)),new Uint8Array(e)}function ry(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>_c(s,r,n)),_c(null,r,n),e.join("")}function ny(t){return Math.round(Date.now()/1e3)+t}function sy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},uf=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function iy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const cf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>un);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ar=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},sr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tt=async(t,e)=>{await t.removeItem(e)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Gi.promiseConstructor=Promise;function $o(t){const e=t.split(".");if(e.length!==3)throw new Fl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!H0.test(e[n]))throw new Fl("JWT not in base64url format");return{header:JSON.parse(kc(e[0])),payload:JSON.parse(kc(e[1])),signature:ey(e[2]),raw:{header:e[0],payload:e[1]}}}async function ly(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ay(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function uy(t){return("0"+t.toString(16)).substr(-2)}function cy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,uy).join("")}async function dy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await dy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(t,e,r=!1){const n=cy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ar(t,`${e}-code-verifier`,s);const i=await hy(n);return[i,n===i?"plain":"s256"]}const fy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function py(t){const e=t.headers.get(Ml);if(!e||!e.match(fy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function my(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(t){if(!yy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nc(t){return JSON.parse(JSON.stringify(t))}var vy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const lr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xy=[502,503,504];async function Sc(t){var e;if(!oy(t))throw new Ul(lr(t),0);if(xy.includes(t.status))throw new Ul(lr(t),t.status);let r;try{r=await t.json()}catch(i){throw new lf(lr(i),i)}let n;const s=py(t);if(s&&s.getTime()>=of["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bc(lr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new At}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new bc(lr(r),t.status,r.weak_password.reasons);throw new q0(lr(r),t.status||500,n)}const wy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ml]||(i[Ml]=of["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const a=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await by(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function by(t,e,r,n,s,i){const l=wy(e,n,s,i);let a;try{a=await t(r,Object.assign({},l))}catch(u){throw console.error(u),new Ul(lr(u),0)}if(a.ok||await Sc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Sc(u)}}function yt(t){var e;let r=null;Ny(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ny(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Cc(t){const e=yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function jy(t){return{data:t,error:null}}function _y(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,l=vy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},l);return{data:{properties:a,user:u},error:null}}function ky(t){return t}function Ny(t){return t.access_token&&t.refresh_token&&t.expires_in}const Lo=["global","local","others"];var Sy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Cy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=cf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Lo[0]){if(Lo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Sy(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_y,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,l,a,u;try{const c={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ky});if(h.error)throw h.error;const f=await h.json(),p=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(u=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(b.split(";")[1].split("=")[1]);c[`${P}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Er(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Er(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Mt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Er(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Er(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Er(e.userId),Er(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}function Ec(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Ey(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pr={debug:!!(globalThis&&uf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class df extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Py extends df{}async function Ty(t,e,r){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Py(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ey();const Oy={url:z0,storageKey:B0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:W0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pc(t,e,r){return await r()}const Tr={};class os{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Oy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Cy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=cf(s.fetch),this.lock=s.lock||Pc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ty:this.lock=Pc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:uf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Tr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Tr[this.storageKey]=Object.assign(Object.assign({},Tr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Tr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tr[this.storageKey]=Object.assign(Object.assign({},Tr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=iy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Q0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",a),await this._saveSession(l),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new lf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:l,error:a}=i;if(a||!l)return{data:{user:null,session:null},error:a};const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:f,options:p}=e;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await Cr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:b},xform:yt})}else if("phone"in e){const{phone:h,password:f,options:p}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:yt})}else throw new Us("You must provide either an email or phone number and a password");const{data:l,error:a}=i;if(a||!l)return{data:{user:null,session:null},error:a};const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:l,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else if("phone"in e){const{phone:i,password:l,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Cc})}else throw new Us("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ms}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,l,a,u,c,h,f,p,x;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:P,wallet:y,statement:m,options:g}=e;let w;if(et())if(typeof y=="object")w=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))w=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const N=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let j;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")j=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)j=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)b=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const N=await w.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=N}}try{const{data:P,error:y}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ry(_)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:yt});if(y)throw y;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Ms}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:y})}catch(P){if(D(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ms}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ms}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,l;try{if("email"in e){const{email:a,options:u}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await Cr(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Us("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(a)throw a;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,c=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Cr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:jy})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new At;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:l,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:a}}throw new Us("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await sr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Io()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,h)=>(!l&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:a}=r;if(a)throw a;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mt})})}catch(r){if(D(r))return G0(r)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new At;const l=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await Cr(this.storage,this.storageKey));const{data:c,error:h}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:l.access_token,xform:Mt});if(h)throw h;return l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=$o(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:a}=r;if(a)throw a;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!et())throw new Fs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wc("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!l||!c)throw new Fs("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(a);let p=h+f;u&&(p=parseInt(u));const x=p-h;x*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${f}s`);const b=p-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,h);const{data:_,error:P}=await this._getUser(i);if(P)throw P;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:l,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:a}=await this.admin.signOut(l,e);if(a&&!(K0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=sy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Cr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,a,u,c,h;const{data:f,error:p}=i;if(p)throw p;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return et()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ay(async s=>(s>0&&await ly(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(s,i)=>{const l=200*Math.pow(2,s);return i&&Ro(i)&&Date.now()+l-n<Or})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sr(this.storage,this.storageKey);if(s&&this.userStorage){let l=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Ar(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Io()}else if(s&&!s.user&&!s.user){const l=await sr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Tt(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,s)):s.user=Io()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ao;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ao}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Ro(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:a}=await this._getUser(s.access_token);!a&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const l={session:null,error:i};return Ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(l),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Nc(s);await Ar(this.storage,this.storageKey,i)}else{const s=Nc(r);await Ar(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Or}ms, refresh threshold is ${Dl} ticks`),s<=Dl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof df)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:a})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=$o(s.access_token);let a=null;l.aal&&(a=l.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=l.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+V0>s)return n;const{data:i,error:l}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:b}=await this.getSession();if(b||!x.session)return{data:null,error:b};n=x.session.access_token}const{header:s,payload:i,signature:l,raw:{header:a,payload:u}}=$o(n);r!=null&&r.allowExpired||my(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:s,signature:l},error:null}}const h=gy(s.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,l,ty(`${a}.${u}`)))throw new Fl("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}os.nextInstanceID=0;const Ay=os;class Ry extends Ay{constructor(e){super(e)}}var $y=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function a(h){try{c(n.next(h))}catch(f){l(f)}}function u(h){try{c(n.throw(h))}catch(f){l(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Iy{constructor(e,r,n){var s,i,l;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=U0(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:O0,realtime:R0,auth:Object.assign(Object.assign({},A0),{storageKey:c}),global:T0},f=F0(n??{},h);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=D0(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Yg(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new C0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Cg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return $y(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:a,debug:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ry({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new p0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ly=(t,e,r)=>new Iy(t,e,r);function Dy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Dy()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const My="https://hdqbnhtimuynuypwouwf.supabase.co",Uy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWJuaHRpbXV5bnV5cHdvdXdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzOTExMTIsImV4cCI6MjA3MDk2NzExMn0.JU4TzFtiUmVDAJ0QNu7lcu5RcXEJw6jhNUB86L1YTSQ",dt=Ly(My,Uy);class Fy{constructor(){gn(this,"isConnected",!1);gn(this,"subscriptions",[]);gn(this,"orderUpdateCallbacks",[]);gn(this,"connectionCallbacks",[]);this.initializeSupabaseRealtime()}initializeSupabaseRealtime(){try{const e=dt.channel("orders").on("postgres_changes",{event:"*",schema:"public",table:"orders"},n=>{console.log("📦 Order change:",n);const s=n.new;n.eventType==="UPDATE"?this.notifyOrderUpdateCallbacks(s):n.eventType==="INSERT"&&console.log("🆕 New order created:",s)}).subscribe(n=>{console.log("🔗 Supabase real-time status:",n),this.isConnected=n==="SUBSCRIBED",this.notifyConnectionCallbacks(this.isConnected)}),r=dt.channel("products").on("postgres_changes",{event:"*",schema:"public",table:"products"},n=>{console.log("📦 Product change:",n)}).subscribe();this.subscriptions.push(e,r)}catch(e){console.error("Failed to initialize Supabase real-time:",e)}}isSocketConnected(){return this.isConnected}async connect(e){console.log("🔗 User connected:",e)}async disconnect(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.subscriptions=[],console.log("🔌 User disconnected")}onOrderUpdate(e){this.orderUpdateCallbacks.push(e)}onConnectionChange(e){this.connectionCallbacks.push(e)}notifyOrderUpdateCallbacks(e){this.orderUpdateCallbacks.forEach(r=>r(e))}notifyConnectionCallbacks(e){this.connectionCallbacks.forEach(r=>r(e))}async getProducts(){try{console.log("🔍 Fetching products from Supabase...");const{data:e,error:r}=await dt.from("products").select("*").order("name");if(r)throw console.error("Supabase products query error:",r),r;return console.log("📦 Products fetched from Supabase:",(e==null?void 0:e.length)||0,"products"),e&&e.length>0&&console.log("Sample product:",e[0]),e||[]}catch(e){throw console.error("Failed to fetch products:",e),e}}async createOrder(e){try{const{data:r,error:n}=await dt.from("orders").insert([{user_id:e.user_id,customer_name:e.customer_name,customer_phone:e.customer_phone,address:e.address,items:e.items,total:e.total,status:"pending"}]).select().single();if(n)throw n;return console.log("📦 Order created successfully:",r),r}catch(r){throw console.error("Failed to create order:",r),r}}async getOrders(e){try{const{data:r,error:n}=await dt.from("orders").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;return r||[]}catch(r){throw console.error("Failed to fetch orders:",r),r}}async getOrder(e){try{const{data:r,error:n}=await dt.from("orders").select("*").eq("id",e).single();if(n)throw n;return r}catch(r){throw console.error("Failed to fetch order:",r),r}}removeAllListeners(){this.orderUpdateCallbacks=[],this.connectionCallbacks=[]}}const Ot=new Fy,zy=Vl.memo(({showToast:t,toastMessage:e})=>t&&o.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300",children:o.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-xl border border-emerald-500 flex items-center space-x-3",children:[o.jsx(It,{className:"w-6 h-6"}),o.jsx("span",{className:"font-semibold",children:e})]})})),By=Vl.memo(({product:t,addToCart:e,addingToCart:r})=>o.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[t.featured&&o.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full mb-3 inline-block",children:"FEATURED"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-32 object-cover rounded-2xl",onError:n=>{n.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBWMTMwTTcwIDEwMEgxMzAiIHN0cm9rZT0iIzlDQTNBRiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+"}}),!t.inStock&&o.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:"OUT OF STOCK"})}),t.labTested&&o.jsx("div",{className:"absolute top-2 right-2 bg-green-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:"LAB TESTED"})]}),o.jsx("h3",{className:"font-bold text-gray-900 mb-2 leading-tight",children:t.name}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${t.strain==="Sativa"?"bg-green-100 text-green-800":t.strain==="Indica"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:t.strain}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-sm text-gray-900",children:["THC: ",t.thc]}),t.cbd&&o.jsxs("div",{className:"text-xs text-gray-600",children:["CBD: ",t.cbd]})]})]}),o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsxs("div",{className:"flex items-center mr-3",children:[o.jsx(wg,{className:"w-4 h-4 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-sm font-semibold text-gray-700 ml-1",children:t.rating})]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.reviewCount," reviews)"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-black text-xl text-gray-900",children:["$",t.price]}),t.originalPrice&&o.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["$",t.originalPrice]})]}),t.inStock?o.jsx("button",{type:"button",onClick:()=>e(t),disabled:r===t.id,className:`p-3 rounded-full transition-all shadow-lg transform focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 ${r===t.id?"bg-green-500 scale-110":"bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 hover:scale-110 active:scale-95 hover:shadow-xl"} text-white`,children:r===t.id?o.jsx(It,{className:"w-5 h-5"}):o.jsx(_i,{className:"w-5 h-5"})}):o.jsx("button",{type:"button",disabled:!0,className:"bg-gray-300 text-gray-500 p-3 rounded-full cursor-not-allowed opacity-50",children:o.jsx(_i,{className:"w-5 h-5"})})]})]})),Wy=()=>{var Ka;const[t,e]=O.useState("auth"),[r,n]=O.useState("login"),[s,i]=O.useState(!1),[l,a]=O.useState(!1),[u,c]=O.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:""}),[h,f]=O.useState([]),[p,x]=O.useState({name:"Alex Chen",email:"alex@example.com",address:"123 Main St, Austin, TX",rewards:1250,age:25,idVerified:!1}),[b,_]=O.useState([]),[P,y]=O.useState([]),[m,g]=O.useState("all"),[w,S]=O.useState(""),[N,j]=O.useState(""),[R,E]=O.useState(!1),[M,Pe]=O.useState(null),[V,mt]=O.useState({isOpen:!1,order:null}),[_e,dn]=O.useState({isOpen:!1,order:null}),[tr,re]=O.useState({isOpen:!1,type:null}),[T,L]=O.useState({lat:30.2672,lng:-97.7431,heading:45,speed:25}),[I,X]=O.useState({darkMode:!1,biometricLogin:!0,soundEffects:!0,analytics:!1}),[q,jr]=O.useState({orderUpdates:!0,promotionsDeals:!0,newProducts:!1,deliveryReminders:!0,fsRewards:!0,smsNotifications:!1,emailUpdates:!0}),[Le,hn]=O.useState({locationTracking:!0,purchaseHistory:!0,analytics:!1,thirdPartySharing:!1,biometricLogin:!0}),[Je,gt]=O.useState([{id:1,type:"Apple Pay",icon:"🍎",status:"Connected",primary:!0,details:""},{id:2,type:"Visa",icon:"💳",status:"Active",primary:!1,details:"•••• 4242"},{id:3,type:"FS Coin",icon:"🪙",status:"Available",primary:!1,details:`${p.rewards} coins`}]),[hf,Qi]=O.useState(!1),[ne,rr]=O.useState({type:"card",cardNumber:"",expiryDate:"",cvv:"",name:""});O.useEffect(()=>(s&&(async()=>{try{const v=await Ot.getProducts();if(console.log("Loaded products from Supabase:",v==null?void 0:v.length),y(v),s&&p.email)try{const $=await Ot.getOrders(p.email);_($.map(W=>({id:W.order_id,status:W.status,items:W.items.map(ye=>ye.name),total:W.total,date:W.created_at,estimatedDelivery:"1-2 hours",driver:"Driver Assigned",vehicle:"Vehicle Info"})))}catch($){console.warn("Failed to load orders:",$)}s&&p.email&&Ot.connect(p.email);const C=Ot.isSocketConnected();console.log("Supabase real-time connection status:",C),Ot.onOrderUpdate($=>{_(W=>W.map(ye=>ye.id===$.order_id?{...ye,status:$.status}:ye))}),console.log("Data loading completed"),j("Live data loaded successfully!"),E(!0)}catch(v){console.error("Failed to load live data:",v),j("Failed to load live data. Please check your connection."),E(!0)}finally{}})(),()=>{Ot.removeAllListeners(),Ot.disconnect()}),[s,p.email]),O.useEffect(()=>{gt(d=>d.map(v=>v.type==="FS Coin"?{...v,details:`${p.rewards} coins`}:v))},[p.rewards]);const[Ji,fn]=O.useState([{id:1,name:"Home",address:p.address,primary:!0,type:"home",instructions:""},{id:2,name:"Work",address:"789 Business Ave, Austin, TX 78701",primary:!1,type:"work",instructions:"Use side entrance"},{id:3,name:"Friend's Place",address:"456 Party St, Austin, TX 78704",primary:!1,type:"other",instructions:"Ring doorbell twice"}]),[ff,pn]=O.useState(!1),[mn,ms]=O.useState(null),[B,Ye]=O.useState({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""});O.useEffect(()=>{fn(d=>d.map(v=>v.type==="home"&&v.primary?{...v,address:p.address}:v))},[p.address]);const[Yi,za]=O.useState({isOpen:!1}),[Ba,Wa]=O.useState([{id:1,sender:"agent",name:"Sarah from Support",message:"Hi! How can I help you today?",time:"2:34 PM",avatar:"👩‍💼"}]),[_r,Xi]=O.useState(""),[Ha,Zi]=O.useState(!1),[gs,pf]=O.useState("online"),mf=O.useCallback(d=>{X(C=>({...C,[d]:!C[d]}));const v={darkMode:`Dark mode ${I[d]?"disabled":"enabled"}`,biometricLogin:`Biometric login ${I[d]?"disabled":"enabled"}`,soundEffects:`Sound effects ${I[d]?"disabled":"enabled"}`,analytics:`Usage analytics ${I[d]?"disabled":"enabled"}`};j(v[d]),E(!0),setTimeout(()=>E(!1),2e3)},[I]),gf=O.useCallback(d=>{jr(v=>({...v,[d]:!v[d]})),j("Notification setting updated"),E(!0),setTimeout(()=>E(!1),2e3)},[]),yf=O.useCallback(d=>{hn(v=>({...v,[d]:!v[d]})),j("Privacy setting updated"),E(!0),setTimeout(()=>E(!1),2e3)},[]),vf=O.useCallback(()=>{if(ne.type==="card"&&(!ne.cardNumber||!ne.expiryDate||!ne.cvv||!ne.name)){alert("Please fill in all card details");return}const d={id:Date.now(),type:ne.type==="card"?`${ne.cardNumber.slice(0,4)} •••• ${ne.cardNumber.slice(-4)}`:ne.type==="paypal"?"PayPal":"Google Pay",icon:ne.type==="card"?"💳":ne.type==="paypal"?"💙":"🔵",status:"Active",primary:Je.length===0,details:ne.type==="card"?`Expires ${ne.expiryDate}`:"Connected"};gt(v=>[...v,d]),rr({type:"card",cardNumber:"",expiryDate:"",cvv:"",name:""}),Qi(!1),j("Payment method added successfully"),E(!0),setTimeout(()=>E(!1),2e3)},[ne,Je.length]),xf=O.useCallback(d=>{gt(v=>{const C=v.filter($=>$.id!==d);return C.length>0&&!C.some($=>$.primary)&&(C[0].primary=!0),C}),j("Payment method removed"),E(!0),setTimeout(()=>E(!1),2e3)},[]),wf=O.useCallback(d=>{gt(v=>v.map(C=>({...C,primary:C.id===d}))),j("Primary payment method updated"),E(!0),setTimeout(()=>E(!1),2e3)},[]),bf=O.useCallback(()=>{if(!B.name||!B.address||!B.city||!B.zipCode){alert("Please fill in all required fields");return}const d=`${B.address}, ${B.city}, ${B.state} ${B.zipCode}`,v={id:Date.now(),name:B.name,address:d,primary:Ji.length===0,type:B.type,instructions:B.instructions};fn(C=>[...C,v]),Ye({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""}),pn(!1),ms(null),j("Delivery address added successfully"),E(!0),setTimeout(()=>E(!1),2e3)},[B,Ji.length]),jf=O.useCallback(()=>{if(!B.name||!B.address||!B.city||!B.zipCode){alert("Please fill in all required fields");return}const d=`${B.address}, ${B.city}, ${B.state} ${B.zipCode}`;fn(v=>v.map(C=>C.id===mn?{...C,name:B.name,address:d,type:B.type,instructions:B.instructions}:C)),Ye({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""}),pn(!1),ms(null),j("Address updated successfully"),E(!0),setTimeout(()=>E(!1),2e3)},[B,mn]),_f=O.useCallback(d=>{fn(v=>{const C=v.filter($=>$.id!==d);return C.length>0&&!C.some($=>$.primary)&&(C[0].primary=!0,C[0].type==="home"&&x($=>({...$,address:C[0].address}))),C}),j("Address removed"),E(!0),setTimeout(()=>E(!1),2e3)},[]),kf=O.useCallback(d=>{fn(v=>v.map(C=>{const $={...C,primary:C.id===d};return $.primary&&$.type==="home"&&x(W=>({...W,address:$.address})),$})),j("Primary delivery address updated"),E(!0),setTimeout(()=>E(!1),2e3)},[]),Nf=O.useCallback(d=>{const v=d.address.split(", "),C=v[v.length-1].split(" ");Ye({name:d.name,address:v.slice(0,-2).join(", "),city:v[v.length-2],state:C[0]||"TX",zipCode:C[1]||"",type:d.type,instructions:d.instructions||""}),ms(d.id),pn(!0)},[]),Va=O.useCallback(()=>{za({isOpen:!0});const d=["online","away","busy"];pf(d[Math.floor(Math.random()*d.length)])},[]),Sf=O.useCallback(()=>{za({isOpen:!1}),Xi(""),Zi(!1)},[]),eo=O.useCallback(()=>{if(!_r.trim())return;const d={id:Date.now(),sender:"user",name:p.name,message:_r.trim(),time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),avatar:"👤"};Wa(v=>[...v,d]),Xi(""),Zi(!0),setTimeout(()=>{Zi(!1);const v=["Thanks for reaching out! I'm looking into that for you.","Let me check on that order status for you right away.","I understand your concern. I'll help you resolve this quickly.","That's a great question! Here's what I can tell you...","I see you're asking about delivery. Let me get those details.","Perfect! I can definitely help you with that request.","Thanks for being patient. I have some good news for you!"],C={id:Date.now()+1,sender:"agent",name:"Sarah from Support",message:v[Math.floor(Math.random()*v.length)],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),avatar:"👩‍💼"};Wa($=>[...$,C])},1500+Math.random()*2e3)},[_r,p.name]),Cf=O.useCallback(d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),eo())},[eo]),Ef=[{id:"all",name:"All Products",icon:"🌿",gradient:"from-green-400 to-emerald-500"},{id:"flower",name:"Flower",icon:"🌸",gradient:"from-pink-400 to-rose-500"},{id:"vapes",name:"Vapes",icon:"💨",gradient:"from-blue-400 to-cyan-500"},{id:"prerolls",name:"Pre-rolls",icon:"🚬",gradient:"from-orange-400 to-amber-500"},{id:"edibles",name:"Edibles",icon:"🍯",gradient:"from-purple-400 to-violet-500"}];console.log("realProducts from Supabase:",P),P.length===0&&console.log("No products available from Supabase");const Pf=P.map(d=>({id:parseInt(d.id)||1,name:d.name,category:d.category,price:d.price,originalPrice:null,thc:d.thc,cbd:d.cbd,strain:"Hybrid",rating:4.8,reviewCount:100,imageUrl:"https://images.unsplash.com/photo-1588776814546-1ffcf47267a5?w=400&h=400&fit=crop&crop=center",description:`${d.name} - Premium quality cannabis product.`,effects:["Relaxed","Happy","Creative"],labTested:!0,inStock:d.stock>0,featured:!1})).filter(d=>{const v=m==="all"||d.category===m,C=d.name.toLowerCase().includes(w.toLowerCase());return v&&C}),Tf=O.useCallback(d=>{d.inStock&&(Pe(d.id),setTimeout(()=>Pe(null),500),f(v=>v.find($=>$.id===d.id)?(j(`Added another ${d.name} to cart!`),E(!0),setTimeout(()=>E(!1),3e3),v.map($=>$.id===d.id?{...$,quantity:$.quantity+1}:$)):(j(`${d.name} added to cart!`),E(!0),setTimeout(()=>E(!1),3e3),[...v,{...d,quantity:1}])))},[]),qa=O.useCallback((d,v)=>{f(C=>C.map(W=>{if(W.id===d){const ye=W.quantity+v;return ye<=0?(j(`${W.name} removed from cart`),E(!0),setTimeout(()=>E(!1),2e3),null):(v>0?j(`Increased ${W.name} quantity`):j(`Decreased ${W.name} quantity`),E(!0),setTimeout(()=>E(!1),2e3),{...W,quantity:ye})}return W}).filter(Boolean))},[]),Xe=h.reduce((d,v)=>d+v.price*v.quantity,0),to=h.reduce((d,v)=>d+v.quantity,0),Of=O.useCallback(async()=>{if(r==="login")if(u.email&&u.email.trim()&&u.password&&u.password.trim())try{console.log("🔐 Attempting login with:",u.email);const{data:d,error:v}=await dt.auth.signInWithPassword({email:u.email,password:u.password});if(v){console.error("Login error:",v),v.message.includes("Invalid login credentials")?j("Invalid email or password. Please try again."):v.message.includes("Email not confirmed")?j("Please check your email and confirm your account before logging in."):j(`Login failed: ${v.message}`),E(!0);return}console.log("✅ Login successful:",d),i(!0),e("home"),x(C=>{var $,W;return{...C,email:u.email,name:((W=($=d.user)==null?void 0:$.user_metadata)==null?void 0:W.name)||u.name||"User"}}),j("Successfully logged in!"),E(!0)}catch(d){console.error("Login error:",d),j("Login failed. Please try again."),E(!0)}else j("Please enter email and password"),E(!0);else if(r==="signup"){if(!u.name||!u.dateOfBirth||!u.phone||!u.email||!u.password){j("Please fill in all required fields"),E(!0);return}if(u.password!==u.confirmPassword){j("Passwords do not match"),E(!0);return}const d=new Date(u.dateOfBirth),C=new Date().getFullYear()-d.getFullYear();if(C<21){j("You must be 21 or older to use this service"),E(!0);return}try{console.log("🔐 Attempting signup with:",u.email);const{data:$,error:W}=await dt.auth.signUp({email:u.email,password:u.password,options:{data:{name:u.name,phone:u.phone,age:C,address:"123 Main St, Austin, TX"},emailRedirectTo:window.location.origin}});if(W){console.error("Signup error:",W),j("Signup failed. Please try again."),E(!0);return}if(console.log("✅ Signup successful:",$),$.user&&!$.user.email_confirmed_at){j("Account created! Please check your email (including spam folder) and click the confirmation link, then try logging in again."),E(!0),n("login"),setTimeout(()=>{j("If you don't see the email, check your spam folder or try creating the account again."),E(!0)},5e3);return}i(!0),e("home"),x(ye=>({...ye,email:u.email,name:u.name,phone:u.phone,age:C})),j("Account created and logged in successfully!"),E(!0)}catch($){console.error("Signup error:",$),j("Signup failed. Please try again."),E(!0)}}else r==="forgot"&&(u.email&&u.email.trim()?(j("Password reset link sent to your email!"),n("login"),E(!0)):(j("Please enter your email address"),E(!0)))},[r,u]),Af=O.useCallback(async()=>{try{const d=u.email||"demo@fadedskies.com",v=u.password||"demo123";console.log("🔐 Attempting authentication with:",d);const{data:C,error:$}=await dt.auth.signInWithPassword({email:d,password:v});if($){if(console.log("Login failed:",$.message),$.message.includes("Invalid login credentials")){j("Invalid email or password. Please check your credentials or create a new account."),E(!0);return}console.log("Attempting to create new account...");const{data:W,error:ye}=await dt.auth.signUp({email:d,password:v,options:{data:{name:u.name||"User",phone:u.phone||"+1234567890",address:"123 Main St, Austin, TX"}}});if(ye){console.error("Sign up error:",ye),j("Account creation failed. Please try again."),E(!0);return}if(console.log("✅ New user created:",W),W.user&&!W.user.email_confirmed_at){j("Account created! Please check your email to confirm before logging in."),E(!0);return}}else console.log("✅ User authenticated:",C);i(!0),e("home"),x(W=>{var ye,Ga,Qa,Ja,Ya,Xa;return{...W,email:d,name:u.name||((Ga=(ye=C==null?void 0:C.user)==null?void 0:ye.user_metadata)==null?void 0:Ga.name)||"User",phone:u.phone||((Ja=(Qa=C==null?void 0:C.user)==null?void 0:Qa.user_metadata)==null?void 0:Ja.phone)||"+1234567890",address:((Xa=(Ya=C==null?void 0:C.user)==null?void 0:Ya.user_metadata)==null?void 0:Xa.address)||"123 Main St, Austin, TX"}}),j("Successfully authenticated!"),E(!0)}catch(d){console.error("Login error:",d),j("Authentication failed. Please try again."),E(!0)}},[u]),Rf=O.useCallback(()=>{i(!1),e("auth"),n("login"),f([]),c({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:""})},[]),ro=O.useCallback(()=>{c({email:"",password:"",confirmPassword:"",name:"",phone:"",dateOfBirth:""})},[]),$f=O.useCallback(()=>{x(d=>({...d,idVerified:!0})),e("cart")},[]),If=O.useCallback(async()=>{if(!p.idVerified)e("id-verification");else try{const d={user_id:p.email,customer_name:p.name,customer_phone:p.phone||"+1234567890",address:p.address,items:h.map($=>({name:$.name,quantity:$.quantity,price:$.price})),total:Xe+(Xe>=100?0:5)},v=await Ot.createOrder(d),C={id:v.order_id,status:v.status,items:h.map($=>$.name),total:v.total,date:v.created_at,estimatedDelivery:"1-2 hours",driver:"Driver Assigned",vehicle:"Vehicle Info"};_($=>[C,...$]),f([]),e("orders"),j("Order placed successfully!"),E(!0)}catch(d){console.error("Failed to create order:",d),j("Failed to place order. Please try again."),E(!0)}},[p.idVerified,p.email,p.name,p.phone,p.address,h,Xe]);return O.useEffect(()=>{var d;if(_e.isOpen&&((d=_e.order)==null?void 0:d.status)==="in-transit"){const v=setInterval(()=>{L(C=>({...C,lat:C.lat+(Math.random()-.5)*.002,lng:C.lng+(Math.random()-.5)*.002,heading:C.heading+(Math.random()-.5)*10,speed:Math.max(15,Math.min(35,C.speed+(Math.random()-.5)*5))}))},3e3);return()=>clearInterval(v)}},[_e.isOpen,(Ka=_e.order)==null?void 0:Ka.status]),O.useEffect(()=>{if(Yi.isOpen){const d=document.querySelector(".chat-messages");d&&(d.scrollTop=d.scrollHeight)}},[Ba,Ha,Yi.isOpen]),o.jsxs("div",{className:"max-w-md mx-auto bg-gray-50 min-h-screen",children:[o.jsx(zy,{showToast:R,toastMessage:N}),s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gradient-to-r from-emerald-500 via-green-500 to-emerald-600 text-white px-6 py-4 shadow-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg font-black",children:"FS"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-black tracking-tight",children:"Faded Skies"}),o.jsx("div",{className:"text-xs text-green-100 font-semibold",children:"Premium Cannabis"})]})]}),p.idVerified&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs bg-green-700/80 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[o.jsx(It,{className:"w-3 h-3"}),o.jsx("span",{className:"font-semibold",children:"Verified"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[o.jsx($s,{className:"w-4 h-4"}),o.jsx("span",{children:"Austin, TX"})]}),o.jsx("div",{className:"relative",children:o.jsxs("button",{type:"button",onClick:()=>e("cart"),className:"relative p-3 bg-emerald-700/80 backdrop-blur-sm rounded-xl hover:bg-emerald-800 transition-all shadow-lg hover:shadow-xl",children:[o.jsx(dc,{className:"w-5 h-5"}),to>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg animate-pulse",children:to})]})})]})]})}),t==="home"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 via-green-500 to-emerald-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsxs("h1",{className:"text-3xl font-black mb-2",children:["Welcome back, ",p.name,"!"]}),o.jsx("p",{className:"text-green-100 text-lg mb-6 font-medium",children:"Premium cannabis delivered to your door"}),o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-3xl border border-white/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"font-semibold",children:"Rewards Balance"}),o.jsxs("span",{className:"font-black text-2xl",children:[p.rewards," FS Coins"]})]}),o.jsx("div",{className:"bg-emerald-600/80 backdrop-blur-sm p-3 rounded-2xl text-center",children:o.jsx("span",{className:"text-sm font-bold",children:"🚚 Free delivery on orders $100+"})})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(xg,{className:"absolute left-4 top-4 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search premium products...",value:w,onChange:d=>S(d.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-white shadow-sm font-medium"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Categories"}),o.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:Ef.map(d=>o.jsxs("button",{type:"button",onClick:()=>g(d.id),className:`flex items-center space-x-2 px-6 py-3 rounded-full whitespace-nowrap transition-all font-semibold shadow-lg ${m===d.id?`bg-gradient-to-r ${d.gradient} text-white shadow-xl transform scale-105`:"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[o.jsx("span",{className:"text-lg",children:d.icon}),o.jsx("span",{children:d.name})]},d.id))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Premium Products"}),o.jsx("button",{type:"button",className:"text-emerald-600 hover:text-emerald-700 font-semibold text-sm",children:"View All"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:Pf.map(d=>o.jsx(By,{product:d,addToCart:Tf,addingToCart:M},d.id))})]})]})]}),t==="cart"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Your Cart"}),o.jsxs("p",{className:"text-green-100 text-lg",children:[to," items • $",Xe.toFixed(2)]})]}),o.jsx("div",{className:"p-6",children:h.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner",children:o.jsx(dc,{className:"w-16 h-16 text-gray-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Your cart is empty"}),o.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Discover our premium cannabis products"}),o.jsx("button",{type:"button",onClick:()=>e("home"),className:"bg-gradient-to-r from-emerald-600 to-green-600 text-white px-10 py-5 rounded-2xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:"🌿 Start Shopping"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4 mb-8",children:h.map(d=>o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("img",{src:d.imageUrl,alt:d.name,className:"w-16 h-16 object-cover rounded-2xl"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-gray-900",children:d.name}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["$",d.price," each"]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[d.strain," • ",d.thc," THC"]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>qa(d.id,-1),className:"bg-gray-100 p-2 rounded-full hover:bg-gray-200 transition-colors",children:o.jsx(ac,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-8 text-center font-bold text-lg",children:d.quantity}),o.jsx("button",{type:"button",onClick:()=>qa(d.id,1),className:"bg-emerald-600 text-white p-2 rounded-full hover:bg-emerald-700 transition-colors",children:o.jsx(_i,{className:"w-4 h-4"})})]})]})},d.id))}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-3xl p-6 mb-8 border border-emerald-100",children:[o.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-900",children:"Order Summary"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:"Subtotal:"}),o.jsxs("span",{className:"font-bold",children:["$",Xe.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium",children:"Delivery:"}),o.jsx("span",{className:`font-bold ${Xe>=100?"text-green-600":""}`,children:Xe>=100?"FREE":"$5.00"})]}),o.jsxs("div",{className:"border-t border-emerald-200 pt-2 flex justify-between items-center",children:[o.jsx("span",{className:"font-bold text-lg",children:"Total:"}),o.jsxs("span",{className:"font-black text-2xl text-emerald-600",children:["$",(Xe+(Xe>=100?0:5)).toFixed(2)]})]}),Xe<100&&o.jsxs("p",{className:"text-sm text-amber-700 mt-3 text-center bg-amber-50 p-3 rounded-xl",children:["Add $",(100-Xe).toFixed(2)," more for free delivery! 🚚"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Payment Methods"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Apple Pay",icon:"🍎"},{name:"Google Pay",icon:"🔵"},{name:"Aeropay",icon:"💳"},{name:"FS Coin",icon:"🪙"}].map(d=>o.jsxs("button",{type:"button",className:"flex items-center justify-center space-x-2 bg-white border-2 border-gray-200 rounded-2xl p-4 hover:border-emerald-300 transition-colors font-semibold",children:[o.jsx("span",{className:"text-lg",children:d.icon}),o.jsx("span",{children:d.name})]},d.name))}),o.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-5 rounded-2xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl",onClick:If,children:p.idVerified?"Place Order":"🆔 Verify Age & Place Order"})]})]})})]}),t==="id-verification"&&o.jsxs("div",{className:"pb-20 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-lg",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ID Verification"}),o.jsx("p",{className:"text-green-100 text-lg",children:"Verify your age to complete purchase"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-2xl p-6 mb-8 shadow-sm",children:[o.jsxs("div",{className:"flex items-center space-x-3 text-amber-800 mb-3",children:[o.jsx(cc,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Age Verification Required"})]}),o.jsx("p",{className:"text-amber-700 leading-relaxed",children:"Please upload a valid government-issued ID to verify you are 21 or older. Your information is secure and encrypted."})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Acceptable ID Types"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{name:"Driver's License",icon:"🚗"},{name:"State ID Card",icon:"🆔"},{name:"Passport",icon:"📘"},{name:"Military ID",icon:"🎖️"}].map(d=>o.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-4 text-center hover:border-emerald-200 transition-colors shadow-sm",children:[o.jsx("div",{className:"text-2xl mb-2",children:d.icon}),o.jsx("span",{className:"text-sm font-semibold text-gray-800",children:d.name})]},d.name))})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Upload Your ID"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-3xl p-10 text-center bg-gradient-to-br from-gray-50 to-white hover:border-emerald-300 transition-colors",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsxs("button",{type:"button",onClick:()=>alert("Camera functionality would open here"),className:"flex flex-col items-center space-y-3 bg-gradient-to-r from-emerald-600 to-green-600 text-white px-8 py-6 rounded-2xl hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:[o.jsx(pg,{className:"w-8 h-8"}),o.jsx("span",{className:"text-sm font-bold",children:"Take Photo"})]}),o.jsxs("button",{type:"button",onClick:()=>alert("File upload would open here"),className:"flex flex-col items-center space-y-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white px-8 py-6 rounded-2xl hover:from-gray-700 hover:to-gray-800 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:[o.jsx(bg,{className:"w-8 h-8"}),o.jsx("span",{className:"text-sm font-bold",children:"Upload File"})]})]}),o.jsx("p",{className:"text-gray-600 font-medium",children:"Make sure your ID is clearly visible and not blurry"})]})}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:[o.jsx("h4",{className:"font-bold mb-3 text-blue-900 text-lg",children:"Photo Guidelines:"}),o.jsxs("ul",{className:"text-blue-800 space-y-2 font-medium",children:[o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(It,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Ensure all text is clearly readable"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(It,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Include all four corners of the ID"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(It,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Avoid glare and shadows"})]}),o.jsxs("li",{className:"flex items-center space-x-2",children:[o.jsx(It,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{children:"Use a dark background"})]})]})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>e("cart"),className:"flex-1 bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:$f,className:"flex-1 bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-2xl font-bold hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl",children:"Verify ID (Demo)"})]})]})]})]})]}),t==="orders"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Your Orders"}),o.jsx("p",{className:"text-green-100 text-lg",children:"Track your deliveries"})]}),o.jsx("div",{className:"p-6 space-y-6",children:b.map(d=>o.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:d.id}),o.jsx("p",{className:"text-gray-600 font-medium",children:d.date}),o.jsxs("p",{className:"text-sm text-gray-500",children:["ETA: ",d.estimatedDelivery]})]}),o.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-bold ${d.status==="delivered"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:d.status==="delivered"?"✅ Delivered":"🚚 In Transit"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Items:"}),o.jsx("p",{className:"font-semibold text-gray-900",children:d.items.join(", ")})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-black text-xl text-gray-900",children:["$",d.total]}),o.jsx("button",{type:"button",onClick:()=>mt({isOpen:!0,order:d}),className:"bg-emerald-600 text-white px-6 py-3 rounded-2xl font-bold hover:bg-emerald-700 transition-colors shadow-lg hover:shadow-xl",children:"📍 Track Order"})]})]},d.id))})]}),t==="profile"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),o.jsx("p",{className:"text-green-100 text-lg",children:"Manage your account & preferences"})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:o.jsx(Ls,{className:"w-10 h-10 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:p.name}),o.jsx("p",{className:"text-gray-600 font-medium",children:p.email}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.idVerified&&o.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[o.jsx(It,{className:"w-3 h-3"}),o.jsx("span",{children:"ID Verified"})]}),o.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:"Premium Member"})]})]}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!0,type:"edit-profile"}),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(uc,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-3xl p-6 border border-emerald-100 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"🪙 FS Coin Rewards"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!0,type:"rewards"}),className:"text-emerald-600 hover:text-emerald-700 font-semibold text-sm",children:"View Details"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-4xl font-black text-emerald-600",children:p.rewards}),o.jsx("span",{className:"font-semibold text-gray-600",children:"Available Balance"})]}),o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Earn 1 FS Coin for every $1 spent"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Account Settings"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{icon:"💳",title:"Payment Methods",desc:"Manage cards & payment",type:"payment"},{icon:"🔔",title:"Notifications",desc:"Push & email settings",type:"notifications"},{icon:"🔒",title:"Privacy & Security",desc:"Account protection",type:"privacy"},{icon:"📍",title:"Delivery Addresses",desc:"Manage locations",type:"addresses"}].map((d,v)=>o.jsxs("button",{type:"button",onClick:()=>re({isOpen:!0,type:d.type}),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all transform hover:scale-[1.02] text-left",children:[o.jsx("div",{className:"text-2xl mb-2",children:d.icon}),o.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]},v))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"App Preferences"}),o.jsx("div",{className:"space-y-3",children:[{key:"darkMode",icon:"🌙",title:"Dark Mode",desc:"Switch to dark theme",enabled:I.darkMode},{key:"biometricLogin",icon:"📱",title:"Biometric Login",desc:"Use Face ID / Touch ID",enabled:I.biometricLogin},{key:"soundEffects",icon:"🔊",title:"Sound Effects",desc:"App sounds & notifications",enabled:I.soundEffects},{key:"analytics",icon:"📊",title:"Usage Analytics",desc:"Help improve the app",enabled:I.analytics}].map((d,v)=>o.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]})]}),o.jsx("button",{type:"button",onClick:()=>mf(d.key),className:`w-12 h-6 rounded-full transition-colors cursor-pointer ${d.enabled?"bg-emerald-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${d.enabled?"translate-x-6":"translate-x-0.5"}`})})]},v))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Support & Help"}),o.jsx("div",{className:"space-y-3",children:[{icon:"❓",title:"Help Center",desc:"FAQs and guides",type:"help"},{icon:"💬",title:"Contact Support",desc:"Get help from our team",type:"support"},{icon:"⭐",title:"Rate App",desc:"Share your feedback",type:"rate"},{icon:"ℹ️",title:"About Faded Skies",desc:"App info and version",type:"about"}].map((d,v)=>o.jsxs("button",{type:"button",onClick:()=>re({isOpen:!0,type:d.type}),className:"w-full bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("span",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]})]},v))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:()=>e("orders"),className:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-600 rounded-2xl p-5 text-left border border-blue-200 hover:from-blue-100 hover:to-indigo-100 transition-colors font-bold shadow-sm flex items-center space-x-3",children:[o.jsx(Is,{className:"w-6 h-6"}),o.jsx("span",{children:"View Order History"})]}),o.jsxs("button",{type:"button",onClick:Rf,className:"w-full bg-gradient-to-r from-red-50 to-red-100 text-red-600 rounded-2xl p-5 text-left border border-red-200 hover:from-red-100 hover:to-red-200 transition-colors font-bold shadow-sm flex items-center space-x-3",children:[o.jsx("span",{className:"text-xl",children:"🚪"}),o.jsx("span",{children:"Sign Out"})]})]})]})]}),t==="support"&&o.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-b-3xl shadow-xl",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Support Center"}),o.jsx("p",{className:"text-green-100 text-lg",children:"We're here to help 24/7"})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("button",{type:"button",onClick:Va,className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl p-6 text-left hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(Nr,{className:"w-6 h-6"}),o.jsx("span",{className:"font-bold text-lg",children:"Live Chat"})]}),o.jsx("p",{className:"text-blue-100 text-sm",children:"Get instant help from our team"}),o.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{children:"Online now"})]})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Call initiated: +1 (512) 555-WEED"),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl p-6 text-left hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-[1.02]",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("span",{className:"text-xl",children:"📞"}),o.jsx("span",{className:"font-bold text-lg",children:"Call Us"})]}),o.jsx("p",{className:"text-green-100 text-sm",children:"Speak with support directly"}),o.jsx("p",{className:"text-xs text-green-200 mt-2",children:"(512) 555-WEED"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"How can we help?"}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{icon:"📦",title:"Order Issues",desc:"Track orders, delivery problems, returns",color:"from-orange-500 to-red-500"},{icon:"💳",title:"Payment & Billing",desc:"Payment methods, refunds, FS Coins",color:"from-blue-500 to-indigo-500"},{icon:"🆔",title:"Account & Verification",desc:"ID verification, account settings",color:"from-purple-500 to-pink-500"},{icon:"🌿",title:"Product Questions",desc:"Strains, effects, lab results",color:"from-green-500 to-emerald-500"},{icon:"🚚",title:"Delivery Areas",desc:"Service areas, delivery times",color:"from-yellow-500 to-orange-500"},{icon:"⚖️",title:"Legal & Compliance",desc:"Laws, regulations, licensing",color:"from-gray-500 to-gray-600"}].map((d,v)=>o.jsxs("button",{type:"button",onClick:()=>alert(`Opening ${d.title} help section...`),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${d.color} rounded-xl flex items-center justify-center text-white text-xl shadow-md`,children:d.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]}),o.jsx("span",{className:"text-gray-400",children:"›"})]},v))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Frequently Asked Questions"}),o.jsx("div",{className:"space-y-3",children:[{question:"How long does delivery take?",answer:"Most deliveries arrive within 1-2 hours. Express delivery is available for orders over $150."},{question:"What's the minimum order amount?",answer:"Our minimum order is $25. Free delivery on orders over $100."},{question:"Do I need to show ID upon delivery?",answer:"Yes, you must show a valid government-issued ID proving you're 21+ at the time of delivery."},{question:"What payment methods do you accept?",answer:"We accept cash, debit cards, Aeropay, Apple Pay, Google Pay, and FS Coins."},{question:"Can I return products?",answer:"Due to cannabis regulations, we cannot accept returns. However, we'll replace any defective products."}].map((d,v)=>o.jsxs("details",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:[o.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer hover:text-emerald-600 transition-colors",children:d.question}),o.jsx("p",{className:"text-gray-600 mt-3 leading-relaxed",children:d.answer})]},v))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Other Ways to Reach Us"}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>alert("Email form opened: support@fadedskies.com"),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-xl",children:"✉️"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Email Support"}),o.jsx("p",{className:"text-sm text-gray-600",children:"support@fadedskies.com • Response within 2 hours"})]})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Opening WhatsApp chat..."),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center text-white text-xl",children:"💬"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"WhatsApp"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Quick messaging support"})]})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Opening ticket submission form..."),className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100 hover:shadow-xl transition-all text-left flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-amber-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-xl",children:"🎫"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Submit a Ticket"}),o.jsx("p",{className:"text-sm text-gray-600",children:"For complex issues requiring investigation"})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-6 border border-emerald-100",children:[o.jsx("h3",{className:"font-bold text-lg text-emerald-800 mb-3",children:"🕒 Support Hours"}),o.jsxs("div",{className:"space-y-2 text-emerald-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Monday - Friday:"}),o.jsx("span",{children:"8:00 AM - 10:00 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Saturday - Sunday:"}),o.jsx("span",{children:"9:00 AM - 9:00 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Emergency Line:"}),o.jsx("span",{className:"font-bold",children:"24/7 Available"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Quick Links"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"Terms of Service",icon:"📄"},{name:"Privacy Policy",icon:"🔒"},{name:"Delivery Areas",icon:"🗺️"},{name:"Product Lab Results",icon:"🧪"},{name:"Cannabis Education",icon:"📚"},{name:"Loyalty Program",icon:"🪙"}].map((d,v)=>o.jsxs("button",{type:"button",onClick:()=>alert(`Opening ${d.name}...`),className:"bg-white rounded-xl p-3 shadow-sm border border-gray-100 hover:shadow-md transition-all text-left flex items-center space-x-3",children:[o.jsx("span",{className:"text-lg",children:d.icon}),o.jsx("span",{className:"font-medium text-gray-900 text-sm",children:d.name})]},v))})]}),o.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-6 border border-red-100",children:[o.jsx("h3",{className:"font-bold text-lg text-red-800 mb-2",children:"🚨 Emergency Support"}),o.jsx("p",{className:"text-red-700 text-sm mb-3",children:"For urgent delivery issues or safety concerns"}),o.jsx("button",{type:"button",onClick:()=>alert("Emergency line: +1 (512) 555-911"),className:"bg-red-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"📞 Call Emergency Line"})]})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 p-4 flex justify-around shadow-xl",children:[{id:"home",icon:vg,label:"Shop"},{id:"orders",icon:Is,label:"Orders"},{id:"profile",icon:Ls,label:"Profile"},{id:"support",icon:Nr,label:"Support"}].map(d=>o.jsxs("button",{type:"button",onClick:()=>e(d.id),className:`flex flex-col items-center p-3 rounded-xl transition-all ${t===d.id?"bg-emerald-100 text-emerald-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(d.icon,{className:"w-6 h-6 mb-1"}),o.jsx("span",{className:"text-xs font-semibold",children:d.label})]},d.id))})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-600 via-green-600 to-teal-700 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 w-full max-w-md shadow-2xl border border-white/20",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx("span",{className:"text-white text-2xl font-bold",children:"FS"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r==="login"?"Welcome Back":r==="signup"?"Join Faded Skies":"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-medium",children:r==="login"?"Sign in to your account":r==="signup"?"Create your premium account":"Enter your email to reset password"})]}),o.jsxs("div",{className:"space-y-5",children:[r==="signup"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Full Name"}),o.jsx("input",{type:"text",value:u.name,onChange:d=>c(v=>({...v,name:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your full name",autoComplete:"name"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Date of Birth"}),o.jsx("input",{type:"date",value:u.dateOfBirth,onChange:d=>c(v=>({...v,dateOfBirth:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",autoComplete:"bday"}),o.jsx("p",{className:"text-xs text-amber-600 font-medium mt-1",children:"Must be 21+ to use this service"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Phone Number"}),o.jsx("input",{type:"tel",value:u.phone,onChange:d=>c(v=>({...v,phone:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"(555) 123-4567",autoComplete:"tel"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Address"}),o.jsx("input",{type:"email",value:u.email,onChange:d=>c(v=>({...v,email:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your email",autoComplete:"email"})]}),r!=="forgot"&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:l?"text":"password",value:u.password,onChange:d=>c(v=>({...v,password:d.target.value})),className:"w-full px-4 py-4 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your password",autoComplete:r==="login"?"current-password":"new-password"}),o.jsx("button",{type:"button",onClick:()=>a(!l),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:l?o.jsx(gg,{className:"w-5 h-5"}):o.jsx(yg,{className:"w-5 h-5"})})]})]}),r==="signup"&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Confirm Password"}),o.jsx("input",{type:"password",value:u.confirmPassword,onChange:d=>c(v=>({...v,confirmPassword:d.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Confirm your password",autoComplete:"new-password"})]}),o.jsx("button",{type:"button",onClick:Of,className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:r==="login"?"Sign In":r==="signup"?"Create Account":"Send Reset Link"})]}),o.jsxs("div",{className:"mt-8 text-center",children:[r==="login"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>n("forgot"),className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Forgot your password?"}),o.jsxs("div",{className:"mt-4",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Don't have an account? "}),o.jsx("button",{type:"button",onClick:()=>{n("signup"),ro()},className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Sign up"})]})]}),r==="signup"&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Already have an account? "}),o.jsx("button",{type:"button",onClick:()=>{n("login"),ro()},className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Sign in"})]}),r==="forgot"&&o.jsx("button",{type:"button",onClick:()=>{n("login"),ro()},className:"text-emerald-600 hover:text-emerald-700 text-sm font-semibold",children:"Back to sign in"})]}),r==="login"&&o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"text-xs text-gray-500 text-center bg-gray-50 p-4 rounded-xl",children:[o.jsx("strong",{children:"Demo Mode:"})," Enter any email and password to continue"]}),o.jsx("button",{type:"button",onClick:Af,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all",children:"Quick Demo Login"})]}),r==="signup"&&o.jsx("div",{className:"mt-6 text-xs text-gray-500 text-center bg-gray-50 p-4 rounded-xl",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. You must be 21+ to use this service."})]})}),V.isOpen&&V.order&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl shadow-2xl",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Track Order"}),o.jsx("button",{type:"button",onClick:()=>mt({isOpen:!1,order:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-green-100 text-lg",children:V.order.id}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${V.order.status==="delivered"?"bg-green-600 text-white":"bg-blue-600 text-white"}`,children:V.order.status==="delivered"?"✅ Delivered":"🚚 In Transit"})]})]}),o.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[V.order.status==="in-transit"&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-6 border border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx(Ls,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:V.order.driver}),o.jsx("p",{className:"text-blue-600 font-semibold",children:"Your Delivery Driver"}),o.jsx("p",{className:"text-sm text-gray-600",children:V.order.vehicle})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-green-600 font-bold",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{children:"Live"})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:V.order.currentLocation})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>alert("Message sent to driver!"),className:"bg-blue-600 text-white px-4 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Nr,{className:"w-4 h-4"}),o.jsx("span",{children:"Message"})]}),o.jsxs("button",{type:"button",onClick:()=>dn({isOpen:!0,order:V.order}),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[o.jsx($s,{className:"w-4 h-4"}),o.jsx("span",{children:"Live Map"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg mb-4 text-gray-900",children:"Tracking Timeline"}),o.jsx("div",{className:"space-y-4",children:[{title:"Order Confirmed",description:"Your order has been received and confirmed",time:"2:15 PM",completed:!0,icon:"✅"},{title:"Age Verification Complete",description:"ID verification successful",time:"2:16 PM",completed:!0,icon:"🆔"},{title:"Preparing Order",description:"Your items are being carefully prepared",time:"2:20 PM",completed:!0,icon:"📦"},V.order.status==="delivered"?{title:"Out for Delivery",description:`Driver ${V.order.driver} is on the way`,time:"2:45 PM",completed:!0,icon:"🚗"}:{title:"Out for Delivery",description:`Driver ${V.order.driver} is ${V.order.currentLocation}`,time:`ETA ${V.order.estimatedDelivery}`,completed:!1,icon:"🚗",current:!0},{title:V.order.status==="delivered"?"Delivered":"Delivery",description:V.order.status==="delivered"?"Order delivered successfully":"We'll notify you when delivered",time:V.order.deliveredAt||"Pending",completed:V.order.status==="delivered",icon:"🏠"}].map((d,v)=>o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold shadow-lg ${d.completed?"bg-green-500 text-white":d.current?"bg-blue-500 text-white animate-pulse":"bg-gray-200 text-gray-500"}`,children:d.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h5",{className:`font-bold ${d.completed||d.current?"text-gray-900":"text-gray-500"}`,children:d.title}),o.jsx("span",{className:`text-sm font-medium ${d.completed||d.current?"text-gray-700":"text-gray-400"}`,children:d.time})]}),o.jsx("p",{className:`text-sm ${d.completed||d.current?"text-gray-600":"text-gray-400"}`,children:d.description})]})]},v))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:"Order Items"}),V.order.items.map((d,v)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[o.jsx("span",{className:"font-medium text-gray-900",children:d}),o.jsx("span",{className:"text-sm text-gray-600",children:"1x"})]},v))]}),o.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4 border border-emerald-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Amount"}),o.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:["$",V.order.total]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Delivery Address"}),o.jsx("p",{className:"font-bold text-gray-900",children:p.address})]})]})})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[V.order.status==="in-transit"&&o.jsx("button",{type:"button",onClick:()=>alert("Support contacted! We'll help resolve any issues."),className:"w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-4 rounded-2xl font-bold hover:from-amber-600 hover:to-orange-600 transition-all shadow-lg",children:"📞 Contact Support"}),o.jsx("button",{type:"button",onClick:()=>mt({isOpen:!1,order:null}),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"Close"})]})]})]})}),tr.isOpen&&tr.type&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl shadow-2xl max-h-[90vh] overflow-hidden",children:[(()=>{switch(tr.type){case"edit-profile":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"✏️ Edit Profile"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Update your personal information"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ls,{className:"w-12 h-12 text-white"})}),o.jsx("button",{type:"button",className:"bg-emerald-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-semibold hover:bg-emerald-200 transition-colors",children:"Change Photo"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",defaultValue:p.name,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",defaultValue:p.email,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",defaultValue:"(512) 555-0123",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date of Birth"}),o.jsx("input",{type:"date",defaultValue:"1998-03-15",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"})]})]}),o.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-2xl font-bold hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg",children:"Save Changes"})]})})]});case"about":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"ℹ️ About Faded Skies"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Premium cannabis delivery app"})]}),o.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-white text-2xl font-bold",children:"FS"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Faded Skies"}),o.jsx("p",{className:"text-gray-600 font-medium",children:"Version 2.1.0"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4 border border-emerald-100",children:[o.jsx("h4",{className:"font-bold text-emerald-800 mb-2",children:"🌿 Our Mission"}),o.jsx("p",{className:"text-emerald-700 text-sm",children:"Providing safe, legal access to premium cannabis products with fast, reliable delivery and exceptional customer service."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Founded"}),o.jsx("span",{className:"text-gray-600",children:"2020"})]}),o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Headquarters"}),o.jsx("span",{className:"text-gray-600",children:"Austin, Texas"})]}),o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Licensed"}),o.jsx("span",{className:"text-green-600 font-bold",children:"✅ Fully Compliant"})]}),o.jsxs("div",{className:"flex justify-between items-center py-2",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Delivery Areas"}),o.jsx("span",{className:"text-gray-600",children:"15+ Cities"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"button",className:"w-full bg-emerald-100 text-emerald-700 py-3 rounded-2xl font-bold hover:bg-emerald-200 transition-colors",children:"📄 Terms of Service"}),o.jsx("button",{type:"button",className:"w-full bg-blue-100 text-blue-700 py-3 rounded-2xl font-bold hover:bg-blue-200 transition-colors",children:"🔒 Privacy Policy"}),o.jsx("button",{type:"button",className:"w-full bg-gray-100 text-gray-700 py-3 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"📜 Licenses & Compliance"})]}),o.jsxs("div",{className:"text-center text-xs text-gray-500 pt-4 border-t border-gray-200",children:[o.jsx("p",{children:"© 2025 Faded Skies. All rights reserved."}),o.jsx("p",{className:"mt-1",children:"Licensed cannabis retailer • 21+ only"})]})]})]})]});case"payment":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"💳 Payment Methods"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-blue-100",children:"Manage your payment options"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:hf?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Add Payment Method"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("select",{value:ne.type,onChange:d=>rr(v=>({...v,type:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[o.jsx("option",{value:"card",children:"Credit/Debit Card"}),o.jsx("option",{value:"paypal",children:"PayPal"}),o.jsx("option",{value:"googlepay",children:"Google Pay"})]})]}),ne.type==="card"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cardholder Name"}),o.jsx("input",{type:"text",value:ne.name,onChange:d=>rr(v=>({...v,name:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"John Doe"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Card Number"}),o.jsx("input",{type:"text",value:ne.cardNumber,onChange:d=>{const v=d.target.value.replace(/\D/g,"").slice(0,16);rr(C=>({...C,cardNumber:v}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"1234 5678 9012 3456"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expiry Date"}),o.jsx("input",{type:"text",value:ne.expiryDate,onChange:d=>{let v=d.target.value.replace(/\D/g,"");v.length>=2&&(v=v.slice(0,2)+"/"+v.slice(2,4)),rr(C=>({...C,expiryDate:v}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"MM/YY",maxLength:5})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CVV"}),o.jsx("input",{type:"text",value:ne.cvv,onChange:d=>{const v=d.target.value.replace(/\D/g,"").slice(0,3);rr(C=>({...C,cvv:v}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"123"})]})]})]}),ne.type!=="card"&&o.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[o.jsxs("p",{className:"text-blue-800 font-semibold mb-2",children:[ne.type==="paypal"?"💙 PayPal":"🔵 Google Pay"," Integration"]}),o.jsx("p",{className:"text-blue-600 text-sm",children:"You'll be redirected to complete the setup"})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{Qi(!1),rr({type:"card",cardNumber:"",expiryDate:"",cvv:"",name:""})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:vf,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-bold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg",children:"Add Method"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4 mb-6",children:Je.map(d=>o.jsx("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-5 hover:border-blue-200 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("span",{className:"text-2xl",children:d.icon}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-bold text-gray-900",children:[d.type," ",d.details]}),o.jsx("p",{className:"text-sm text-gray-600",children:d.status})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[d.primary&&o.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:"PRIMARY"}),!d.primary&&d.type!=="FS Coin"&&o.jsx("button",{type:"button",onClick:()=>wf(d.id),className:"text-blue-600 hover:text-blue-700 text-xs font-semibold",children:"Set Primary"}),d.type!=="FS Coin"&&o.jsx("button",{type:"button",onClick:()=>xf(d.id),className:"text-red-500 hover:text-red-600",children:o.jsx(we,{className:"w-4 h-4"})})]})]})},d.id))}),o.jsx("button",{type:"button",onClick:()=>Qi(!0),className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-2xl font-bold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg mb-4",children:"➕ Add New Payment Method"})]})})]});case"addresses":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"📍 Delivery Addresses"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Manage your delivery locations"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:ff?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-900",children:mn?"Edit Address":"Add New Address"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address Name *"}),o.jsx("input",{type:"text",value:B.name,onChange:d=>Ye(v=>({...v,name:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Home, Work, etc."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),o.jsxs("select",{value:B.type,onChange:d=>Ye(v=>({...v,type:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[o.jsx("option",{value:"home",children:"🏠 Home"}),o.jsx("option",{value:"work",children:"🏢 Work"}),o.jsx("option",{value:"other",children:"📍 Other"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street Address *"}),o.jsx("input",{type:"text",value:B.address,onChange:d=>Ye(v=>({...v,address:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"123 Main Street, Apt 4B"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),o.jsx("input",{type:"text",value:B.city,onChange:d=>Ye(v=>({...v,city:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Austin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State"}),o.jsxs("select",{value:B.state,onChange:d=>Ye(v=>({...v,state:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",children:[o.jsx("option",{value:"TX",children:"Texas"}),o.jsx("option",{value:"CA",children:"California"}),o.jsx("option",{value:"CO",children:"Colorado"}),o.jsx("option",{value:"NY",children:"New York"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ZIP Code *"}),o.jsx("input",{type:"text",value:B.zipCode,onChange:d=>{const v=d.target.value.replace(/\D/g,"").slice(0,5);Ye(C=>({...C,zipCode:v}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"78701",maxLength:5})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Instructions"}),o.jsx("textarea",{value:B.instructions,onChange:d=>Ye(v=>({...v,instructions:d.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors resize-none",placeholder:"Ring doorbell, leave at door, etc.",rows:3})]}),o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[o.jsx("h4",{className:"font-bold text-amber-800 mb-2",children:"🚚 Delivery Zone Check"}),o.jsx("p",{className:"text-amber-700 text-sm",children:"We'll verify this address is in our delivery area before saving. Current service areas: Austin, Round Rock, Cedar Park, Lakeway."})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{pn(!1),ms(null),Ye({name:"",address:"",city:"",state:"TX",zipCode:"",type:"home",instructions:""})},className:"flex-1 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{type:"button",onClick:mn?jf:bf,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 rounded-xl font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:mn?"Update Address":"Save Address"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4 mb-6",children:Ji.map(d=>o.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-5 hover:border-green-200 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-2xl",children:d.type==="home"?"🏠":d.type==="work"?"🏢":"📍"}),o.jsx("h4",{className:"font-bold text-gray-900",children:d.name}),d.primary&&o.jsx("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold",children:"PRIMARY"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[!d.primary&&o.jsx("button",{type:"button",onClick:()=>kf(d.id),className:"text-green-600 hover:text-green-700 text-xs font-semibold",children:"Set Primary"}),o.jsx("button",{type:"button",onClick:()=>Nf(d),className:"text-blue-500 hover:text-blue-600",children:o.jsx(uc,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:()=>_f(d.id),className:"text-red-500 hover:text-red-600",children:o.jsx(we,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:d.address}),d.instructions&&o.jsxs("p",{className:"text-gray-500 text-xs mt-2 italic",children:["Instructions: ",d.instructions]})]},d.id))}),o.jsx("button",{type:"button",onClick:()=>pn(!0),className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-2xl font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg",children:"➕ Add New Address"})]})})]});case"notifications":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🔔 Notifications"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-purple-100",children:"Customize your notification preferences"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:[{key:"orderUpdates",title:"Order Updates",desc:"Status changes and delivery notifications",enabled:q.orderUpdates},{key:"promotionsDeals",title:"Promotions & Deals",desc:"Special offers and discounts",enabled:q.promotionsDeals},{key:"newProducts",title:"New Products",desc:"Notifications about new arrivals",enabled:q.newProducts},{key:"deliveryReminders",title:"Delivery Reminders",desc:"Reminders before delivery windows",enabled:q.deliveryReminders},{key:"fsRewards",title:"FS Coin Rewards",desc:"Updates about your rewards balance",enabled:q.fsRewards},{key:"smsNotifications",title:"SMS Notifications",desc:"Text message updates",enabled:q.smsNotifications},{key:"emailUpdates",title:"Email Updates",desc:"Email notifications and newsletters",enabled:q.emailUpdates}].map((d,v)=>o.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]}),o.jsx("button",{type:"button",onClick:()=>gf(d.key),className:`w-12 h-6 rounded-full transition-colors cursor-pointer ${d.enabled?"bg-purple-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${d.enabled?"translate-x-6":"translate-x-0.5"}`})})]},v))})]});case"privacy":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-gray-600 to-gray-800 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🔒 Privacy & Security"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-gray-100",children:"Control your privacy and data settings"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(cc,{className:"w-5 h-5 text-amber-600"}),o.jsx("h4",{className:"font-bold text-amber-800",children:"Data Protection"})]}),o.jsx("p",{className:"text-amber-700 text-sm",children:"Your personal information is encrypted and securely stored."})]}),[{key:"locationTracking",title:"Location Tracking",desc:"Allow location access for delivery",enabled:Le.locationTracking},{key:"purchaseHistory",title:"Purchase History",desc:"Store order history for recommendations",enabled:Le.purchaseHistory},{key:"analytics",title:"Analytics",desc:"Help improve the app with usage data",enabled:Le.analytics},{key:"thirdPartySharing",title:"Third-party Sharing",desc:"Share data with partners for offers",enabled:Le.thirdPartySharing},{key:"biometricLogin",title:"Biometric Login",desc:"Use fingerprint/face ID for login",enabled:Le.biometricLogin}].map((d,v)=>o.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100 last:border-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:d.title}),o.jsx("p",{className:"text-sm text-gray-600",children:d.desc})]}),o.jsx("button",{type:"button",onClick:()=>yf(d.key),className:`w-12 h-6 rounded-full transition-colors cursor-pointer ${d.enabled?"bg-gray-500":"bg-gray-300"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform mt-0.5 ${d.enabled?"translate-x-6":"translate-x-0.5"}`})})]},v)),o.jsxs("div",{className:"space-y-3 pt-4",children:[o.jsx("button",{type:"button",className:"w-full bg-blue-600 text-white py-3 rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"📄 View Privacy Policy"}),o.jsx("button",{type:"button",className:"w-full bg-amber-600 text-white py-3 rounded-2xl font-bold hover:bg-amber-700 transition-colors",children:"🔑 Change Password"}),o.jsx("button",{type:"button",className:"w-full bg-red-100 text-red-600 py-3 rounded-2xl font-bold hover:bg-red-200 transition-colors",children:"🗑️ Delete My Account"})]})]})})]});case"rewards":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"🪙 FS Coin Rewards"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-amber-100",children:"Your rewards program details"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl font-black text-amber-600 mb-2",children:p.rewards}),o.jsx("p",{className:"text-gray-600 font-semibold",children:"FS Coins Available"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Worth $",(p.rewards*.01).toFixed(2)," in credits"]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-4 border border-amber-200",children:[o.jsx("h4",{className:"font-bold text-amber-800 mb-3",children:"How to Earn FS Coins:"}),o.jsxs("ul",{className:"text-amber-700 text-sm space-y-2",children:[o.jsx("li",{children:"• Earn 1 coin for every $1 spent"}),o.jsx("li",{children:"• Get 100 bonus coins on first order"}),o.jsx("li",{children:"• Earn 50 coins for each friend referral"}),o.jsx("li",{children:"• Special promotions and events"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Recent Activity:"}),o.jsx("div",{className:"space-y-2",children:[{action:"Purchase reward",amount:"+45",date:"2 days ago"},{action:"Referral bonus",amount:"+50",date:"1 week ago"},{action:"Used for discount",amount:"-25",date:"2 weeks ago"}].map((d,v)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:d.action}),o.jsx("p",{className:"text-sm text-gray-500",children:d.date})]}),o.jsxs("span",{className:`font-bold ${d.amount.startsWith("+")?"text-green-600":"text-red-600"}`,children:[d.amount," coins"]})]},v))})]}),o.jsx("button",{type:"button",className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 text-white py-4 rounded-2xl font-bold hover:from-amber-700 hover:to-orange-700 transition-all shadow-lg",children:"Redeem Rewards"})]})})]});case"help":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"❓ Help Center"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-blue-100",children:"Find answers to common questions"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-4",children:[[{category:"Getting Started",questions:[{q:"How do I verify my age?",a:"Upload a government-issued ID in the verification section."},{q:"What areas do you deliver to?",a:"We deliver throughout Austin and surrounding areas."}]},{category:"Ordering",questions:[{q:"What's the minimum order?",a:"$25 minimum, free delivery over $100."},{q:"How do I use FS Coins?",a:"Apply coins at checkout - 100 coins = $1 credit."}]},{category:"Delivery",questions:[{q:"How long does delivery take?",a:"Typically 1-2 hours, trackable in real-time."},{q:"Do I need to be present?",a:"Yes, valid ID required at delivery for age verification."}]}].map((d,v)=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2 text-lg",children:d.category}),o.jsx("div",{className:"space-y-2",children:d.questions.map((C,$)=>o.jsxs("details",{className:"bg-gray-50 rounded-xl p-3",children:[o.jsx("summary",{className:"font-semibold text-gray-800 cursor-pointer text-sm",children:C.q}),o.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:C.a})]},$))})]},v)),o.jsx("button",{type:"button",onClick:()=>{re({isOpen:!1,type:null}),e("support")},className:"w-full bg-blue-600 text-white py-3 rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"View Full Help Center"})]})})]});case"support":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"💬 Contact Support"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Get help from our support team"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-100",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-green-700 mb-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"font-bold",children:"Support is online"})]}),o.jsx("p",{className:"text-green-600 text-sm",children:"Average response time: 2 minutes"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{type:"button",onClick:Va,className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Nr,{className:"w-5 h-5"}),o.jsx("span",{children:"Start Live Chat"})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Calling: +1 (512) 555-WEED"),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:"📞"}),o.jsx("span",{children:"Call Support"})]}),o.jsxs("button",{type:"button",onClick:()=>alert("Email form opened: support@fadedskies.com"),className:"w-full bg-gray-600 text-white py-4 rounded-2xl font-bold hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx("span",{className:"text-lg",children:"✉️"}),o.jsx("span",{children:"Send Email"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Support Hours"}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Monday - Friday:"}),o.jsx("span",{children:"8 AM - 10 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Weekends:"}),o.jsx("span",{children:"9 AM - 9 PM"})]})]})]}),o.jsx("button",{type:"button",onClick:()=>{re({isOpen:!1,type:null}),e("support")},className:"w-full bg-emerald-100 text-emerald-700 py-3 rounded-2xl font-bold hover:bg-emerald-200 transition-colors",children:"Visit Support Center"})]})})]});case"rate":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"⭐ Rate Our App"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-orange-100",children:"Help us improve with your feedback"})]}),o.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"How would you rate Faded Skies?"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Your feedback helps us serve you better"}),o.jsx("div",{className:"flex justify-center space-x-2 mb-6",children:[1,2,3,4,5].map(d=>o.jsx("button",{type:"button",onClick:()=>alert(`You rated us ${d} star${d>1?"s":""}! Thank you for your feedback.`),className:"text-4xl text-yellow-400 hover:text-yellow-500 transition-colors",children:"⭐"},d))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Quick Feedback"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{emoji:"🚀",text:"Fast Delivery"},{emoji:"🌿",text:"Great Products"},{emoji:"💯",text:"Easy to Use"},{emoji:"💰",text:"Good Prices"},{emoji:"🏆",text:"Excellent Service"},{emoji:"📱",text:"Love the App"}].map((d,v)=>o.jsxs("button",{type:"button",onClick:()=>alert(`Thanks for the "${d.text}" feedback!`),className:"bg-gray-50 hover:bg-gray-100 rounded-xl p-3 text-center transition-colors border border-gray-200",children:[o.jsx("div",{className:"text-2xl mb-1",children:d.emoji}),o.jsx("div",{className:"text-sm font-semibold text-gray-800",children:d.text})]},v))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"button",onClick:()=>alert("Opening App Store for rating..."),className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold hover:bg-blue-700 transition-colors",children:"📱 Rate on App Store"}),o.jsx("button",{type:"button",onClick:()=>alert("Opening Google Play for rating..."),className:"w-full bg-green-600 text-white py-4 rounded-2xl font-bold hover:bg-green-700 transition-colors",children:"🤖 Rate on Google Play"}),o.jsx("button",{type:"button",onClick:()=>alert("Opening detailed feedback form..."),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"✍️ Detailed Feedback"})]})]})})]});default:return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 rounded-t-3xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-green-100",children:"Feature coming soon!"})]}),o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-gray-600 text-center py-8",children:"This feature is currently under development."})})]})}})(),o.jsx("div",{className:"p-4",children:o.jsx("button",{type:"button",onClick:()=>re({isOpen:!1,type:null}),className:"w-full bg-gray-100 text-gray-700 py-3 rounded-2xl font-bold hover:bg-gray-200 transition-colors",children:"Close"})})]})}),_e.isOpen&&_e.order&&o.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex flex-col",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 shadow-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>dn({isOpen:!1,order:null}),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold",children:"Live Tracking"}),o.jsxs("p",{className:"text-blue-100 text-sm",children:[_e.order.driver," • ETA ",_e.order.estimatedDelivery]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500 px-3 py-1 rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm font-bold",children:"LIVE"})]})]})}),o.jsxs("div",{className:"flex-1 relative bg-gray-100",children:[o.jsxs("div",{className:"w-full h-full relative bg-gradient-to-br from-green-100 via-blue-50 to-gray-100",children:[o.jsx("div",{className:"absolute inset-0 opacity-20",children:o.jsxs("svg",{width:"100%",height:"100%",className:"absolute inset-0",children:[o.jsx("defs",{children:o.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})})}),o.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),o.jsx("div",{className:"absolute top-20 left-8 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-lg",children:o.jsx("span",{className:"text-sm font-bold text-gray-800",children:"South Lamar Blvd"})}),o.jsx("div",{className:"absolute top-40 right-12 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-lg rotate-45",children:o.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Barton Springs Rd"})}),o.jsx("div",{className:"absolute bottom-32 left-16 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-lg shadow-lg",children:o.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Zilker Park Dr"})}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"routeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.8"}),o.jsx("stop",{offset:"50%",stopColor:"#6366f1",stopOpacity:"0.8"}),o.jsx("stop",{offset:"100%",stopColor:"#8b5cf6",stopOpacity:"0.8"})]})}),o.jsx("path",{d:"M 80 120 Q 150 180, 220 140 T 320 200 Q 380 240, 420 180",stroke:"url(#routeGradient)",strokeWidth:"4",fill:"none",strokeDasharray:"10,5",className:"animate-pulse"})]}),o.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 transition-all duration-1000",style:{left:`${30+Math.sin(Date.now()/1e4)*20}%`,top:`${40+Math.cos(Date.now()/8e3)*15}%`},children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full border-4 border-white shadow-lg flex items-center justify-center animate-bounce",children:o.jsx(Is,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"absolute -top-16 -left-8 bg-white/95 backdrop-blur-sm rounded-xl p-3 shadow-xl min-w-max",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-bold text-gray-900 text-sm",children:_e.order.driver}),o.jsxs("p",{className:"text-blue-600 text-xs font-semibold",children:[Math.round(T.speed)," mph"]}),o.jsx("p",{className:"text-gray-600 text-xs",children:_e.order.currentLocation})]}),o.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white/95"})]}),o.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-blue-400 rounded-full animate-ping opacity-75"})]})}),o.jsx("div",{className:"absolute bottom-20 right-20 transform -translate-x-1/2 -translate-y-1/2",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-full border-4 border-white shadow-lg flex items-center justify-center",children:o.jsx($s,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"absolute -top-14 -left-12 bg-green-600 text-white rounded-xl p-2 shadow-xl min-w-max",children:[o.jsx("p",{className:"font-bold text-sm",children:"Your Address"}),o.jsx("p",{className:"text-xs opacity-90",children:p.address}),o.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-green-600"})]})]})}),o.jsx("div",{className:"absolute top-24 left-1/3 w-8 h-2 bg-yellow-400 rounded-full shadow-sm"}),o.jsx("div",{className:"absolute top-48 right-1/4 w-12 h-2 bg-red-500 rounded-full shadow-sm"}),o.jsx("div",{className:"absolute bottom-40 left-1/4 w-6 h-2 bg-green-500 rounded-full shadow-sm"})]}),o.jsxs("div",{className:"absolute top-4 right-4 flex flex-col space-y-2",children:[o.jsx("button",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg hover:bg-white transition-colors",children:o.jsx(_i,{className:"w-5 h-5 text-gray-800"})}),o.jsx("button",{className:"bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg hover:bg-white transition-colors",children:o.jsx(ac,{className:"w-5 h-5 text-gray-800"})})]}),o.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm p-3 rounded-lg shadow-lg",children:o.jsxs("div",{className:"w-8 h-8 relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-1 bg-red-500 h-4 rounded-full"})}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center rotate-180",children:o.jsx("div",{className:"w-1 bg-gray-400 h-3 rounded-full"})}),o.jsx("span",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 text-xs font-bold text-red-500",children:"N"})]})})]}),o.jsxs("div",{className:"bg-white p-4 shadow-xl",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-blue-600 mb-1",children:[o.jsx(mg,{className:"w-4 h-4"}),o.jsx("span",{className:"font-bold text-sm",children:"ETA"})]}),o.jsx("p",{className:"font-black text-lg text-gray-900",children:_e.order.estimatedDelivery})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-green-600 mb-1",children:[o.jsx($s,{className:"w-4 h-4"}),o.jsx("span",{className:"font-bold text-sm",children:"Distance"})]}),o.jsx("p",{className:"font-black text-lg text-gray-900",children:_e.order.currentLocation})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-1 text-purple-600 mb-1",children:[o.jsx(Is,{className:"w-4 h-4"}),o.jsx("span",{className:"font-bold text-sm",children:"Speed"})]}),o.jsxs("p",{className:"font-black text-lg text-gray-900",children:[Math.round(T.speed)," mph"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>alert('Message sent to driver: "Hi! Just checking on delivery status."'),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-bold hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[o.jsx(Nr,{className:"w-5 h-5"}),o.jsx("span",{children:"Message Driver"})]}),o.jsx("button",{type:"button",onClick:()=>dn({isOpen:!1,order:null}),className:"bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:"Close Map"})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsxs("p",{className:"text-xs text-gray-500",children:["🛰️ GPS accurate to 3 meters • Last updated ",new Date().toLocaleTimeString()]})})]})]}),Yi.isOpen&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-center",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-t-3xl shadow-2xl max-h-[80vh] flex flex-col",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-4 rounded-t-3xl flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:o.jsx(Nr,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"Live Support"}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${gs==="online"?"bg-green-400 animate-pulse":gs==="away"?"bg-yellow-400":"bg-red-400"}`}),o.jsx("span",{className:"text-blue-100",children:gs==="online"?"Agent available":gs==="away"?"Slower responses":"High volume"})]})]})]}),o.jsx("button",{type:"button",onClick:Sf,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(we,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50 chat-messages",children:[Ba.map(d=>o.jsx("div",{className:`flex ${d.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`flex items-start space-x-2 max-w-[80%] ${d.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white text-sm flex-shrink-0",children:d.avatar}),o.jsxs("div",{className:`rounded-2xl p-3 ${d.sender==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white text-gray-900 rounded-bl-md shadow-sm border border-gray-100"}`,children:[d.sender==="agent"&&o.jsx("div",{className:"text-xs font-semibold text-blue-600 mb-1",children:d.name}),o.jsx("p",{className:"text-sm leading-relaxed",children:d.message}),o.jsx("div",{className:`text-xs mt-1 ${d.sender==="user"?"text-blue-100":"text-gray-500"}`,children:d.time})]})]})},d.id)),Ha&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center text-white text-sm",children:"👩‍💼"}),o.jsxs("div",{className:"bg-white text-gray-900 rounded-2xl rounded-bl-md p-3 shadow-sm border border-gray-100",children:[o.jsx("div",{className:"text-xs font-semibold text-blue-600 mb-1",children:"Sarah from Support"}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})})]}),o.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 flex-shrink-0",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("div",{className:"flex-1 relative",children:o.jsx("textarea",{value:_r,onChange:d=>Xi(d.target.value),onKeyPress:Cf,className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"Type your message...",rows:1,style:{minHeight:"44px",maxHeight:"120px"}})}),o.jsx("button",{type:"button",onClick:eo,disabled:!_r.trim(),className:`px-6 py-3 rounded-2xl font-bold transition-all ${_r.trim()?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Send"})]}),o.jsx("div",{className:"mt-3 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"💬 Average response time: 2 minutes • Powered by Faded Skies Support"})})]})]})})]})};Do.createRoot(document.getElementById("root")).render(o.jsx(Vl.StrictMode,{children:o.jsx(Wy,{})}));
//# sourceMappingURL=index-FN1raf06.js.map
