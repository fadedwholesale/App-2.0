(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Sc={exports:{}},Ei={},Nc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),jf=Symbol.for("react.portal"),Sf=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Af=Symbol.for("react.memo"),If=Symbol.for("react.lazy"),Ha=Symbol.iterator;function $f(t){return t===null||typeof t!="object"?null:(t=Ha&&t[Ha]||t["@@iterator"],typeof t=="function"?t:null)}var Ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cc=Object.assign,Pc={};function ln(t,e,r){this.props=t,this.context=e,this.refs=Pc,this.updater=r||Ec}ln.prototype.isReactComponent={};ln.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tc(){}Tc.prototype=ln.prototype;function Wl(t,e,r){this.props=t,this.context=e,this.refs=Pc,this.updater=r||Ec}var Hl=Wl.prototype=new Tc;Hl.constructor=Wl;Cc(Hl,ln.prototype);Hl.isPureReactComponent=!0;var Va=Array.isArray,Oc=Object.prototype.hasOwnProperty,Vl={current:null},Ac={key:!0,ref:!0,__self:!0,__source:!0};function Ic(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Oc.call(e,n)&&!Ac.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ls,type:t,key:i,ref:o,props:s,_owner:Vl.current}}function Rf(t,e){return{$$typeof:ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ql(t){return typeof t=="object"&&t!==null&&t.$$typeof===ls}function Df(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qa=/\/+/g;function Xi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Df(""+t.key):e.toString(36)}function Ws(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ls:case jf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Xi(o,0):n,Va(s)?(r="",t!=null&&(r=t.replace(qa,"$&/")+"/"),Ws(s,e,r,"",function(d){return d})):s!=null&&(ql(s)&&(s=Rf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Va(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+Xi(i,a);o+=Ws(i,e,r,u,s)}else if(u=$f(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+Xi(i,a++),o+=Ws(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ws(t,e,r){if(t==null)return t;var n=[],s=0;return Ws(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Lf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},Hs={transition:null},Mf={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Hs,ReactCurrentOwner:Vl};function $c(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:ws,forEach:function(t,e,r){ws(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ws(t,function(){e++}),e},toArray:function(t){return ws(t,function(e){return e})||[]},only:function(t){if(!ql(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=ln;H.Fragment=Sf;H.Profiler=Ef;H.PureComponent=Wl;H.StrictMode=Nf;H.Suspense=Of;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mf;H.act=$c;H.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Cc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Oc.call(e,u)&&!Ac.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:ls,type:t.type,key:s,ref:i,props:n,_owner:o}};H.createContext=function(t){return t={$$typeof:Pf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cf,_context:t},t.Consumer=t};H.createElement=Ic;H.createFactory=function(t){var e=Ic.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Tf,render:t}};H.isValidElement=ql;H.lazy=function(t){return{$$typeof:If,_payload:{_status:-1,_result:t},_init:Lf}};H.memo=function(t,e){return{$$typeof:Af,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Hs.transition;Hs.transition={};try{t()}finally{Hs.transition=e}};H.unstable_act=$c;H.useCallback=function(t,e){return Te.current.useCallback(t,e)};H.useContext=function(t){return Te.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};H.useEffect=function(t,e){return Te.current.useEffect(t,e)};H.useId=function(){return Te.current.useId()};H.useImperativeHandle=function(t,e,r){return Te.current.useImperativeHandle(t,e,r)};H.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Te.current.useMemo(t,e)};H.useReducer=function(t,e,r){return Te.current.useReducer(t,e,r)};H.useRef=function(t){return Te.current.useRef(t)};H.useState=function(t){return Te.current.useState(t)};H.useSyncExternalStore=function(t,e,r){return Te.current.useSyncExternalStore(t,e,r)};H.useTransition=function(){return Te.current.useTransition()};H.version="18.3.1";Nc.exports=H;var L=Nc.exports;const Gl=_f(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=L,Ff=Symbol.for("react.element"),zf=Symbol.for("react.fragment"),Bf=Object.prototype.hasOwnProperty,Wf=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hf={key:!0,ref:!0,__self:!0,__source:!0};function Rc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Bf.call(e,n)&&!Hf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Ff,type:t,key:i,ref:o,props:s,_owner:Wf.current}}Ei.Fragment=zf;Ei.jsx=Rc;Ei.jsxs=Rc;Sc.exports=Ei;var l=Sc.exports,$o={},Dc={exports:{}},We={},Lc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,M){var F=O.length;O.push(M);e:for(;0<F;){var oe=F-1>>>1,ee=O[oe];if(0<s(ee,M))O[oe]=M,O[F]=ee,F=oe;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var M=O[0],F=O.pop();if(F!==M){O[0]=F;e:for(var oe=0,ee=O.length,le=ee>>>1;oe<le;){var gt=2*(oe+1)-1,pn=O[gt],ut=gt+1,rr=O[ut];if(0>s(pn,F))ut<ee&&0>s(rr,pn)?(O[oe]=rr,O[ut]=F,oe=ut):(O[oe]=pn,O[gt]=F,oe=gt);else if(ut<ee&&0>s(rr,F))O[oe]=rr,O[ut]=F,oe=ut;else break e}}return M}function s(O,M){var F=O.sortIndex-M.sortIndex;return F!==0?F:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],c=1,h=null,g=3,x=!1,v=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var M=r(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=O)n(d),M.sortIndex=M.expirationTime,e(u,M);else break;M=r(d)}}function b(O){if(j=!1,m(O),!v)if(r(u)!==null)v=!0,hn(P);else{var M=r(d);M!==null&&fn(b,M.startTime-O)}}function P(O,M){v=!1,j&&(j=!1,y(D),D=-1),x=!0;var F=g;try{for(m(M),h=r(u);h!==null&&(!(h.expirationTime>M)||O&&!Ve());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,g=h.priorityLevel;var ee=oe(h.expirationTime<=M);M=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(u)&&n(u),m(M)}else n(u);h=r(u)}if(h!==null)var le=!0;else{var gt=r(d);gt!==null&&fn(b,gt.startTime-M),le=!1}return le}finally{h=null,g=F,x=!1}}var N=!1,C=null,D=-1,ie=5,B=-1;function Ve(){return!(t.unstable_now()-B<ie)}function er(){if(C!==null){var O=t.unstable_now();B=O;var M=!0;try{M=C(!0,O)}finally{M?tr():(N=!1,C=null)}}else N=!1}var tr;if(typeof p=="function")tr=function(){p(er)};else if(typeof MessageChannel<"u"){var ms=new MessageChannel,gs=ms.port2;ms.port1.onmessage=er,tr=function(){gs.postMessage(null)}}else tr=function(){A(er,0)};function hn(O){C=O,N||(N=!0,tr())}function fn(O,M){D=A(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,hn(P))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var F=g;g=M;try{return O()}finally{g=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=g;g=O;try{return M()}finally{g=F}},t.unstable_scheduleCallback=function(O,M,F){var oe=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?oe+F:oe):F=oe,O){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,O={id:c++,callback:M,priorityLevel:O,startTime:F,expirationTime:ee,sortIndex:-1},F>oe?(O.sortIndex=F,e(d,O),r(u)===null&&O===r(d)&&(j?(y(D),D=-1):j=!0,fn(b,F-oe))):(O.sortIndex=ee,e(u,O),v||x||(v=!0,hn(P))),O},t.unstable_shouldYield=Ve,t.unstable_wrapCallback=function(O){var M=g;return function(){var F=g;g=M;try{return O.apply(this,arguments)}finally{g=F}}}})(Mc);Lc.exports=Mc;var Vf=Lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=L,Be=Vf;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uc=new Set,Wn={};function wr(t,e){Xr(t,e),Xr(t+"Capture",e)}function Xr(t,e){for(Wn[t]=e,t=0;t<e.length;t++)Uc.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=Object.prototype.hasOwnProperty,Gf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ga={},Ka={};function Kf(t){return Ro.call(Ka,t)?!0:Ro.call(Ga,t)?!1:Gf.test(t)?Ka[t]=!0:(Ga[t]=!0,!1)}function Qf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jf(t,e,r,n){if(e===null||typeof e>"u"||Qf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kl=/[\-:]([a-z])/g;function Ql(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kl,Ql);_e[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kl,Ql);_e[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kl,Ql);_e[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jl(t,e,r,n){var s=_e.hasOwnProperty(e)?_e[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jf(e,r,s,n)&&(r=null),n||s===null?Kf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Pt=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Yl=Symbol.for("react.strict_mode"),Do=Symbol.for("react.profiler"),Fc=Symbol.for("react.provider"),zc=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),Lo=Symbol.for("react.suspense"),Mo=Symbol.for("react.suspense_list"),Zl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Bc=Symbol.for("react.offscreen"),Qa=Symbol.iterator;function yn(t){return t===null||typeof t!="object"?null:(t=Qa&&t[Qa]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,Zi;function Nn(t){if(Zi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zi=e&&e[1]||""}return`
`+Zi+t}var eo=!1;function to(t,e){if(!t||eo)return"";eo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{eo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nn(t):""}function Yf(t){switch(t.tag){case 5:return Nn(t.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 2:case 15:return t=to(t.type,!1),t;case 11:return t=to(t.type.render,!1),t;case 1:return t=to(t.type,!0),t;default:return""}}function Uo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rr:return"Fragment";case $r:return"Portal";case Do:return"Profiler";case Yl:return"StrictMode";case Lo:return"Suspense";case Mo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zc:return(t.displayName||"Context")+".Consumer";case Fc:return(t._context.displayName||"Context")+".Provider";case Xl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zl:return e=t.displayName||null,e!==null?e:Uo(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Uo(t(e))}catch{}}return null}function Xf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uo(e);case 8:return e===Yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zf(t){var e=Wc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _s(t){t._valueTracker||(t._valueTracker=Zf(t))}function Hc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Wc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fo(t,e){var r=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ja(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Kt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vc(t,e){e=e.checked,e!=null&&Jl(t,"checked",e,!1)}function zo(t,e){Vc(t,e);var r=Kt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Bo(t,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ya(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Bo(t,e,r){(e!=="number"||ti(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var En=Array.isArray;function qr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xa(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(En(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Kt(r)}}function qc(t,e){var r=Kt(e.value),n=Kt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Za(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ks,Kc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ep=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(t){ep.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),On[e]=On[t]})});function Qc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||On.hasOwnProperty(t)&&On[t]?(""+e).trim():e+"px"}function Jc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Qc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var tp=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(t,e){if(e){if(tp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function qo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=null;function ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ko=null,Gr=null,Kr=null;function eu(t){if(t=cs(t)){if(typeof Ko!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Ai(e),Ko(t.stateNode,t.type,e))}}function Yc(t){Gr?Kr?Kr.push(t):Kr=[t]:Gr=t}function Xc(){if(Gr){var t=Gr,e=Kr;if(Kr=Gr=null,eu(t),e)for(t=0;t<e.length;t++)eu(e[t])}}function Zc(t,e){return t(e)}function ed(){}var ro=!1;function td(t,e,r){if(ro)return t(e,r);ro=!0;try{return Zc(t,e,r)}finally{ro=!1,(Gr!==null||Kr!==null)&&(ed(),Xc())}}function Vn(t,e){var r=t.stateNode;if(r===null)return null;var n=Ai(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var Qo=!1;if(St)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Qo=!1}function rp(t,e,r,n,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(c){this.onError(c)}}var An=!1,ri=null,ni=!1,Jo=null,np={onError:function(t){An=!0,ri=t}};function sp(t,e,r,n,s,i,o,a,u){An=!1,ri=null,rp.apply(np,arguments)}function ip(t,e,r,n,s,i,o,a,u){if(sp.apply(this,arguments),An){if(An){var d=ri;An=!1,ri=null}else throw Error(E(198));ni||(ni=!0,Jo=d)}}function br(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function rd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tu(t){if(br(t)!==t)throw Error(E(188))}function op(t){var e=t.alternate;if(!e){if(e=br(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tu(s),t;if(i===n)return tu(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function nd(t){return t=op(t),t!==null?sd(t):null}function sd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sd(t);if(e!==null)return e;t=t.sibling}return null}var id=Be.unstable_scheduleCallback,ru=Be.unstable_cancelCallback,lp=Be.unstable_shouldYield,ap=Be.unstable_requestPaint,he=Be.unstable_now,up=Be.unstable_getCurrentPriorityLevel,ta=Be.unstable_ImmediatePriority,od=Be.unstable_UserBlockingPriority,si=Be.unstable_NormalPriority,cp=Be.unstable_LowPriority,ld=Be.unstable_IdlePriority,Ci=null,pt=null;function dp(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:pp,hp=Math.log,fp=Math.LN2;function pp(t){return t>>>=0,t===0?32:31-(hp(t)/fp|0)|0}var js=64,Ss=4194304;function Cn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ii(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Cn(a):(i&=o,i!==0&&(n=Cn(i)))}else o=r&~s,o!==0?n=Cn(o):i!==0&&(n=Cn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ot(e),s=1<<r,n|=t[r],e&=~s;return n}function mp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=mp(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Yo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ad(){var t=js;return js<<=1,!(js&4194240)&&(js=64),t}function no(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function as(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ot(e),t[e]=r}function yp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ot(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ra(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ot(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var J=0;function ud(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cd,na,dd,hd,fd,Xo=!1,Ns=[],Ft=null,zt=null,Bt=null,qn=new Map,Gn=new Map,Rt=[],vp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(t,e){switch(t){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":qn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(e.pointerId)}}function xn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cs(e),e!==null&&na(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xp(t,e,r,n,s){switch(e){case"focusin":return Ft=xn(Ft,t,e,r,n,s),!0;case"dragenter":return zt=xn(zt,t,e,r,n,s),!0;case"mouseover":return Bt=xn(Bt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return qn.set(i,xn(qn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Gn.set(i,xn(Gn.get(i)||null,t,e,r,n,s)),!0}return!1}function pd(t){var e=ur(t.target);if(e!==null){var r=br(e);if(r!==null){if(e=r.tag,e===13){if(e=rd(r),e!==null){t.blockedOn=e,fd(t.priority,function(){dd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Go=n,r.target.dispatchEvent(n),Go=null}else return e=cs(r),e!==null&&na(e),t.blockedOn=r,!1;e.shift()}return!0}function su(t,e,r){Vs(t)&&r.delete(e)}function wp(){Xo=!1,Ft!==null&&Vs(Ft)&&(Ft=null),zt!==null&&Vs(zt)&&(zt=null),Bt!==null&&Vs(Bt)&&(Bt=null),qn.forEach(su),Gn.forEach(su)}function wn(t,e){t.blockedOn===e&&(t.blockedOn=null,Xo||(Xo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,wp)))}function Kn(t){function e(s){return wn(s,t)}if(0<Ns.length){wn(Ns[0],t);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ft!==null&&wn(Ft,t),zt!==null&&wn(zt,t),Bt!==null&&wn(Bt,t),qn.forEach(e),Gn.forEach(e),r=0;r<Rt.length;r++)n=Rt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rt.length&&(r=Rt[0],r.blockedOn===null);)pd(r),r.blockedOn===null&&Rt.shift()}var Qr=Pt.ReactCurrentBatchConfig,oi=!0;function bp(t,e,r,n){var s=J,i=Qr.transition;Qr.transition=null;try{J=1,sa(t,e,r,n)}finally{J=s,Qr.transition=i}}function _p(t,e,r,n){var s=J,i=Qr.transition;Qr.transition=null;try{J=4,sa(t,e,r,n)}finally{J=s,Qr.transition=i}}function sa(t,e,r,n){if(oi){var s=Zo(t,e,r,n);if(s===null)po(t,e,n,li,r),nu(t,n);else if(xp(s,t,e,r,n))n.stopPropagation();else if(nu(t,n),e&4&&-1<vp.indexOf(t)){for(;s!==null;){var i=cs(s);if(i!==null&&cd(i),i=Zo(t,e,r,n),i===null&&po(t,e,n,li,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else po(t,e,n,null,r)}}var li=null;function Zo(t,e,r,n){if(li=null,t=ea(n),t=ur(t),t!==null)if(e=br(t),e===null)t=null;else if(r=e.tag,r===13){if(t=rd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return li=t,null}function md(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(up()){case ta:return 1;case od:return 4;case si:case cp:return 16;case ld:return 536870912;default:return 16}default:return 16}}var Mt=null,ia=null,qs=null;function gd(){if(qs)return qs;var t,e=ia,r=e.length,n,s="value"in Mt?Mt.value:Mt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return qs=s.slice(t,1<n?1-n:void 0)}function Gs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function iu(){return!1}function He(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:iu,this.isPropagationStopped=iu,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=He(an),us=ce({},an,{view:0,detail:0}),kp=He(us),so,io,bn,Pi=ce({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(so=t.screenX-bn.screenX,io=t.screenY-bn.screenY):io=so=0,bn=t),so)},movementY:function(t){return"movementY"in t?t.movementY:io}}),ou=He(Pi),jp=ce({},Pi,{dataTransfer:0}),Sp=He(jp),Np=ce({},us,{relatedTarget:0}),oo=He(Np),Ep=ce({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=He(Ep),Pp=ce({},an,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tp=He(Pp),Op=ce({},an,{data:0}),lu=He(Op),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$p={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$p[t])?!!e[t]:!1}function la(){return Rp}var Dp=ce({},us,{key:function(t){if(t.key){var e=Ap[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ip[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lp=He(Dp),Mp=ce({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=He(Mp),Up=ce({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),Fp=He(Up),zp=ce({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bp=He(zp),Wp=ce({},Pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=He(Wp),Vp=[9,13,27,32],aa=St&&"CompositionEvent"in window,In=null;St&&"documentMode"in document&&(In=document.documentMode);var qp=St&&"TextEvent"in window&&!In,yd=St&&(!aa||In&&8<In&&11>=In),uu=" ",cu=!1;function vd(t,e){switch(t){case"keyup":return Vp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function Gp(t,e){switch(t){case"compositionend":return xd(e);case"keypress":return e.which!==32?null:(cu=!0,uu);case"textInput":return t=e.data,t===uu&&cu?null:t;default:return null}}function Kp(t,e){if(Dr)return t==="compositionend"||!aa&&vd(t,e)?(t=gd(),qs=ia=Mt=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yd&&e.locale!=="ko"?null:e.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qp[t.type]:e==="textarea"}function wd(t,e,r,n){Yc(n),e=ai(e,"onChange"),0<e.length&&(r=new oa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $n=null,Qn=null;function Jp(t){Od(t,0)}function Ti(t){var e=Ur(t);if(Hc(e))return t}function Yp(t,e){if(t==="change")return e}var bd=!1;if(St){var lo;if(St){var ao="oninput"in document;if(!ao){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),ao=typeof hu.oninput=="function"}lo=ao}else lo=!1;bd=lo&&(!document.documentMode||9<document.documentMode)}function fu(){$n&&($n.detachEvent("onpropertychange",_d),Qn=$n=null)}function _d(t){if(t.propertyName==="value"&&Ti(Qn)){var e=[];wd(e,Qn,t,ea(t)),td(Jp,e)}}function Xp(t,e,r){t==="focusin"?(fu(),$n=e,Qn=r,$n.attachEvent("onpropertychange",_d)):t==="focusout"&&fu()}function Zp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ti(Qn)}function em(t,e){if(t==="click")return Ti(e)}function tm(t,e){if(t==="input"||t==="change")return Ti(e)}function rm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:rm;function Jn(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ro.call(e,s)||!at(t[s],e[s]))return!1}return!0}function pu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mu(t,e){var r=pu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pu(r)}}function kd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(){for(var t=window,e=ti();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ti(t.document)}return e}function ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nm(t){var e=jd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&kd(r.ownerDocument.documentElement,r)){if(n!==null&&ua(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=mu(r,i);var o=mu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sm=St&&"documentMode"in document&&11>=document.documentMode,Lr=null,el=null,Rn=null,tl=!1;function gu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tl||Lr==null||Lr!==ti(n)||(n=Lr,"selectionStart"in n&&ua(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rn&&Jn(Rn,n)||(Rn=n,n=ai(el,"onSelect"),0<n.length&&(e=new oa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Lr)))}function Cs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},uo={},Sd={};St&&(Sd=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Oi(t){if(uo[t])return uo[t];if(!Mr[t])return t;var e=Mr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Sd)return uo[t]=e[r];return t}var Nd=Oi("animationend"),Ed=Oi("animationiteration"),Cd=Oi("animationstart"),Pd=Oi("transitionend"),Td=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(t,e){Td.set(t,e),wr(e,[t])}for(var co=0;co<yu.length;co++){var ho=yu[co],im=ho.toLowerCase(),om=ho[0].toUpperCase()+ho.slice(1);Jt(im,"on"+om)}Jt(Nd,"onAnimationEnd");Jt(Ed,"onAnimationIteration");Jt(Cd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Pd,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function vu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ip(n,e,void 0,t),t.currentTarget=null}function Od(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;vu(s,a,d),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;vu(s,a,d),i=u}}}if(ni)throw t=Jo,ni=!1,Jo=null,t}function re(t,e){var r=e[ol];r===void 0&&(r=e[ol]=new Set);var n=t+"__bubble";r.has(n)||(Ad(e,t,2,!1),r.add(n))}function fo(t,e,r){var n=0;e&&(n|=4),Ad(r,t,n,e)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Yn(t){if(!t[Ps]){t[Ps]=!0,Uc.forEach(function(r){r!=="selectionchange"&&(lm.has(r)||fo(r,!1,t),fo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ps]||(e[Ps]=!0,fo("selectionchange",!1,e))}}function Ad(t,e,r,n){switch(md(e)){case 1:var s=bp;break;case 4:s=_p;break;default:s=sa}r=s.bind(null,e,r,t),s=void 0,!Qo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function po(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}td(function(){var d=i,c=ea(r),h=[];e:{var g=Td.get(t);if(g!==void 0){var x=oa,v=t;switch(t){case"keypress":if(Gs(r)===0)break e;case"keydown":case"keyup":x=Lp;break;case"focusin":v="focus",x=oo;break;case"focusout":v="blur",x=oo;break;case"beforeblur":case"afterblur":x=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Fp;break;case Nd:case Ed:case Cd:x=Cp;break;case Pd:x=Bp;break;case"scroll":x=kp;break;case"wheel":x=Hp;break;case"copy":case"cut":case"paste":x=Tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=au}var j=(e&4)!==0,A=!j&&t==="scroll",y=j?g!==null?g+"Capture":null:g;j=[];for(var p=d,m;p!==null;){m=p;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,y!==null&&(b=Vn(p,y),b!=null&&j.push(Xn(p,b,m)))),A)break;p=p.return}0<j.length&&(g=new x(g,v,null,r,c),h.push({event:g,listeners:j}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&r!==Go&&(v=r.relatedTarget||r.fromElement)&&(ur(v)||v[Nt]))break e;if((x||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,x?(v=r.relatedTarget||r.toElement,x=d,v=v?ur(v):null,v!==null&&(A=br(v),v!==A||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(j=ou,b="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(j=au,b="onPointerLeave",y="onPointerEnter",p="pointer"),A=x==null?g:Ur(x),m=v==null?g:Ur(v),g=new j(b,p+"leave",x,r,c),g.target=A,g.relatedTarget=m,b=null,ur(c)===d&&(j=new j(y,p+"enter",v,r,c),j.target=m,j.relatedTarget=A,b=j),A=b,x&&v)t:{for(j=x,y=v,p=0,m=j;m;m=Sr(m))p++;for(m=0,b=y;b;b=Sr(b))m++;for(;0<p-m;)j=Sr(j),p--;for(;0<m-p;)y=Sr(y),m--;for(;p--;){if(j===y||y!==null&&j===y.alternate)break t;j=Sr(j),y=Sr(y)}j=null}else j=null;x!==null&&xu(h,g,x,j,!1),v!==null&&A!==null&&xu(h,A,v,j,!0)}}e:{if(g=d?Ur(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var P=Yp;else if(du(g))if(bd)P=tm;else{P=Zp;var N=Xp}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=em);if(P&&(P=P(t,d))){wd(h,P,r,c);break e}N&&N(t,g,d),t==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&Bo(g,"number",g.value)}switch(N=d?Ur(d):window,t){case"focusin":(du(N)||N.contentEditable==="true")&&(Lr=N,el=d,Rn=null);break;case"focusout":Rn=el=Lr=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,gu(h,r,c);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":gu(h,r,c)}var C;if(aa)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Dr?vd(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(yd&&r.locale!=="ko"&&(Dr||D!=="onCompositionStart"?D==="onCompositionEnd"&&Dr&&(C=gd()):(Mt=c,ia="value"in Mt?Mt.value:Mt.textContent,Dr=!0)),N=ai(d,D),0<N.length&&(D=new lu(D,t,null,r,c),h.push({event:D,listeners:N}),C?D.data=C:(C=xd(r),C!==null&&(D.data=C)))),(C=qp?Gp(t,r):Kp(t,r))&&(d=ai(d,"onBeforeInput"),0<d.length&&(c=new lu("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:d}),c.data=C))}Od(h,e)})}function Xn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ai(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vn(t,r),i!=null&&n.unshift(Xn(t,i,s)),i=Vn(t,e),i!=null&&n.push(Xn(t,i,s))),t=t.return}return n}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,d=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&d!==null&&(a=d,s?(u=Vn(r,i),u!=null&&o.unshift(Xn(r,u,a))):s||(u=Vn(r,i),u!=null&&o.push(Xn(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var am=/\r\n?/g,um=/\u0000|\uFFFD/g;function wu(t){return(typeof t=="string"?t:""+t).replace(am,`
`).replace(um,"")}function Ts(t,e,r){if(e=wu(e),wu(t)!==e&&r)throw Error(E(425))}function ui(){}var rl=null,nl=null;function sl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,cm=typeof clearTimeout=="function"?clearTimeout:void 0,bu=typeof Promise=="function"?Promise:void 0,dm=typeof queueMicrotask=="function"?queueMicrotask:typeof bu<"u"?function(t){return bu.resolve(null).then(t).catch(hm)}:il;function hm(t){setTimeout(function(){throw t})}function mo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Kn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Kn(e)}function Wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _u(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var un=Math.random().toString(36).slice(2),ft="__reactFiber$"+un,Zn="__reactProps$"+un,Nt="__reactContainer$"+un,ol="__reactEvents$"+un,fm="__reactListeners$"+un,pm="__reactHandles$"+un;function ur(t){var e=t[ft];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Nt]||r[ft]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=_u(t);t!==null;){if(r=t[ft])return r;t=_u(t)}return e}t=r,r=t.parentNode}return null}function cs(t){return t=t[ft]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Ai(t){return t[Zn]||null}var ll=[],Fr=-1;function Yt(t){return{current:t}}function ne(t){0>Fr||(t.current=ll[Fr],ll[Fr]=null,Fr--)}function Z(t,e){Fr++,ll[Fr]=t.current,t.current=e}var Qt={},Ne=Yt(Qt),Re=Yt(!1),mr=Qt;function Zr(t,e){var r=t.type.contextTypes;if(!r)return Qt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function De(t){return t=t.childContextTypes,t!=null}function ci(){ne(Re),ne(Ne)}function ku(t,e,r){if(Ne.current!==Qt)throw Error(E(168));Z(Ne,e),Z(Re,r)}function Id(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,Xf(t)||"Unknown",s));return ce({},r,n)}function di(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qt,mr=Ne.current,Z(Ne,t),Z(Re,Re.current),!0}function ju(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Id(t,e,mr),n.__reactInternalMemoizedMergedChildContext=t,ne(Re),ne(Ne),Z(Ne,t)):ne(Re),Z(Re,r)}var bt=null,Ii=!1,go=!1;function $d(t){bt===null?bt=[t]:bt.push(t)}function mm(t){Ii=!0,$d(t)}function Xt(){if(!go&&bt!==null){go=!0;var t=0,e=J;try{var r=bt;for(J=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}bt=null,Ii=!1}catch(s){throw bt!==null&&(bt=bt.slice(t+1)),id(ta,Xt),s}finally{J=e,go=!1}}return null}var zr=[],Br=0,hi=null,fi=0,qe=[],Ge=0,gr=null,_t=1,kt="";function ir(t,e){zr[Br++]=fi,zr[Br++]=hi,hi=t,fi=e}function Rd(t,e,r){qe[Ge++]=_t,qe[Ge++]=kt,qe[Ge++]=gr,gr=t;var n=_t;t=kt;var s=32-ot(n)-1;n&=~(1<<s),r+=1;var i=32-ot(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_t=1<<32-ot(e)+s|r<<s|n,kt=i+t}else _t=1<<i|r<<s|n,kt=t}function ca(t){t.return!==null&&(ir(t,1),Rd(t,1,0))}function da(t){for(;t===hi;)hi=zr[--Br],zr[Br]=null,fi=zr[--Br],zr[Br]=null;for(;t===gr;)gr=qe[--Ge],qe[Ge]=null,kt=qe[--Ge],qe[Ge]=null,_t=qe[--Ge],qe[Ge]=null}var ze=null,Fe=null,se=!1,it=null;function Dd(t,e){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Su(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Fe=Wt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=gr!==null?{id:_t,overflow:kt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ze=t,Fe=null,!0):!1;default:return!1}}function al(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ul(t){if(se){var e=Fe;if(e){var r=e;if(!Su(t,e)){if(al(t))throw Error(E(418));e=Wt(r.nextSibling);var n=ze;e&&Su(t,e)?Dd(n,r):(t.flags=t.flags&-4097|2,se=!1,ze=t)}}else{if(al(t))throw Error(E(418));t.flags=t.flags&-4097|2,se=!1,ze=t}}}function Nu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function Os(t){if(t!==ze)return!1;if(!se)return Nu(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sl(t.type,t.memoizedProps)),e&&(e=Fe)){if(al(t))throw Ld(),Error(E(418));for(;e;)Dd(t,e),e=Wt(e.nextSibling)}if(Nu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fe=Wt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=ze?Wt(t.stateNode.nextSibling):null;return!0}function Ld(){for(var t=Fe;t;)t=Wt(t.nextSibling)}function en(){Fe=ze=null,se=!1}function ha(t){it===null?it=[t]:it.push(t)}var gm=Pt.ReactCurrentBatchConfig;function _n(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Eu(t){var e=t._init;return e(t._payload)}function Md(t){function e(y,p){if(t){var m=y.deletions;m===null?(y.deletions=[p],y.flags|=16):m.push(p)}}function r(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Gt(y,p),y.index=0,y.sibling=null,y}function i(y,p,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<p?(y.flags|=2,p):m):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,m,b){return p===null||p.tag!==6?(p=ko(m,y.mode,b),p.return=y,p):(p=s(p,m),p.return=y,p)}function u(y,p,m,b){var P=m.type;return P===Rr?c(y,p,m.props.children,b,m.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===It&&Eu(P)===p.type)?(b=s(p,m.props),b.ref=_n(y,p,m),b.return=y,b):(b=ei(m.type,m.key,m.props,null,y.mode,b),b.ref=_n(y,p,m),b.return=y,b)}function d(y,p,m,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=jo(m,y.mode,b),p.return=y,p):(p=s(p,m.children||[]),p.return=y,p)}function c(y,p,m,b,P){return p===null||p.tag!==7?(p=fr(m,y.mode,b,P),p.return=y,p):(p=s(p,m),p.return=y,p)}function h(y,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ko(""+p,y.mode,m),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return m=ei(p.type,p.key,p.props,null,y.mode,m),m.ref=_n(y,null,p),m.return=y,m;case $r:return p=jo(p,y.mode,m),p.return=y,p;case It:var b=p._init;return h(y,b(p._payload),m)}if(En(p)||yn(p))return p=fr(p,y.mode,m,null),p.return=y,p;As(y,p)}return null}function g(y,p,m,b){var P=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return P!==null?null:a(y,p,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case bs:return m.key===P?u(y,p,m,b):null;case $r:return m.key===P?d(y,p,m,b):null;case It:return P=m._init,g(y,p,P(m._payload),b)}if(En(m)||yn(m))return P!==null?null:c(y,p,m,b,null);As(y,m)}return null}function x(y,p,m,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(m)||null,a(p,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bs:return y=y.get(b.key===null?m:b.key)||null,u(p,y,b,P);case $r:return y=y.get(b.key===null?m:b.key)||null,d(p,y,b,P);case It:var N=b._init;return x(y,p,m,N(b._payload),P)}if(En(b)||yn(b))return y=y.get(m)||null,c(p,y,b,P,null);As(p,b)}return null}function v(y,p,m,b){for(var P=null,N=null,C=p,D=p=0,ie=null;C!==null&&D<m.length;D++){C.index>D?(ie=C,C=null):ie=C.sibling;var B=g(y,C,m[D],b);if(B===null){C===null&&(C=ie);break}t&&C&&B.alternate===null&&e(y,C),p=i(B,p,D),N===null?P=B:N.sibling=B,N=B,C=ie}if(D===m.length)return r(y,C),se&&ir(y,D),P;if(C===null){for(;D<m.length;D++)C=h(y,m[D],b),C!==null&&(p=i(C,p,D),N===null?P=C:N.sibling=C,N=C);return se&&ir(y,D),P}for(C=n(y,C);D<m.length;D++)ie=x(C,y,D,m[D],b),ie!==null&&(t&&ie.alternate!==null&&C.delete(ie.key===null?D:ie.key),p=i(ie,p,D),N===null?P=ie:N.sibling=ie,N=ie);return t&&C.forEach(function(Ve){return e(y,Ve)}),se&&ir(y,D),P}function j(y,p,m,b){var P=yn(m);if(typeof P!="function")throw Error(E(150));if(m=P.call(m),m==null)throw Error(E(151));for(var N=P=null,C=p,D=p=0,ie=null,B=m.next();C!==null&&!B.done;D++,B=m.next()){C.index>D?(ie=C,C=null):ie=C.sibling;var Ve=g(y,C,B.value,b);if(Ve===null){C===null&&(C=ie);break}t&&C&&Ve.alternate===null&&e(y,C),p=i(Ve,p,D),N===null?P=Ve:N.sibling=Ve,N=Ve,C=ie}if(B.done)return r(y,C),se&&ir(y,D),P;if(C===null){for(;!B.done;D++,B=m.next())B=h(y,B.value,b),B!==null&&(p=i(B,p,D),N===null?P=B:N.sibling=B,N=B);return se&&ir(y,D),P}for(C=n(y,C);!B.done;D++,B=m.next())B=x(C,y,D,B.value,b),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?D:B.key),p=i(B,p,D),N===null?P=B:N.sibling=B,N=B);return t&&C.forEach(function(er){return e(y,er)}),se&&ir(y,D),P}function A(y,p,m,b){if(typeof m=="object"&&m!==null&&m.type===Rr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case bs:e:{for(var P=m.key,N=p;N!==null;){if(N.key===P){if(P=m.type,P===Rr){if(N.tag===7){r(y,N.sibling),p=s(N,m.props.children),p.return=y,y=p;break e}}else if(N.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===It&&Eu(P)===N.type){r(y,N.sibling),p=s(N,m.props),p.ref=_n(y,N,m),p.return=y,y=p;break e}r(y,N);break}else e(y,N);N=N.sibling}m.type===Rr?(p=fr(m.props.children,y.mode,b,m.key),p.return=y,y=p):(b=ei(m.type,m.key,m.props,null,y.mode,b),b.ref=_n(y,p,m),b.return=y,y=b)}return o(y);case $r:e:{for(N=m.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(y,p.sibling),p=s(p,m.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else e(y,p);p=p.sibling}p=jo(m,y.mode,b),p.return=y,y=p}return o(y);case It:return N=m._init,A(y,p,N(m._payload),b)}if(En(m))return v(y,p,m,b);if(yn(m))return j(y,p,m,b);As(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(y,p.sibling),p=s(p,m),p.return=y,y=p):(r(y,p),p=ko(m,y.mode,b),p.return=y,y=p),o(y)):r(y,p)}return A}var tn=Md(!0),Ud=Md(!1),pi=Yt(null),mi=null,Wr=null,fa=null;function pa(){fa=Wr=mi=null}function ma(t){var e=pi.current;ne(pi),t._currentValue=e}function cl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Jr(t,e){mi=t,fa=Wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(fa!==t)if(t={context:t,memoizedValue:e,next:null},Wr===null){if(mi===null)throw Error(E(308));Wr=t,mi.dependencies={lanes:0,firstContext:t}}else Wr=Wr.next=t;return e}var cr=null;function ga(t){cr===null?cr=[t]:cr.push(t)}function Fd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ga(e)):(r.next=s.next,s.next=r),e.interleaved=r,Et(t,n)}function Et(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $t=!1;function ya(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ht(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Et(t,r)}return s=n.interleaved,s===null?(e.next=e,ga(n)):(e.next=s.next,s.next=e),n.interleaved=e,Et(t,r)}function Ks(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ra(t,r)}}function Cu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gi(t,e,r,n){var s=t.updateQueue;$t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=d:a.next=d,c.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,c=d=u=null,a=i;do{var g=a.lane,x=a.eventTime;if((n&g)===g){c!==null&&(c=c.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,j=a;switch(g=e,x=r,j.tag){case 1:if(v=j.payload,typeof v=="function"){h=v.call(x,h,g);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=j.payload,g=typeof v=="function"?v.call(x,h,g):v,g==null)break e;h=ce({},h,g);break e;case 2:$t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(d=c=x,u=h):c=c.next=x,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(c===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vr|=o,t.lanes=o,t.memoizedState=h}}function Pu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ds={},mt=Yt(ds),es=Yt(ds),ts=Yt(ds);function dr(t){if(t===ds)throw Error(E(174));return t}function va(t,e){switch(Z(ts,e),Z(es,t),Z(mt,ds),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ho(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ho(e,t)}ne(mt),Z(mt,e)}function rn(){ne(mt),ne(es),ne(ts)}function Bd(t){dr(ts.current);var e=dr(mt.current),r=Ho(e,t.type);e!==r&&(Z(es,t),Z(mt,r))}function xa(t){es.current===t&&(ne(mt),ne(es))}var ae=Yt(0);function yi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yo=[];function wa(){for(var t=0;t<yo.length;t++)yo[t]._workInProgressVersionPrimary=null;yo.length=0}var Qs=Pt.ReactCurrentDispatcher,vo=Pt.ReactCurrentBatchConfig,yr=0,ue=null,ge=null,ve=null,vi=!1,Dn=!1,rs=0,ym=0;function ke(){throw Error(E(321))}function ba(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!at(t[r],e[r]))return!1;return!0}function _a(t,e,r,n,s,i){if(yr=i,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qs.current=t===null||t.memoizedState===null?bm:_m,t=r(n,s),Dn){i=0;do{if(Dn=!1,rs=0,25<=i)throw Error(E(301));i+=1,ve=ge=null,e.updateQueue=null,Qs.current=km,t=r(n,s)}while(Dn)}if(Qs.current=xi,e=ge!==null&&ge.next!==null,yr=0,ve=ge=ue=null,vi=!1,e)throw Error(E(300));return t}function ka(){var t=rs!==0;return rs=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ue.memoizedState=ve=t:ve=ve.next=t,ve}function Xe(){if(ge===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=ve===null?ue.memoizedState:ve.next;if(e!==null)ve=e,ge=t;else{if(t===null)throw Error(E(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?ue.memoizedState=ve=t:ve=ve.next=t}return ve}function ns(t,e){return typeof e=="function"?e(t):e}function xo(t){var e=Xe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ge,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,d=i;do{var c=d.lane;if((yr&c)===c)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,ue.lanes|=c,vr|=c}d=d.next}while(d!==null&&d!==i);u===null?o=n:u.next=a,at(n,e.memoizedState)||($e=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ue.lanes|=i,vr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wo(t){var e=Xe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);at(i,e.memoizedState)||($e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Wd(){}function Hd(t,e){var r=ue,n=Xe(),s=e(),i=!at(n.memoizedState,s);if(i&&(n.memoizedState=s,$e=!0),n=n.queue,ja(Gd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ss(9,qd.bind(null,r,n,s,e),void 0,null),xe===null)throw Error(E(349));yr&30||Vd(r,e,s)}return s}function Vd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function qd(t,e,r,n){e.value=r,e.getSnapshot=n,Kd(e)&&Qd(t)}function Gd(t,e,r){return r(function(){Kd(e)&&Qd(t)})}function Kd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!at(t,r)}catch{return!0}}function Qd(t){var e=Et(t,1);e!==null&&lt(e,t,1,-1)}function Tu(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},e.queue=t,t=t.dispatch=wm.bind(null,ue,t),[e.memoizedState,t]}function ss(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Jd(){return Xe().memoizedState}function Js(t,e,r,n){var s=dt();ue.flags|=t,s.memoizedState=ss(1|e,r,void 0,n===void 0?null:n)}function $i(t,e,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,n!==null&&ba(n,o.deps)){s.memoizedState=ss(e,r,i,n);return}}ue.flags|=t,s.memoizedState=ss(1|e,r,i,n)}function Ou(t,e){return Js(8390656,8,t,e)}function ja(t,e){return $i(2048,8,t,e)}function Yd(t,e){return $i(4,2,t,e)}function Xd(t,e){return $i(4,4,t,e)}function Zd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eh(t,e,r){return r=r!=null?r.concat([t]):null,$i(4,4,Zd.bind(null,e,t),r)}function Sa(){}function th(t,e){var r=Xe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ba(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function rh(t,e){var r=Xe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ba(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function nh(t,e,r){return yr&21?(at(r,e)||(r=ad(),ue.lanes|=r,vr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=r)}function vm(t,e){var r=J;J=r!==0&&4>r?r:4,t(!0);var n=vo.transition;vo.transition={};try{t(!1),e()}finally{J=r,vo.transition=n}}function sh(){return Xe().memoizedState}function xm(t,e,r){var n=qt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ih(t))oh(e,r);else if(r=Fd(t,e,r,n),r!==null){var s=Pe();lt(r,t,n,s),lh(r,e,n)}}function wm(t,e,r){var n=qt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ih(t))oh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var u=e.interleaved;u===null?(s.next=s,ga(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=Fd(t,e,s,n),r!==null&&(s=Pe(),lt(r,t,n,s),lh(r,e,n))}}function ih(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function oh(t,e){Dn=vi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ra(t,r)}}var xi={readContext:Ye,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},bm={readContext:Ye,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Ou,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Js(4194308,4,Zd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Js(4194308,4,t,e)},useInsertionEffect:function(t,e){return Js(4,2,t,e)},useMemo:function(t,e){var r=dt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=dt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xm.bind(null,ue,t),[n.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:Tu,useDebugValue:Sa,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=Tu(!1),e=t[0];return t=vm.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ue,s=dt();if(se){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),xe===null)throw Error(E(349));yr&30||Vd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Ou(Gd.bind(null,n,i,t),[t]),n.flags|=2048,ss(9,qd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=dt(),e=xe.identifierPrefix;if(se){var r=kt,n=_t;r=(n&~(1<<32-ot(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=rs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ym++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_m={readContext:Ye,useCallback:th,useContext:Ye,useEffect:ja,useImperativeHandle:eh,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:rh,useReducer:xo,useRef:Jd,useState:function(){return xo(ns)},useDebugValue:Sa,useDeferredValue:function(t){var e=Xe();return nh(e,ge.memoizedState,t)},useTransition:function(){var t=xo(ns)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Wd,useSyncExternalStore:Hd,useId:sh,unstable_isNewReconciler:!1},km={readContext:Ye,useCallback:th,useContext:Ye,useEffect:ja,useImperativeHandle:eh,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:rh,useReducer:wo,useRef:Jd,useState:function(){return wo(ns)},useDebugValue:Sa,useDeferredValue:function(t){var e=Xe();return ge===null?e.memoizedState=t:nh(e,ge.memoizedState,t)},useTransition:function(){var t=wo(ns)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:Wd,useSyncExternalStore:Hd,useId:sh,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ri={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Pe(),s=qt(t),i=jt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ht(t,i,s),e!==null&&(lt(e,t,s,n),Ks(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Pe(),s=qt(t),i=jt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ht(t,i,s),e!==null&&(lt(e,t,s,n),Ks(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Pe(),n=qt(t),s=jt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ht(t,s,n),e!==null&&(lt(e,t,n,r),Ks(e,t,n))}};function Au(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jn(r,n)||!Jn(s,i):!0}function ah(t,e,r){var n=!1,s=Qt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=De(e)?mr:Ne.current,n=e.contextTypes,i=(n=n!=null)?Zr(t,s):Qt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ri,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Iu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ri.enqueueReplaceState(e,e.state,null)}function hl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},ya(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=De(e)?mr:Ne.current,s.context=Zr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dl(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ri.enqueueReplaceState(s,s.state,null),gi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nn(t,e){try{var r="",n=e;do r+=Yf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function fl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jm=typeof WeakMap=="function"?WeakMap:Map;function uh(t,e,r){r=jt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bi||(bi=!0,kl=n),fl(t,e)},r}function ch(t,e,r){r=jt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){fl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fl(t,e),typeof n!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function $u(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Mm.bind(null,t,e,r),e.then(t,t))}function Ru(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Du(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jt(-1,1),e.tag=2,Ht(r,e,1))),r.lanes|=1),t)}var Sm=Pt.ReactCurrentOwner,$e=!1;function Ce(t,e,r,n){e.child=t===null?Ud(e,null,r,n):tn(e,t.child,r,n)}function Lu(t,e,r,n,s){r=r.render;var i=e.ref;return Jr(e,s),n=_a(t,e,r,n,i,s),r=ka(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(se&&r&&ca(e),e.flags|=1,Ce(t,e,n,s),e.child)}function Mu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Ia(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,dh(t,e,i,n,s)):(t=ei(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jn,r(o,n)&&t.ref===e.ref)return Ct(t,e,s)}return e.flags|=1,t=Gt(i,n),t.ref=e.ref,t.return=e,e.child=t}function dh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Jn(i,n)&&t.ref===e.ref)if($e=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Ct(t,e,s)}return pl(t,e,r,n,s)}function hh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Vr,Ue),Ue|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Vr,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(Vr,Ue),Ue|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Z(Vr,Ue),Ue|=n;return Ce(t,e,s,r),e.child}function fh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pl(t,e,r,n,s){var i=De(r)?mr:Ne.current;return i=Zr(e,i),Jr(e,s),r=_a(t,e,r,n,i,s),n=ka(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ct(t,e,s)):(se&&n&&ca(e),e.flags|=1,Ce(t,e,r,s),e.child)}function Uu(t,e,r,n,s){if(De(r)){var i=!0;di(e)}else i=!1;if(Jr(e,s),e.stateNode===null)Ys(t,e),ah(e,r,n),hl(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ye(d):(d=De(r)?mr:Ne.current,d=Zr(e,d));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==d)&&Iu(e,o,n,d),$t=!1;var g=e.memoizedState;o.state=g,gi(e,n,o,s),u=e.memoizedState,a!==n||g!==u||Re.current||$t?(typeof c=="function"&&(dl(e,r,c,n),u=e.memoizedState),(a=$t||Au(e,r,a,n,g,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,zd(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:rt(e.type,a),o.props=d,h=e.pendingProps,g=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ye(u):(u=De(r)?mr:Ne.current,u=Zr(e,u));var x=r.getDerivedStateFromProps;(c=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==u)&&Iu(e,o,n,u),$t=!1,g=e.memoizedState,o.state=g,gi(e,n,o,s);var v=e.memoizedState;a!==h||g!==v||Re.current||$t?(typeof x=="function"&&(dl(e,r,x,n),v=e.memoizedState),(d=$t||Au(e,r,d,n,g,v,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return ml(t,e,r,n,i,s)}function ml(t,e,r,n,s,i){fh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&ju(e,r,!1),Ct(t,e,i);n=e.stateNode,Sm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=tn(e,t.child,null,i),e.child=tn(e,null,a,i)):Ce(t,e,a,i),e.memoizedState=n.state,s&&ju(e,r,!0),e.child}function ph(t){var e=t.stateNode;e.pendingContext?ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ku(t,e.context,!1),va(t,e.containerInfo)}function Fu(t,e,r,n,s){return en(),ha(s),e.flags|=256,Ce(t,e,r,n),e.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function yl(t){return{baseLanes:t,cachePool:null,transitions:null}}function mh(t,e,r){var n=e.pendingProps,s=ae.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(ae,s&1),t===null)return ul(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mi(o,n,0,null),t=fr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yl(r),e.memoizedState=gl,t):Na(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Nm(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Gt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gt(a,i):(i=fr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?yl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=gl,n}return i=t.child,t=i.sibling,n=Gt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Na(t,e){return e=Mi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Is(t,e,r,n){return n!==null&&ha(n),tn(e,t.child,null,r),t=Na(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=bo(Error(E(422))),Is(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Mi({mode:"visible",children:n.children},s,0,null),i=fr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&tn(e,t.child,null,o),e.child.memoizedState=yl(o),e.memoizedState=gl,i);if(!(e.mode&1))return Is(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=bo(i,n,void 0),Is(t,e,o,n)}if(a=(o&t.childLanes)!==0,$e||a){if(n=xe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(t,s),lt(n,t,s,-1))}return Aa(),n=bo(Error(E(421))),Is(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Um.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fe=Wt(s.nextSibling),ze=e,se=!0,it=null,t!==null&&(qe[Ge++]=_t,qe[Ge++]=kt,qe[Ge++]=gr,_t=t.id,kt=t.overflow,gr=e),e=Na(e,n.children),e.flags|=4096,e)}function zu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),cl(t.return,e,r)}function _o(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function gh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(t,e,n.children,r),n=ae.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zu(t,r,e);else if(t.tag===19)zu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Z(ae,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&yi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),_o(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}_o(e,!0,r,null,i);break;case"together":_o(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ys(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ct(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),vr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Gt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Em(t,e,r){switch(e.tag){case 3:ph(e),en();break;case 5:Bd(e);break;case 1:De(e.type)&&di(e);break;case 4:va(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Z(pi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Z(ae,ae.current&1),e.flags|=128,null):r&e.child.childLanes?mh(t,e,r):(Z(ae,ae.current&1),t=Ct(t,e,r),t!==null?t.sibling:null);Z(ae,ae.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ae,ae.current),n)break;return null;case 22:case 23:return e.lanes=0,hh(t,e,r)}return Ct(t,e,r)}var yh,vl,vh,xh;yh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vl=function(){};vh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,dr(mt.current);var i=null;switch(r){case"input":s=Fo(t,s),n=Fo(t,n),i=[];break;case"select":s=ce({},s,{value:void 0}),n=ce({},n,{value:void 0}),i=[];break;case"textarea":s=Wo(t,s),n=Wo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ui)}Vo(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Wn.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(a=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&re("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};xh=function(t,e,r,n){r!==n&&(e.flags|=4)};function kn(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Cm(t,e,r){var n=e.pendingProps;switch(da(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return De(e.type)&&ci(),je(e),null;case 3:return n=e.stateNode,rn(),ne(Re),ne(Ne),wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,it!==null&&(Nl(it),it=null))),vl(t,e),je(e),null;case 5:xa(e);var s=dr(ts.current);if(r=e.type,t!==null&&e.stateNode!=null)vh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return je(e),null}if(t=dr(mt.current),Os(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ft]=e,n[Zn]=i,t=(e.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<Pn.length;s++)re(Pn[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":Ja(n,i),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},re("invalid",n);break;case"textarea":Xa(n,i),re("invalid",n)}Vo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ts(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ts(n.textContent,a,t),s=["children",""+a]):Wn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&re("scroll",n)}switch(r){case"input":_s(n),Ya(n,i,!0);break;case"textarea":_s(n),Za(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ui)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ft]=e,t[Zn]=n,yh(t,e,!1,!1),e.stateNode=t;e:{switch(o=qo(r,n),r){case"dialog":re("cancel",t),re("close",t),s=n;break;case"iframe":case"object":case"embed":re("load",t),s=n;break;case"video":case"audio":for(s=0;s<Pn.length;s++)re(Pn[s],t);s=n;break;case"source":re("error",t),s=n;break;case"img":case"image":case"link":re("error",t),re("load",t),s=n;break;case"details":re("toggle",t),s=n;break;case"input":Ja(t,n),s=Fo(t,n),re("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ce({},n,{value:void 0}),re("invalid",t);break;case"textarea":Xa(t,n),s=Wo(t,n),re("invalid",t);break;default:s=n}Vo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Jc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Kc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Hn(t,u):typeof u=="number"&&Hn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&re("scroll",t):u!=null&&Jl(t,i,u,o))}switch(r){case"input":_s(t),Ya(t,n,!1);break;case"textarea":_s(t),Za(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Kt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?qr(t,!!n.multiple,i,!1):n.defaultValue!=null&&qr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)xh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=dr(ts.current),dr(mt.current),Os(e)){if(n=e.stateNode,r=e.memoizedProps,n[ft]=e,(i=n.nodeValue!==r)&&(t=ze,t!==null))switch(t.tag){case 3:Ts(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ts(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ft]=e,e.stateNode=n}return je(e),null;case 13:if(ne(ae),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&Fe!==null&&e.mode&1&&!(e.flags&128))Ld(),en(),e.flags|=98560,i=!1;else if(i=Os(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ft]=e}else en(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),i=!1}else it!==null&&(Nl(it),it=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ae.current&1?ye===0&&(ye=3):Aa())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return rn(),vl(t,e),t===null&&Yn(e.stateNode.containerInfo),je(e),null;case 10:return ma(e.type._context),je(e),null;case 17:return De(e.type)&&ci(),je(e),null;case 19:if(ne(ae),i=e.memoizedState,i===null)return je(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)kn(i,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yi(t),o!==null){for(e.flags|=128,kn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Z(ae,ae.current&1|2),e.child}t=t.sibling}i.tail!==null&&he()>sn&&(e.flags|=128,n=!0,kn(i,!1),e.lanes=4194304)}else{if(!n)if(t=yi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),kn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return je(e),null}else 2*he()-i.renderingStartTime>sn&&r!==1073741824&&(e.flags|=128,n=!0,kn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=he(),e.sibling=null,r=ae.current,Z(ae,n?r&1|2:r&1),e):(je(e),null);case 22:case 23:return Oa(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ue&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Pm(t,e){switch(da(e),e.tag){case 1:return De(e.type)&&ci(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rn(),ne(Re),ne(Ne),wa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xa(e),null;case 13:if(ne(ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));en()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(ae),null;case 4:return rn(),null;case 10:return ma(e.type._context),null;case 22:case 23:return Oa(),null;case 24:return null;default:return null}}var $s=!1,Se=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,I=null;function Hr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(t,e,n)}else r.current=null}function xl(t,e,r){try{r()}catch(n){de(t,e,n)}}var Bu=!1;function Om(t,e){if(rl=oi,t=jd(),ua(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,d=0,c=0,h=t,g=null;t:for(;;){for(var x;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)g=h,h=x;for(;;){if(h===t)break t;if(g===r&&++d===s&&(a=o),g===i&&++c===n&&(u=o),(x=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=x}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(nl={focusedElem:t,selectionRange:r},oi=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var j=v.memoizedProps,A=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?j:rt(e.type,j),A);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){de(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return v=Bu,Bu=!1,v}function Ln(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xl(e,r,i)}s=s.next}while(s!==n)}}function Di(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function wh(t){var e=t.alternate;e!==null&&(t.alternate=null,wh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Zn],delete e[ol],delete e[fm],delete e[pm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bh(t){return t.tag===5||t.tag===3||t.tag===4}function Wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ui));else if(n!==4&&(t=t.child,t!==null))for(bl(t,e,r),t=t.sibling;t!==null;)bl(t,e,r),t=t.sibling}function _l(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(_l(t,e,r),t=t.sibling;t!==null;)_l(t,e,r),t=t.sibling}var we=null,nt=!1;function Tt(t,e,r){for(r=r.child;r!==null;)_h(t,e,r),r=r.sibling}function _h(t,e,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 5:Se||Hr(r,e);case 6:var n=we,s=nt;we=null,Tt(t,e,r),we=n,nt=s,we!==null&&(nt?(t=we,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(nt?(t=we,r=r.stateNode,t.nodeType===8?mo(t.parentNode,r):t.nodeType===1&&mo(t,r),Kn(t)):mo(we,r.stateNode));break;case 4:n=we,s=nt,we=r.stateNode.containerInfo,nt=!0,Tt(t,e,r),we=n,nt=s;break;case 0:case 11:case 14:case 15:if(!Se&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xl(r,e,o),s=s.next}while(s!==n)}Tt(t,e,r);break;case 1:if(!Se&&(Hr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){de(r,e,a)}Tt(t,e,r);break;case 21:Tt(t,e,r);break;case 22:r.mode&1?(Se=(n=Se)||r.memoizedState!==null,Tt(t,e,r),Se=n):Tt(t,e,r);break;default:Tt(t,e,r)}}function Hu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Tm),e.forEach(function(n){var s=Fm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function et(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,nt=!1;break e;case 3:we=a.stateNode.containerInfo,nt=!0;break e;case 4:we=a.stateNode.containerInfo,nt=!0;break e}a=a.return}if(we===null)throw Error(E(160));_h(i,o,s),we=null,nt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){de(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kh(e,t),e=e.sibling}function kh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(et(e,t),ct(t),n&4){try{Ln(3,t,t.return),Di(3,t)}catch(j){de(t,t.return,j)}try{Ln(5,t,t.return)}catch(j){de(t,t.return,j)}}break;case 1:et(e,t),ct(t),n&512&&r!==null&&Hr(r,r.return);break;case 5:if(et(e,t),ct(t),n&512&&r!==null&&Hr(r,r.return),t.flags&32){var s=t.stateNode;try{Hn(s,"")}catch(j){de(t,t.return,j)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vc(s,i),qo(a,o);var d=qo(a,i);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?Jc(s,h):c==="dangerouslySetInnerHTML"?Kc(s,h):c==="children"?Hn(s,h):Jl(s,c,h,d)}switch(a){case"input":zo(s,i);break;case"textarea":qc(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?qr(s,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?qr(s,!!i.multiple,i.defaultValue,!0):qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zn]=i}catch(j){de(t,t.return,j)}}break;case 6:if(et(e,t),ct(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(j){de(t,t.return,j)}}break;case 3:if(et(e,t),ct(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kn(e.containerInfo)}catch(j){de(t,t.return,j)}break;case 4:et(e,t),ct(t);break;case 13:et(e,t),ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pa=he())),n&4&&Hu(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Se=(d=Se)||c,et(e,t),Se=d):et(e,t),ct(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(h=I=c;I!==null;){switch(g=I,x=g.child,g.tag){case 0:case 11:case 14:case 15:Ln(4,g,g.return);break;case 1:Hr(g,g.return);var v=g.stateNode;if(typeof v.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(j){de(n,r,j)}}break;case 5:Hr(g,g.return);break;case 22:if(g.memoizedState!==null){qu(h);continue}}x!==null?(x.return=g,I=x):qu(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Qc("display",o))}catch(j){de(t,t.return,j)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(j){de(t,t.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:et(e,t),ct(t),n&4&&Hu(t);break;case 21:break;default:et(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(bh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hn(s,""),n.flags&=-33);var i=Wu(t);_l(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Wu(t);bl(t,a,o);break;default:throw Error(E(161))}}catch(u){de(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Am(t,e,r){I=t,jh(t)}function jh(t,e,r){for(var n=(t.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||$s;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Se;a=$s;var d=Se;if($s=o,(Se=u)&&!d)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?Gu(s):u!==null?(u.return=o,I=u):Gu(s);for(;i!==null;)I=i,jh(i),i=i.sibling;I=s,$s=a,Se=d}Vu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Vu(t)}}function Vu(t){for(;I!==null;){var e=I;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Di(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Se)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:rt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Pu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var c=d.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Kn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Se||e.flags&512&&wl(e)}catch(g){de(e,e.return,g)}}if(e===t){I=null;break}if(r=e.sibling,r!==null){r.return=e.return,I=r;break}I=e.return}}function qu(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var r=e.sibling;if(r!==null){r.return=e.return,I=r;break}I=e.return}}function Gu(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Di(4,e)}catch(u){de(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){de(e,s,u)}}var i=e.return;try{wl(e)}catch(u){de(e,i,u)}break;case 5:var o=e.return;try{wl(e)}catch(u){de(e,o,u)}}}catch(u){de(e,e.return,u)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var Im=Math.ceil,wi=Pt.ReactCurrentDispatcher,Ea=Pt.ReactCurrentOwner,Qe=Pt.ReactCurrentBatchConfig,q=0,xe=null,fe=null,be=0,Ue=0,Vr=Yt(0),ye=0,is=null,vr=0,Li=0,Ca=0,Mn=null,Ae=null,Pa=0,sn=1/0,xt=null,bi=!1,kl=null,Vt=null,Rs=!1,Ut=null,_i=0,Un=0,jl=null,Xs=-1,Zs=0;function Pe(){return q&6?he():Xs!==-1?Xs:Xs=he()}function qt(t){return t.mode&1?q&2&&be!==0?be&-be:gm.transition!==null?(Zs===0&&(Zs=ad()),Zs):(t=J,t!==0||(t=window.event,t=t===void 0?16:md(t.type)),t):1}function lt(t,e,r,n){if(50<Un)throw Un=0,jl=null,Error(E(185));as(t,r,n),(!(q&2)||t!==xe)&&(t===xe&&(!(q&2)&&(Li|=r),ye===4&&Dt(t,be)),Le(t,n),r===1&&q===0&&!(e.mode&1)&&(sn=he()+500,Ii&&Xt()))}function Le(t,e){var r=t.callbackNode;gp(t,e);var n=ii(t,t===xe?be:0);if(n===0)r!==null&&ru(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ru(r),e===1)t.tag===0?mm(Ku.bind(null,t)):$d(Ku.bind(null,t)),dm(function(){!(q&6)&&Xt()}),r=null;else{switch(ud(n)){case 1:r=ta;break;case 4:r=od;break;case 16:r=si;break;case 536870912:r=ld;break;default:r=si}r=Ah(r,Sh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Sh(t,e){if(Xs=-1,Zs=0,q&6)throw Error(E(327));var r=t.callbackNode;if(Yr()&&t.callbackNode!==r)return null;var n=ii(t,t===xe?be:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ki(t,n);else{e=n;var s=q;q|=2;var i=Eh();(xe!==t||be!==e)&&(xt=null,sn=he()+500,hr(t,e));do try{Dm();break}catch(a){Nh(t,a)}while(!0);pa(),wi.current=i,q=s,fe!==null?e=0:(xe=null,be=0,e=ye)}if(e!==0){if(e===2&&(s=Yo(t),s!==0&&(n=s,e=Sl(t,s))),e===1)throw r=is,hr(t,0),Dt(t,n),Le(t,he()),r;if(e===6)Dt(t,n);else{if(s=t.current.alternate,!(n&30)&&!$m(s)&&(e=ki(t,n),e===2&&(i=Yo(t),i!==0&&(n=i,e=Sl(t,i))),e===1))throw r=is,hr(t,0),Dt(t,n),Le(t,he()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:or(t,Ae,xt);break;case 3:if(Dt(t,n),(n&130023424)===n&&(e=Pa+500-he(),10<e)){if(ii(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Pe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=il(or.bind(null,t,Ae,xt),e);break}or(t,Ae,xt);break;case 4:if(Dt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-ot(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Im(n/1960))-n,10<n){t.timeoutHandle=il(or.bind(null,t,Ae,xt),n);break}or(t,Ae,xt);break;case 5:or(t,Ae,xt);break;default:throw Error(E(329))}}}return Le(t,he()),t.callbackNode===r?Sh.bind(null,t):null}function Sl(t,e){var r=Mn;return t.current.memoizedState.isDehydrated&&(hr(t,e).flags|=256),t=ki(t,e),t!==2&&(e=Ae,Ae=r,e!==null&&Nl(e)),t}function Nl(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function $m(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~Ca,e&=~Li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ot(e),n=1<<r;t[r]=-1,e&=~n}}function Ku(t){if(q&6)throw Error(E(327));Yr();var e=ii(t,0);if(!(e&1))return Le(t,he()),null;var r=ki(t,e);if(t.tag!==0&&r===2){var n=Yo(t);n!==0&&(e=n,r=Sl(t,n))}if(r===1)throw r=is,hr(t,0),Dt(t,e),Le(t,he()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,or(t,Ae,xt),Le(t,he()),null}function Ta(t,e){var r=q;q|=1;try{return t(e)}finally{q=r,q===0&&(sn=he()+500,Ii&&Xt())}}function xr(t){Ut!==null&&Ut.tag===0&&!(q&6)&&Yr();var e=q;q|=1;var r=Qe.transition,n=J;try{if(Qe.transition=null,J=1,t)return t()}finally{J=n,Qe.transition=r,q=e,!(q&6)&&Xt()}}function Oa(){Ue=Vr.current,ne(Vr)}function hr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,cm(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(da(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ci();break;case 3:rn(),ne(Re),ne(Ne),wa();break;case 5:xa(n);break;case 4:rn();break;case 13:ne(ae);break;case 19:ne(ae);break;case 10:ma(n.type._context);break;case 22:case 23:Oa()}r=r.return}if(xe=t,fe=t=Gt(t.current,null),be=Ue=e,ye=0,is=null,Ca=Li=vr=0,Ae=Mn=null,cr!==null){for(e=0;e<cr.length;e++)if(r=cr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}cr=null}return t}function Nh(t,e){do{var r=fe;try{if(pa(),Qs.current=xi,vi){for(var n=ue.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vi=!1}if(yr=0,ve=ge=ue=null,Dn=!1,rs=0,Ea.current=null,r===null||r.return===null){ye=1,is=e,fe=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=be,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=Ru(o);if(x!==null){x.flags&=-257,Du(x,o,a,i,e),x.mode&1&&$u(i,d,e),e=x,u=d;var v=e.updateQueue;if(v===null){var j=new Set;j.add(u),e.updateQueue=j}else v.add(u);break e}else{if(!(e&1)){$u(i,d,e),Aa();break e}u=Error(E(426))}}else if(se&&a.mode&1){var A=Ru(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Du(A,o,a,i,e),ha(nn(u,a));break e}}i=u=nn(u,a),ye!==4&&(ye=2),Mn===null?Mn=[i]:Mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=uh(i,u,e);Cu(i,y);break e;case 1:a=u;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vt===null||!Vt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=ch(i,a,e);Cu(i,b);break e}}i=i.return}while(i!==null)}Ph(r)}catch(P){e=P,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(!0)}function Eh(){var t=wi.current;return wi.current=xi,t===null?xi:t}function Aa(){(ye===0||ye===3||ye===2)&&(ye=4),xe===null||!(vr&268435455)&&!(Li&268435455)||Dt(xe,be)}function ki(t,e){var r=q;q|=2;var n=Eh();(xe!==t||be!==e)&&(xt=null,hr(t,e));do try{Rm();break}catch(s){Nh(t,s)}while(!0);if(pa(),q=r,wi.current=n,fe!==null)throw Error(E(261));return xe=null,be=0,ye}function Rm(){for(;fe!==null;)Ch(fe)}function Dm(){for(;fe!==null&&!lp();)Ch(fe)}function Ch(t){var e=Oh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Ph(t):fe=e,Ea.current=null}function Ph(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Pm(r,e),r!==null){r.flags&=32767,fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,fe=null;return}}else if(r=Cm(r,e,Ue),r!==null){fe=r;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);ye===0&&(ye=5)}function or(t,e,r){var n=J,s=Qe.transition;try{Qe.transition=null,J=1,Lm(t,e,r,n)}finally{Qe.transition=s,J=n}return null}function Lm(t,e,r,n){do Yr();while(Ut!==null);if(q&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(yp(t,i),t===xe&&(fe=xe=null,be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rs||(Rs=!0,Ah(si,function(){return Yr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qe.transition,Qe.transition=null;var o=J;J=1;var a=q;q|=4,Ea.current=null,Om(t,r),kh(r,t),nm(nl),oi=!!rl,nl=rl=null,t.current=r,Am(r),ap(),q=a,J=o,Qe.transition=i}else t.current=r;if(Rs&&(Rs=!1,Ut=t,_i=s),i=t.pendingLanes,i===0&&(Vt=null),dp(r.stateNode),Le(t,he()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(bi)throw bi=!1,t=kl,kl=null,t;return _i&1&&t.tag!==0&&Yr(),i=t.pendingLanes,i&1?t===jl?Un++:(Un=0,jl=t):Un=0,Xt(),null}function Yr(){if(Ut!==null){var t=ud(_i),e=Qe.transition,r=J;try{if(Qe.transition=null,J=16>t?16:t,Ut===null)var n=!1;else{if(t=Ut,Ut=null,_i=0,q&6)throw Error(E(331));var s=q;for(q|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(I=d;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:Ln(8,c,i)}var h=c.child;if(h!==null)h.return=c,I=h;else for(;I!==null;){c=I;var g=c.sibling,x=c.return;if(wh(c),c===d){I=null;break}if(g!==null){g.return=x,I=g;break}I=x}}}var v=i.alternate;if(v!==null){var j=v.child;if(j!==null){v.child=null;do{var A=j.sibling;j.sibling=null,j=A}while(j!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ln(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,I=y;break e}I=i.return}}var p=t.current;for(I=p;I!==null;){o=I;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,I=m;else e:for(o=p;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Di(9,a)}}catch(P){de(a,a.return,P)}if(a===o){I=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,I=b;break e}I=a.return}}if(q=s,Xt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ci,t)}catch{}n=!0}return n}finally{J=r,Qe.transition=e}}return!1}function Qu(t,e,r){e=nn(r,e),e=uh(t,e,1),t=Ht(t,e,1),e=Pe(),t!==null&&(as(t,1,e),Le(t,e))}function de(t,e,r){if(t.tag===3)Qu(t,t,r);else for(;e!==null;){if(e.tag===3){Qu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vt===null||!Vt.has(n))){t=nn(r,t),t=ch(e,t,1),e=Ht(e,t,1),t=Pe(),e!==null&&(as(e,1,t),Le(e,t));break}}e=e.return}}function Mm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Pe(),t.pingedLanes|=t.suspendedLanes&r,xe===t&&(be&r)===r&&(ye===4||ye===3&&(be&130023424)===be&&500>he()-Pa?hr(t,0):Ca|=r),Le(t,e)}function Th(t,e){e===0&&(t.mode&1?(e=Ss,Ss<<=1,!(Ss&130023424)&&(Ss=4194304)):e=1);var r=Pe();t=Et(t,e),t!==null&&(as(t,e,r),Le(t,r))}function Um(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Th(t,r)}function Fm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Th(t,r)}var Oh;Oh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)$e=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $e=!1,Em(t,e,r);$e=!!(t.flags&131072)}else $e=!1,se&&e.flags&1048576&&Rd(e,fi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ys(t,e),t=e.pendingProps;var s=Zr(e,Ne.current);Jr(e,r),s=_a(null,e,n,t,s,r);var i=ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,De(n)?(i=!0,di(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ya(e),s.updater=Ri,e.stateNode=s,s._reactInternals=e,hl(e,n,t,r),e=ml(null,e,n,!0,i,r)):(e.tag=0,se&&i&&ca(e),Ce(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ys(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Bm(n),t=rt(n,t),s){case 0:e=pl(null,e,n,t,r);break e;case 1:e=Uu(null,e,n,t,r);break e;case 11:e=Lu(null,e,n,t,r);break e;case 14:e=Mu(null,e,n,rt(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:rt(n,s),pl(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:rt(n,s),Uu(t,e,n,s,r);case 3:e:{if(ph(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,zd(t,e),gi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=nn(Error(E(423)),e),e=Fu(t,e,n,r,s);break e}else if(n!==s){s=nn(Error(E(424)),e),e=Fu(t,e,n,r,s);break e}else for(Fe=Wt(e.stateNode.containerInfo.firstChild),ze=e,se=!0,it=null,r=Ud(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(en(),n===s){e=Ct(t,e,r);break e}Ce(t,e,n,r)}e=e.child}return e;case 5:return Bd(e),t===null&&ul(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sl(n,s)?o=null:i!==null&&sl(n,i)&&(e.flags|=32),fh(t,e),Ce(t,e,o,r),e.child;case 6:return t===null&&ul(e),null;case 13:return mh(t,e,r);case 4:return va(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=tn(e,null,n,r):Ce(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:rt(n,s),Lu(t,e,n,s,r);case 7:return Ce(t,e,e.pendingProps,r),e.child;case 8:return Ce(t,e,e.pendingProps.children,r),e.child;case 12:return Ce(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(pi,n._currentValue),n._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Re.current){e=Ct(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=jt(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var c=d.pending;c===null?u.next=u:(u.next=c.next,c.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),cl(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),cl(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Jr(e,r),s=Ye(s),n=n(s),e.flags|=1,Ce(t,e,n,r),e.child;case 14:return n=e.type,s=rt(n,e.pendingProps),s=rt(n.type,s),Mu(t,e,n,s,r);case 15:return dh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:rt(n,s),Ys(t,e),e.tag=1,De(n)?(t=!0,di(e)):t=!1,Jr(e,r),ah(e,n,s),hl(e,n,s,r),ml(null,e,n,!0,t,r);case 19:return gh(t,e,r);case 22:return hh(t,e,r)}throw Error(E(156,e.tag))};function Ah(t,e){return id(t,e)}function zm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,r,n){return new zm(t,e,r,n)}function Ia(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bm(t){if(typeof t=="function")return Ia(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xl)return 11;if(t===Zl)return 14}return 2}function Gt(t,e){var r=t.alternate;return r===null?(r=Ke(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ei(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Ia(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rr:return fr(r.children,s,i,e);case Yl:o=8,s|=8;break;case Do:return t=Ke(12,r,e,s|2),t.elementType=Do,t.lanes=i,t;case Lo:return t=Ke(13,r,e,s),t.elementType=Lo,t.lanes=i,t;case Mo:return t=Ke(19,r,e,s),t.elementType=Mo,t.lanes=i,t;case Bc:return Mi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fc:o=10;break e;case zc:o=9;break e;case Xl:o=11;break e;case Zl:o=14;break e;case It:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ke(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function fr(t,e,r,n){return t=Ke(7,t,n,e),t.lanes=r,t}function Mi(t,e,r,n){return t=Ke(22,t,n,e),t.elementType=Bc,t.lanes=r,t.stateNode={isHidden:!1},t}function ko(t,e,r){return t=Ke(6,t,null,e),t.lanes=r,t}function jo(t,e,r){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $a(t,e,r,n,s,i,o,a,u){return t=new Wm(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(i),t}function Hm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ih(t){if(!t)return Qt;t=t._reactInternals;e:{if(br(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(De(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(De(r))return Id(t,r,e)}return e}function $h(t,e,r,n,s,i,o,a,u){return t=$a(r,n,!0,t,s,i,o,a,u),t.context=Ih(null),r=t.current,n=Pe(),s=qt(r),i=jt(n,s),i.callback=e??null,Ht(r,i,s),t.current.lanes=s,as(t,s,n),Le(t,n),t}function Ui(t,e,r,n){var s=e.current,i=Pe(),o=qt(s);return r=Ih(r),e.context===null?e.context=r:e.pendingContext=r,e=jt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ht(s,e,o),t!==null&&(lt(t,s,o,i),Ks(t,s,o)),o}function ji(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ju(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ra(t,e){Ju(t,e),(t=t.alternate)&&Ju(t,e)}function Vm(){return null}var Rh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Da(t){this._internalRoot=t}Fi.prototype.render=Da.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ui(t,e,null,null)};Fi.prototype.unmount=Da.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){Ui(null,t,null,null)}),e[Nt]=null}};function Fi(t){this._internalRoot=t}Fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=hd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rt.length&&e!==0&&e<Rt[r].priority;r++);Rt.splice(r,0,t),r===0&&pd(t)}};function La(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yu(){}function qm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=ji(o);i.call(d)}}var o=$h(e,n,t,0,null,!1,!1,"",Yu);return t._reactRootContainer=o,t[Nt]=o.current,Yn(t.nodeType===8?t.parentNode:t),xr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var d=ji(u);a.call(d)}}var u=$a(t,0,!1,null,null,!1,!1,"",Yu);return t._reactRootContainer=u,t[Nt]=u.current,Yn(t.nodeType===8?t.parentNode:t),xr(function(){Ui(e,u,r,n)}),u}function Bi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ji(o);a.call(u)}}Ui(e,o,t,s)}else o=qm(r,e,t,s,n);return ji(o)}cd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Cn(e.pendingLanes);r!==0&&(ra(e,r|1),Le(e,he()),!(q&6)&&(sn=he()+500,Xt()))}break;case 13:xr(function(){var n=Et(t,1);if(n!==null){var s=Pe();lt(n,t,1,s)}}),Ra(t,1)}};na=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var r=Pe();lt(e,t,134217728,r)}Ra(t,134217728)}};dd=function(t){if(t.tag===13){var e=qt(t),r=Et(t,e);if(r!==null){var n=Pe();lt(r,t,e,n)}Ra(t,e)}};hd=function(){return J};fd=function(t,e){var r=J;try{return J=t,e()}finally{J=r}};Ko=function(t,e,r){switch(e){case"input":if(zo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ai(n);if(!s)throw Error(E(90));Hc(n),zo(n,s)}}}break;case"textarea":qc(t,r);break;case"select":e=r.value,e!=null&&qr(t,!!r.multiple,e,!1)}};Zc=Ta;ed=xr;var Gm={usingClientEntryPoint:!1,Events:[cs,Ur,Ai,Yc,Xc,Ta]},jn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Km={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nd(t),t===null?null:t.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||Vm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Ci=Ds.inject(Km),pt=Ds}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;We.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!La(e))throw Error(E(200));return Hm(t,e,null,r)};We.createRoot=function(t,e){if(!La(t))throw Error(E(299));var r=!1,n="",s=Rh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$a(t,1,!1,null,null,r,!1,n,s),t[Nt]=e.current,Yn(t.nodeType===8?t.parentNode:t),new Da(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=nd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return xr(t)};We.hydrate=function(t,e,r){if(!zi(e))throw Error(E(200));return Bi(null,t,e,!0,r)};We.hydrateRoot=function(t,e,r){if(!La(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Rh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=$h(e,null,t,1,r??null,s,!1,i,o),t[Nt]=e.current,Yn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Fi(e)};We.render=function(t,e,r){if(!zi(e))throw Error(E(200));return Bi(null,t,e,!1,r)};We.unmountComponentAtNode=function(t){if(!zi(t))throw Error(E(40));return t._reactRootContainer?(xr(function(){Bi(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};We.unstable_batchedUpdates=Ta;We.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!zi(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Bi(t,e,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function Dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dh)}catch(t){console.error(t)}}Dh(),Dc.exports=We;var Qm=Dc.exports,Xu=Qm;$o.createRoot=Xu.createRoot,$o.hydrateRoot=Xu.hydrateRoot;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const r=L.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...d},c)=>L.createElement("svg",{ref:c,...Jm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ym(t)}`,a].join(" "),...d},[...e.map(([h,g])=>L.createElement(h,g)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=V("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=V("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=V("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=V("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=V("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=V("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=V("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=V("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=V("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=V("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=V("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=V("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=V("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fg="modulepreload",pg=function(t){return"/"+t},lc={},hs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=pg(u),u in lc)return;lc[u]=!0;const d=u.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":fg,d||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((g,x)=>{h.addEventListener("load",g),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},mg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>cn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ma extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class gg extends Ma{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ac extends Ma{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uc extends Ma{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Al;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Al||(Al={}));var yg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};class vg{constructor(e,{headers:r={},customFetch:n,region:s=Al.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=mg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return yg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(j=>{throw new gg(j)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new ac(h);if(!h.ok)throw new uc(h);let x=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield h.json():x==="application/octet-stream"?v=yield h.blob():x==="text/event-stream"?v=h:x==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof uc||s instanceof ac?s.context:void 0}}})}}var Ie={},Ua={},Wi={},fs={},Hi={},Vi={},xg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},on=xg();const wg=on.fetch,Uh=on.fetch.bind(on),Fh=on.Headers,bg=on.Request,_g=on.Response,cn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fh,Request:bg,Response:_g,default:Uh,fetch:wg},Symbol.toStringTag,{value:"Module"})),kg=kf(cn);var qi={};Object.defineProperty(qi,"__esModule",{value:!0});let jg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};qi.default=jg;var zh=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});const Sg=zh(kg),Ng=zh(qi);let Eg=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Sg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u;let d=null,c=null,h=null,g=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const j=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&A&&A.length>1&&(h=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(d={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,g=406,x="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(c=[],d=null,g=200,x="OK")}catch{i.status===404&&j===""?(g=204,x="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,g=200,x="OK"),d&&this.shouldThrowOnError)throw new Ng.default(d)}return{error:d,data:c,count:h,status:g,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Vi.default=Eg;var Cg=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});const Pg=Cg(Vi);let Tg=class extends Pg.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hi.default=Tg;var Og=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});const Ag=Og(Hi);let Ig=class extends Ag.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};fs.default=Ig;var $g=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const Sn=$g(fs);let Rg=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Sn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Sn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const u=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(u.length>0){const d=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new Sn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Sn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Sn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Wi.default=Rg;var Gi={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.version=void 0;Ki.version="0.0.0-automated";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.DEFAULT_HEADERS=void 0;const Dg=Ki;Gi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Dg.version}`};var Bh=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ua,"__esModule",{value:!0});const Lg=Bh(Wi),Mg=Bh(fs),Ug=Gi;let Fg=class Wh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ug.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Lg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Wh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",u=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Mg.default({method:o,url:a,headers:d,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Ua.default=Fg;var dn=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const Hh=dn(Ua);Ie.PostgrestClient=Hh.default;const Vh=dn(Wi);Ie.PostgrestQueryBuilder=Vh.default;const qh=dn(fs);Ie.PostgrestFilterBuilder=qh.default;const Gh=dn(Hi);Ie.PostgrestTransformBuilder=Gh.default;const Kh=dn(Vi);Ie.PostgrestBuilder=Kh.default;const Qh=dn(qi);Ie.PostgrestError=Qh.default;var zg=Ie.default={PostgrestClient:Hh.default,PostgrestQueryBuilder:Vh.default,PostgrestFilterBuilder:qh.default,PostgrestTransformBuilder:Gh.default,PostgrestBuilder:Kh.default,PostgrestError:Qh.default};const{PostgrestClient:Bg,PostgrestQueryBuilder:My,PostgrestFilterBuilder:Uy,PostgrestTransformBuilder:Fy,PostgrestBuilder:zy,PostgrestError:By}=zg;class Wg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Hg="2.15.1",Vg=`realtime-js/${Hg}`,qg="1.0.0",Il=1e4,Gg=1e3,Kg=100;var Fn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Fn||(Fn={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var st;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(st||(st={}));var $l;(function(t){t.websocket="websocket"})($l||($l={}));var ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ar||(ar={}));class Qg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:d}}}class Jh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const cc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Jg(o,t,e,s),i),{})},Jg=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Yh(i,o):Rl(o)},Yh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return e0(e,r)}switch(t){case X.bool:return Yg(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Xg(e);case X.json:case X.jsonb:return Zg(e);case X.timestamp:return t0(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Rl(e);default:return Rl(e)}},Rl=t=>t,Yg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Zg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},e0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Yh(e,a))}return t},t0=t=>typeof t=="string"?t.replace(" ","T"):t,Xh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class No{constructor(e,r,n={},s=Il){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dc||(dc={}));class zn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=zn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(d,c)=>{o[d]||(u[d]=c)}),this.map(o,(d,c)=>{const h=i[d];if(h){const g=c.map(A=>A.presence_ref),x=h.map(A=>A.presence_ref),v=c.filter(A=>x.indexOf(A.presence_ref)<0),j=h.filter(A=>g.indexOf(A.presence_ref)<0);v.length>0&&(a[d]=v),j.length>0&&(u[d]=j)}else a[d]=c}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var d;const c=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(u),c.length>0){const h=e[a].map(x=>x.presence_ref),g=c.filter(x=>h.indexOf(x.presence_ref)<0);e[a].unshift(...g)}n(a,c,u)}),this.map(o,(a,u)=>{let d=e[a];if(!d)return;const c=u.map(h=>h.presence_ref);d=d.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=d,s(a,d,u),d.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hc||(hc={}));var Bn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bn||(Bn={}));var wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class Fa{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new No(this,st.join,this.params,this.timeout),this.rejoinTimer=new Jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new zn(this),this.broadcastEndpointURL=Xh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Bn.PRESENCE]&&this.bindings[Bn.PRESENCE].length>0,c={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(wt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){e==null||e(wt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,j=(x=v==null?void 0:v.length)!==null&&x!==void 0?x:0,A=[];for(let y=0;y<j;y++){const p=v[y],{filter:{event:m,schema:b,table:P,filter:N}}=p,C=g&&g[y];if(C&&C.event===m&&C.schema===b&&C.table===P&&C.filter===N)A.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(wt.SUBSCRIBED);return}}).receive("error",g=>{this.state=pe.errored,e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pe.joined&&e===Bn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new No(this,st.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new No(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Kg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:d,join:c}=st;if(n&&[a,u,d,c].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var v,j,A;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((A=(j=x.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(x=>x.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var v,j,A,y,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const b=x.id,P=(v=x.filter)===null||v===void 0?void 0:v.event;return b&&((j=r.ids)===null||j===void 0?void 0:j.includes(b))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const b=(p=(y=x==null?void 0:x.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:j,table:A,commit_timestamp:y,type:p,errors:m}=v;g=Object.assign(Object.assign({},{schema:j,table:A,commit_timestamp:y,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}x.callback(g,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Fa.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(st.close,{},e)}_onError(e){this._on(st.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=cc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=cc(e.columns,e.old_record)),r}}const fc=()=>{},Us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r0=[1e3,2e3,5e3,1e4],n0=1e4,s0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=Us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new Qg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>hs(async()=>{const{default:a}=await Promise.resolve().then(()=>cn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$l.websocket}`,this.httpEndpoint=Xh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return ar.Connecting;case Fn.open:return ar.Open;case Fn.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Fa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Us.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(st.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([s0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Vg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Jh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,u,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Il,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Us.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:c=>r0[c-1]||n0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(c,h)=>h(JSON.stringify(c)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class za extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class o0 extends za{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dl extends za{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var l0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};const Zh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>cn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},a0=()=>l0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>cn),void 0)).Response:Response}),Ll=t=>{if(Array.isArray(t))return t.map(r=>Ll(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ll(n)}),e},u0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var _r=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};const Eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),c0=(t,e,r)=>_r(void 0,void 0,void 0,function*(){const n=yield a0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new o0(Eo(s),i,o))}).catch(s=>{e(new Dl(Eo(s),s))}):e(new Dl(Eo(t),t))}),d0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(u0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ps(t,e,r,n,s,i){return _r(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,d0(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>c0(u,a,n))})})}function Si(t,e,r,n){return _r(this,void 0,void 0,function*(){return ps(t,"GET",e,r,n)})}function ht(t,e,r,n,s){return _r(this,void 0,void 0,function*(){return ps(t,"POST",e,n,s,r)})}function Ml(t,e,r,n,s){return _r(this,void 0,void 0,function*(){return ps(t,"PUT",e,n,s,r)})}function h0(t,e,r,n){return _r(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ef(t,e,r,n,s){return _r(this,void 0,void 0,function*(){return ps(t,"DELETE",e,n,s,r)})}var Ee=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};const f0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Zh(s)}uploadOrUpdate(e,r,n,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const d=this._removeEmptyFolders(r),c=this._getFinalPath(d),h=yield(e=="PUT"?Ml:ht)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:pc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const h=yield Ml(this.fetch,a.toString(),u,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(me(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new za("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}download(e,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Si(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Si(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ll(n),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}exists(e){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield h0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(me(n)&&n instanceof Dl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f0),r),{prefix:e||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ee(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const m0="2.11.0",g0={"X-Client-Info":`storage-js/${m0}`};var Nr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};class y0{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},g0),r),this.fetch=Zh(n)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(me(e))return{data:null,error:e};throw e}})}getBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield Ml(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Nr(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}}class v0 extends y0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new p0(this.url,this.headers,e,this.fetch)}}const x0="2.55.0";let Tn="";typeof Deno<"u"?Tn="deno":typeof document<"u"?Tn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tn="react-native":Tn="node";const w0={"X-Client-Info":`supabase-js-${Tn}/${x0}`},b0={headers:w0},_0={schema:"public"},k0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},j0={};var S0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};const N0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Uh:e=fetch,(...r)=>e(...r)},E0=()=>typeof Headers>"u"?Fh:Headers,C0=(t,e,r)=>{const n=N0(r),s=E0();return(i,o)=>S0(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var P0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};function T0(t){return t.endsWith("/")?t:t+"/"}function O0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:d,realtime:c,global:h}=e,g={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>P0(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const tf="2.71.1",Ar=30*1e3,Ul=3,Co=Ul*Ar,A0="http://localhost:9999",I0="supabase.auth.token",$0={"X-Client-Info":`gotrue-js/${tf}`},Fl="X-Supabase-Api-Version",rf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D0=10*60*1e3;class Ba extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class L0 extends Ba{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function M0(t){return z(t)&&t.name==="AuthApiError"}class nf extends Ba{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Zt extends Ba{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class At extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function U0(t){return z(t)&&t.name==="AuthSessionMissingError"}class Fs extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Bs extends Zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F0(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class mc extends Zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zl extends Zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Po(t){return z(t)&&t.name==="AuthRetryableFetchError"}class gc extends Zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bl extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yc=` 	
\r=`.split(""),z0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yc.length;e+=1)t[yc[e].charCodeAt(0)]=-2;for(let e=0;e<Ni.length;e+=1)t[Ni[e].charCodeAt(0)]=e;return t})();function vc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Ni[n]),e.queuedBits-=6}}function sf(t,e,r){const n=z0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{H0(o,n,r)};for(let o=0;o<t.length;o+=1)sf(t.charCodeAt(o),s,i);return e.join("")}function B0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function W0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}B0(n,e)}}function H0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function V0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)sf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function q0(t){const e=[];return W0(t,r=>e.push(r)),new Uint8Array(e)}function G0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>vc(s,r,n)),vc(null,r,n),e.join("")}function K0(t){return Math.round(Date.now()/1e3)+t}function Q0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},of=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function J0(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const lf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>hs(async()=>{const{default:n}=await Promise.resolve().then(()=>cn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Y0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ir=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},sr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class Qi{constructor(){this.promise=new Qi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qi.promiseConstructor=Promise;function To(t){const e=t.split(".");if(e.length!==3)throw new Bl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!R0.test(e[n]))throw new Bl("JWT not in base64url format");return{header:JSON.parse(xc(e[0])),payload:JSON.parse(xc(e[1])),signature:V0(e[2]),raw:{header:e[0],payload:e[1]}}}async function X0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Z0(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ey(t){return("0"+t.toString(16)).substr(-2)}function ty(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ey).join("")}async function ry(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ny(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ry(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(t,e,r=!1){const n=ty();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ir(t,`${e}-code-verifier`,s);const i=await ny(n);return[i,n===i?"plain":"s256"]}const sy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iy(t){const e=t.headers.get(Fl);if(!e||!e.match(sy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ly(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ay=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(t){if(!ay.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Oo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wc(t){return JSON.parse(JSON.stringify(t))}var uy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const lr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cy=[502,503,504];async function bc(t){var e;if(!Y0(t))throw new zl(lr(t),0);if(cy.includes(t.status))throw new zl(lr(t),t.status);let r;try{r=await t.json()}catch(i){throw new nf(lr(i),i)}let n;const s=iy(t);if(s&&s.getTime()>=rf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new gc(lr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new At}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gc(lr(r),t.status,r.weak_password.reasons);throw new L0(lr(r),t.status||500,n)}const dy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function W(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Fl]||(i[Fl]=rf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await hy(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function hy(t,e,r,n,s,i){const o=dy(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new zl(lr(u),0)}if(a.ok||await bc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await bc(u)}}function vt(t){var e;let r=null;gy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=K0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function _c(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fy(t){return{data:t,error:null}}function py(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=uy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function my(t){return t}function gy(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ao=["global","local","others"];var yy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class vy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=lf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Ao[0]){if(Ao.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ao.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yy(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:py,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const d={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:my});if(c.error)throw c.error;const h=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(v=>{const j=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);d[`${A}Page`]=j}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(z(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Cr(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cr(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Lt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Cr(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cr(e.userId);try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cr(e.userId),Cr(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}function kc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function xy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pr={debug:!!(globalThis&&of()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class af extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wy extends af{}async function by(t,e,r){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}xy();const _y={url:A0,storageKey:I0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(t,e,r){return await r()}const Tr={};class os{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},_y),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lf(s.fetch),this.lock=s.lock||jc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=by:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:of()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=kc(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Tr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Tr[this.storageKey]=Object.assign(Object.assign({},Tr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Tr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tr[this.storageKey]=Object.assign(Object.assign({},Tr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=J0(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),F0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?{error:r}:{error:new nf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:g}=e;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await Er(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:v},xform:vt})}else if("phone"in e){const{phone:c,password:h,options:g}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:vt})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else throw new zs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Fs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,u,d,c,h,g,x;let v,j;if("message"in e)v=e.message,j=e.signature;else{const{chain:A,wallet:y,statement:p,options:m}=e;let b;if(tt())if(typeof y=="object")b=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const P=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),p?{statement:p}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),j=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${P.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((d=m==null?void 0:m.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=N}}try{const{data:A,error:y}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:G0(j)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:vt});if(y)throw y;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new Fs}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:y})}catch(A){if(z(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vt});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vt}),{data:u,error:d}=a;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Fs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await Er(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:d,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new zs("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Er(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fy})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new At;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zs("You must provide either an email or phone number and a type")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Co:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await sr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Oo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,c)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(r){if(z(r))return U0(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new At;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await Er(this.storage,this.storageKey));const{data:d,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:Lt});if(c)throw c;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=To(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(z(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!tt())throw new Bs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Bs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mc("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:d}=e;if(!i||!a||!o||!d)throw new Bs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let g=c+h;u&&(g=parseInt(u));const x=g-c;x*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const v=g-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,c);const{data:j,error:A}=await this._getUser(i);if(A)throw A;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:d,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(M0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Q0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Er(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,d,c;const{data:h,error:g}=i;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",x,{headers:this.headers,jwt:(c=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return tt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Z0(async s=>(s>0&&await X0(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Po(i)&&Date.now()+o-n<Ar})}catch(n){if(this._debug(r,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),tt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Oo()}else if(s&&!s.user&&!s.user){const o=await sr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Oo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Co;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Co}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Po(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),z(i)){const o={session:null,error:i};return Po(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=wc(s);await Ir(this.storage,this.storageKey,i)}else{const s=wc(r);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ar}ms, refresh threshold is ${Ul} ticks`),s<=Ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof af)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Er(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=To(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+D0>s)return n;const{data:i,error:o}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};n=x.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=To(n);r!=null&&r.allowExpired||oy(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:s,signature:o},error:null}}const c=ly(s.alg),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,q0(`${a}.${u}`)))throw new Bl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}os.nextInstanceID=0;const ky=os;class jy extends ky{constructor(e){super(e)}}var Sy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{d(n.next(c))}catch(h){o(h)}}function u(c){try{d(n.throw(c))}catch(h){o(h)}}function d(c){c.done?i(c.value):s(c.value).then(a,u)}d((n=n.apply(t,e||[])).next())})};class Ny{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=T0(e),u=new URL(a);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,c={db:_0,realtime:j0,auth:Object.assign(Object.assign({},k0),{storageKey:d}),global:b0},h=O0(n??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=C0(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Bg(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new v0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new vg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Sy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:u},d,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jy({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:u,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new i0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uf=(t,e,r)=>new Ny(t,e,r);function Ey(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ey()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cf="https://hdqbnhtimuynuypwouwf.supabase.co",Cy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWJuaHRpbXV5bnV5cHdvdXdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzOTExMTIsImV4cCI6MjA3MDk2NzExMn0.JU4TzFtiUmVDAJ0QNu7lcu5RcXEJw6jhNUB86L1YTSQ",Py="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkcWJuaHRpbXV5bnV5cHdvdXdmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTM5MTExMiwiZXhwIjoyMDcwOTY3MTEyfQ.-FMqyNZagI4H6srNWFK5VabSSl4FW0bidDrvl2v9CfQ",Q=uf(cf,Cy),Io=uf(cf,Py),Ty=Gl.memo(({showToast:t,toastMessage:e,type:r="success"})=>{const n={success:"bg-green-600",error:"bg-red-600",warning:"bg-amber-600",info:"bg-blue-600"}[r],s={success:l.jsx(pr,{className:"w-5 h-5"}),error:l.jsx(El,{className:"w-5 h-5"}),warning:l.jsx(El,{className:"w-5 h-5"}),info:l.jsx(Lh,{className:"w-5 h-5"})}[r];return t?l.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300",children:l.jsxs("div",{className:`${n} text-white px-6 py-4 rounded-2xl shadow-xl border border-white/20 flex items-center space-x-3`,children:[s,l.jsx("span",{className:"font-semibold",children:e})]})}):null}),Oy=Gl.memo(({order:t,onAccept:e,onDecline:r,onViewDetails:n,onUpdateStatus:s,isActive:i=!1})=>{const o={normal:"border-gray-200 bg-white",high:"border-amber-300 bg-amber-50",urgent:"border-red-300 bg-red-50"},a={normal:"",high:" High Priority",urgent:" URGENT"};return l.jsxs("div",{className:`rounded-3xl p-6 shadow-lg border-2 transition-all duration-300 ${i?"border-blue-400 bg-blue-50 shadow-xl":o[t.priority]} hover:shadow-xl`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-lg",children:t.customerName[0]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-gray-900",children:t.customerName}),l.jsx("p",{className:"text-gray-600 text-sm",children:t.id})]})]}),t.priority!=="normal"&&l.jsx("div",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold mb-3 ${t.priority==="high"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:a[t.priority]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-black text-green-600",children:["$",t.totalDriverPay.toFixed(2)]}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-0.5",children:[l.jsxs("div",{children:["Base: $",t.basePay.toFixed(2)]}),l.jsxs("div",{children:["Mileage: $",t.mileagePayment.toFixed(2)," (",t.distance,"mi)"]}),t.tip&&l.jsxs("div",{children:["Tip: $",t.tip.toFixed(2)]})]})]})]}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Pl,{className:"w-5 h-5 text-gray-400 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-900",children:t.address}),l.jsxs("p",{className:"text-sm text-gray-600",children:[t.zone,"  ",t.distance,"mi  ~",t.estimatedTime,"min"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ol,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsxs("p",{className:"text-sm text-gray-700",children:[t.items.length," items: ",t.items.slice(0,2).join(", "),t.items.length>2?"...":""]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Cl,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-gray-700",children:t.paymentMethod})]})]}),t.specialInstructions&&l.jsx("div",{className:"bg-blue-50 rounded-xl p-3 mb-4",children:l.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[" ",t.specialInstructions]})}),l.jsxs("div",{className:"mt-6 space-y-3",children:[t.status==="assigned"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-center mb-3",children:l.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"New order assigned! Ready to accept?"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>r(t),className:"bg-gray-100 text-gray-700 py-4 rounded-2xl font-bold text-lg hover:bg-gray-200 transition-all shadow-lg flex items-center justify-center space-x-2",children:[l.jsx(Mh,{className:"w-6 h-6"}),l.jsx("span",{children:"Decline"})]}),l.jsxs("button",{type:"button",onClick:()=>e(t),className:"bg-gradient-to-r from-emerald-600 to-green-600 text-white py-4 rounded-2xl font-bold text-lg hover:from-emerald-700 hover:to-green-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[l.jsx(pr,{className:"w-6 h-6"}),l.jsx("span",{children:"Accept Order"})]})]})]}),t.status==="accepted"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-center mb-3",children:l.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Order accepted! Ready to pick up from store?"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>n(t),className:"bg-blue-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[l.jsx(Or,{className:"w-6 h-6"}),l.jsx("span",{children:"View Details"})]}),l.jsxs("button",{type:"button",onClick:()=>s(t,"picked_up"),className:"bg-gradient-to-r from-orange-600 to-red-600 text-white py-4 rounded-2xl font-bold text-lg hover:from-orange-700 hover:to-red-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[l.jsx(Ol,{className:"w-6 h-6"}),l.jsx("span",{children:"Pick Up Order"})]})]})]}),t.status==="picked_up"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-center mb-3",children:l.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Order picked up! Ready to start delivery?"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>n(t),className:"bg-blue-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[l.jsx(Or,{className:"w-6 h-6"}),l.jsx("span",{children:"View Details"})]}),l.jsxs("button",{type:"button",onClick:()=>s(t,"in_transit"),className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-4 rounded-2xl font-bold text-lg hover:from-purple-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[l.jsx(Tl,{className:"w-6 h-6"}),l.jsx("span",{children:"Start Delivery"})]})]})]}),t.status==="in_transit"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-center mb-3",children:l.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"En route to customer! Ready to complete delivery?"})}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:()=>n(t),className:"bg-blue-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[l.jsx(Or,{className:"w-6 h-6"}),l.jsx("span",{children:"View Details"})]}),l.jsxs("button",{type:"button",onClick:()=>s(t,"delivered"),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-2xl font-bold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[l.jsx(pr,{className:"w-6 h-6"}),l.jsx("span",{children:"Complete Delivery"})]})]})]}),t.status==="delivered"&&l.jsxs("div",{className:"text-center py-4",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx(pr,{className:"w-8 h-8 text-green-600"})}),l.jsx("h4",{className:"font-bold text-green-800 text-lg",children:"Delivery Completed!"}),l.jsx("p",{className:"text-green-600 text-sm",children:"Order has been successfully delivered"}),l.jsxs("button",{type:"button",onClick:()=>n(t),className:"mt-3 bg-blue-600 text-white py-3 px-6 rounded-2xl font-bold hover:bg-blue-700 transition-all shadow-lg flex items-center justify-center space-x-2 mx-auto",children:[l.jsx(Or,{className:"w-5 h-5"}),l.jsx("span",{children:"View Details"})]})]}),!["assigned","accepted","picked_up","in_transit","delivered"].includes(t.status)&&l.jsxs("button",{type:"button",onClick:()=>n(t),className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg flex items-center justify-center space-x-2",children:[l.jsx(Or,{className:"w-6 h-6"}),l.jsx("span",{children:"View Details"})]})]})]})}),Ay=()=>{const[t,e]=L.useState("auth"),[r,n]=L.useState("login"),[s,i]=L.useState(!1),[o,a]=L.useState(!1),[u,d]=L.useState({email:"",password:"",confirmPassword:"",name:"",phone:"",licenseNumber:""}),[c,h]=L.useState({id:"",name:"",phone:"",email:"",rating:5,totalDeliveries:0,vehicle:{make:"",model:"",year:0,color:"",licensePlate:""},isOnline:!1,isAvailable:!1,currentLocation:null,earnings:{today:0,week:0,month:0,todayMileage:0,todayBase:0,todayTips:0,totalMilesDriven:0,pending:0},schedule:{isScheduled:!1},payoutSettings:{method:"three_day",primaryAccount:"",instantFee:.5}}),[g,x]=L.useState([]),[v,j]=L.useState(null),[A,y]=L.useState([]);console.log("Completed orders count:",A.length);const[p,m]=L.useState({lat:30.2672,lng:-97.7431}),[b,P]=L.useState(!1),[N,C]=L.useState(null),[D,ie]=L.useState(null),B=100;console.log("Location update interval:",5e3);const[er,tr]=L.useState(""),[ms,gs]=L.useState(!1),[hn,fn]=L.useState("success"),[O,M]=L.useState({editProfile:!1,editVehicle:!1,withdrawEarnings:!1,manageSchedule:!1,payoutSettings:!1,changeBankAccount:!1,settings:!1}),[F,oe]=L.useState({pushNotifications:!0,locationServices:!0,autoAcceptOrders:!1,nightMode:!1}),ee=f=>{M(k=>({...k,[f]:!0}))},le=f=>{M(k=>({...k,[f]:!1}))},gt=()=>{M({editProfile:!1,editVehicle:!1,withdrawEarnings:!1,manageSchedule:!1,payoutSettings:!1,changeBankAccount:!1,settings:!1})},pn=L.useCallback(f=>{oe(k=>{const w={...k,[f]:!k[f]};return f==="locationServices"&&(w.locationServices?(console.log(" Location services enabled - starting GPS tracking"),yt()):(console.log(" Location services disabled - stopping GPS tracking"),ys())),f==="autoAcceptOrders"&&(w.autoAcceptOrders?(console.log(" Auto-accept orders enabled"),$("Auto-accept orders enabled","success")):(console.log(" Auto-accept orders disabled"),$("Auto-accept orders disabled","info"))),f==="pushNotifications"&&(w.pushNotifications?(console.log(" Push notifications enabled"),$("Push notifications enabled","success")):(console.log(" Push notifications disabled"),$("Push notifications disabled","info"))),f==="nightMode"&&(w.nightMode?(console.log(" Night mode enabled"),$("Night mode enabled","success")):(console.log(" Night mode disabled"),$("Night mode disabled","info"))),w})},[]);L.useEffect(()=>{(async()=>{try{const{data:{user:k},error:w}=await Q.auth.getUser();if(w){console.error("Auth state check error:",w);return}if(k){console.log(" User already authenticated:",k.email);const{data:_,error:S}=await Q.from("drivers").select("*").eq("user_id",k.id).single();if(S){console.error("Failed to load driver profile:",S);return}console.log(" Driver profile loaded:",_),h(T=>({...T,id:_.id,name:_.name||"",email:_.email||"",phone:_.phone||"",isOnline:_.is_online||!1,isAvailable:_.is_available||!1,rating:_.rating||5,totalDeliveries:_.total_deliveries||0,vehicle:{make:_.vehicle_make||"",model:_.vehicle_model||"",year:_.vehicle_year||0,color:_.vehicle_color||"",licensePlate:_.license_plate||""}})),i(!0),e("home")}}catch(k){console.error("Auth state check error:",k)}})()},[]),L.useEffect(()=>{const f=k=>{k.key==="Escape"&&Object.values(O).some(_=>_)&&gt()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[O]);const ut=L.useCallback((f,k,w,_)=>{const T=(w-f)*Math.PI/180,U=(_-k)*Math.PI/180,K=Math.sin(T/2)*Math.sin(T/2)+Math.cos(f*Math.PI/180)*Math.cos(w*Math.PI/180)*Math.sin(U/2)*Math.sin(U/2);return 6371e3*(2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K)))},[]),rr=L.useCallback((f,k,w,_)=>{const T=(w-f)*Math.PI/180,U=(_-k)*Math.PI/180,K=Math.sin(T/2)*Math.sin(T/2)+Math.cos(f*Math.PI/180)*Math.cos(w*Math.PI/180)*Math.sin(U/2)*Math.sin(U/2),te=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return Math.round(3959*te*100)/100},[]),kr=L.useCallback(async(f,k,w,_,S)=>{try{const{data:{user:T}}=await Q.auth.getUser();if(!(T!=null&&T.id)){console.error(" No authenticated user found for location update");return}const{data:U,error:K}=await Q.from("drivers").select("id").eq("user_id",T.id).single();if(K||!U){console.error(" Failed to get driver ID:",K);return}console.log(" Attempting to insert GPS data:",{driver_id:U.id,lat:f.lat,lng:f.lng,accuracy:k||null});const{error:te}=await Io.from("driver_locations").upsert({driver_id:U.id,latitude:f.lat,longitude:f.lng,accuracy:k||null,heading:w||null,speed:_||null,altitude:S||null},{onConflict:"driver_id"});if(te){console.error(" GPS insert failed:",te);const{error:Y}=await Io.rpc("insert_driver_location",{p_driver_id:U.id,p_latitude:f.lat,p_longitude:f.lng,p_accuracy:k||null,p_heading:w||null,p_speed:_||null,p_altitude:S||null});if(Y){console.error(" RPC location insert failed:",Y);return}}else console.log(" GPS data inserted successfully");if(m(f),h(Y=>({...Y,currentLocation:f})),c.isOnline&&c.isAvailable&&(console.log(" GPS location updated, refreshing orders with new pay calculation..."),setTimeout(()=>{mn()},1e3)),v&&v.status==="in_transit"){const Y=ut(f.lat,f.lng,v.lat,v.lng);C(Y);const Me=Y<=B;P(Me),console.log(" Location updated, distance to customer:",Y,"m"),Me&&N&&N>B?$(" You're within delivery range! You can now mark as delivered.","success"):!Me&&N&&N<=B&&$(" You've moved outside the delivery zone.","warning")}}catch(T){console.error(" GPS tracking error:",T)}},[v,ut,N]),yt=L.useCallback(()=>{if(!navigator.geolocation){console.error(" GPS not supported - live tracking unavailable"),$("GPS not supported on this device","error");return}console.log(" Starting production live GPS tracking system..."),navigator.permissions&&navigator.permissions.query({name:"geolocation"}).then(w=>{if(console.log(" GPS permission status:",w.state),w.state==="denied"){console.error(" GPS permission denied - please enable location access"),$("GPS permission denied. Please enable location access in browser settings.","error");return}w.state==="prompt"&&console.log(" GPS permission prompt needed"),w.onchange=()=>{console.log(" GPS permission changed to:",w.state),w.state==="granted"&&(console.log(" GPS permission granted - starting tracking"),k())}}).catch(w=>{console.error(" GPS permission check failed:",w)}),(async()=>{try{const{data:{user:w}}=await Q.auth.getUser();if(w!=null&&w.id){console.log(" Database connection test - user authenticated:",w.id);const{data:_,error:S}=await Q.from("drivers").select("id, name").eq("user_id",w.id).single();S?console.error(" Database connection test failed:",S):console.log(" Database connection test successful - driver found:",_.name)}}catch(w){console.error(" Database connection test error:",w)}})(),console.log(" Requesting initial GPS permission..."),navigator.geolocation.getCurrentPosition(w=>{console.log(" Initial GPS permission granted"),console.log(" Initial location:",{lat:w.coords.latitude,lng:w.coords.longitude,accuracy:w.coords.accuracy});const _=w.coords.latitude,S=w.coords.longitude;console.log(" GPS coordinates detected:",{lat:_,lng:S}),console.log(" Starting continuous tracking..."),k(),console.log(" Continuous tracking started")},w=>{console.error(" GPS permission denied:",w.message),$("GPS permission required for live tracking","error")},{enableHighAccuracy:!0,timeout:25e3,maximumAge:3e4});const k=()=>{window.gpsTrackingId&&navigator.geolocation.clearWatch(window.gpsTrackingId),window.gpsTrackingId=navigator.geolocation.watchPosition(async w=>{const _={lat:w.coords.latitude,lng:w.coords.longitude};console.log(" LIVE GPS COORDINATES RECEIVED:",_),console.log(" Raw GPS data:",{latitude:w.coords.latitude,longitude:w.coords.longitude,accuracy:w.coords.accuracy,timestamp:new Date(w.timestamp).toISOString()}),await kr(_,w.coords.accuracy||void 0,w.coords.heading||void 0,w.coords.speed||void 0,w.coords.altitude||void 0),console.log(" GPS update sent to admin:",_)},w=>{console.error(" Live GPS tracking error:",w.code,w.message),console.error(" Error details:",{code:w.code,message:w.message,PERMISSION_DENIED:w.PERMISSION_DENIED,POSITION_UNAVAILABLE:w.POSITION_UNAVAILABLE,TIMEOUT:w.TIMEOUT}),navigator.geolocation.getCurrentPosition(async _=>{const S={lat:_.coords.latitude,lng:_.coords.longitude};console.log(" Fallback GPS location:",S),await kr(S)},_=>{console.error(" All GPS methods failed:",_),$("GPS location unavailable - check device settings","error")},{enableHighAccuracy:!1,timeout:5e3,maximumAge:6e4})},{enableHighAccuracy:!0,timeout:15e3,maximumAge:5e3})};console.log(" Production live GPS tracking system active - admin/customer tracking enabled")},[kr]),ys=L.useCallback(()=>{window.gpsTrackingId&&(navigator.geolocation.clearWatch(window.gpsTrackingId),window.gpsTrackingId=void 0,console.log(" Live GPS tracking stopped")),window.locationSweepInterval&&(clearInterval(window.locationSweepInterval),window.locationSweepInterval=void 0,console.log(" Periodic location sweep stopped"))},[]),df=L.useCallback(()=>{console.log(" Starting periodic location sweep for admin/customer tracking..."),window.locationSweepInterval&&clearInterval(window.locationSweepInterval),window.locationSweepInterval=setInterval(async()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async f=>{const k={lat:f.coords.latitude,lng:f.coords.longitude};await kr(k,f.coords.accuracy||void 0)},f=>{console.log(" Periodic sweep GPS error:",f.message)},{enableHighAccuracy:!0,timeout:2e4,maximumAge:3e4})},2e3),console.log(" Periodic location sweep active - admin/customer tracking guaranteed")},[kr]),vs=L.useCallback(()=>{D!==null&&(navigator.geolocation.clearWatch(D),ie(null),console.log(" Location tracking stopped"))},[D]),$=L.useCallback((f,k="success")=>{tr(f),fn(k),gs(!0),setTimeout(()=>gs(!1),3e3)},[]);L.useEffect(()=>{if(s&&c.isOnline)return console.log(" Driver online, real-time updates active for:",c.name),()=>{console.log(" Driver offline, cleaning up real-time subscriptions")}},[s,c.isOnline,c.id,c.name]),L.useEffect(()=>{if(!s)return;console.log(" Setting up driver real-time subscriptions...");const f=Q.channel("all-orders-for-driver").on("postgres_changes",{event:"*",schema:"public",table:"orders"},w=>{var _,S;if(console.log(" Order change detected:",w),console.log(" Current driver ID:",c.id),console.log(" Order driver_id:",((_=w.new)==null?void 0:_.driver_id)||((S=w.old)==null?void 0:S.driver_id)),w.eventType==="INSERT"&&w.new){const T=w.new;if(console.log(" Checking if order is for this driver:",T.driver_id,"===",c.id),T.driver_id===c.id){console.log(" New order assigned to driver:",T.id),$(`New order assigned: ${T.order_id||T.id}`,"success");const U={id:T.id,customerName:T.customer_name||"Unknown Customer",customerPhone:T.customer_phone||"",address:T.address||"",items:T.items||[],total:T.total||0,distance:2.5,estimatedTime:15,paymentMethod:"Credit Card",priority:"normal",status:T.status,timestamp:T.created_at,lat:T.delivery_lat||0,lng:T.delivery_lng||0,zone:"Downtown",tip:0,basePay:T.driver_base_pay||2,mileagePayment:T.driver_mileage_pay||(T.distance||5)*.7,totalDriverPay:T.driver_total_pay||2+(T.distance||5)*.7+(T.tip||0)};x(K=>[U,...K])}}else if(w.eventType==="UPDATE"&&w.new){const T=w.new;T.driver_id===c.id&&(j(U=>U&&U.id===T.id?{...U,status:T.status}:U),x(U=>U.map(K=>K.id===T.id?{...K,status:T.status}:K)),$(`Order status updated: ${T.status}`,"info"))}else if(w.eventType==="DELETE"&&w.old){const T=w.old;T.driver_id===c.id&&(console.log(" Order removed from driver:",T.id),x(U=>U.filter(K=>K.id!==T.id)))}}).subscribe(w=>{console.log(" Driver orders subscription status:",w)}),k=Q.channel("driver-profile").on("postgres_changes",{event:"*",schema:"public",table:"drivers"},w=>{if(console.log(" Driver profile change detected:",w),w.eventType==="UPDATE"&&w.new){const _=w.new;_.user_id===c.id&&h(S=>({...S,isOnline:_.is_online||!1,isAvailable:_.is_available||!1,rating:_.rating||5,totalDeliveries:_.total_deliveries||0}))}}).subscribe();return()=>{console.log(" Cleaning up driver real-time subscriptions..."),Q.removeChannel(f),Q.removeChannel(k)}},[s,c.id,$]),L.useEffect(()=>{if(!s||!c.isOnline)return;const f=setInterval(()=>{console.log(" Periodic refresh of available orders..."),mn()},5e3);return()=>clearInterval(f)},[s,c.isOnline]);const mn=L.useCallback(async()=>{if(!s){console.log(" Not authenticated, skipping order fetch");return}try{console.log(" Fetching available orders...");const{data:{user:f},error:k}=await Q.auth.getUser();if(k||!(f!=null&&f.id)){console.error(" Failed to get authenticated user:",k);return}console.log(" Authenticated user:",f.id);const{data:w,error:_}=await Q.from("drivers").select("id, name, is_online, is_available").eq("user_id",f.id).single();if(_||!w){console.error(" Failed to get driver record:",_);return}console.log(" Driver record found:",w);let S=p;console.log(" Starting order fetch with driverLocation:",p),console.log(" Getting fresh GPS location for pay calculation...");try{const R=await new Promise((G,Ze)=>{navigator.geolocation.getCurrentPosition(G,gn=>{console.log(" High accuracy GPS failed, trying low accuracy..."),navigator.geolocation.getCurrentPosition(G,Ze,{enableHighAccuracy:!1,timeout:15e3,maximumAge:3e4})},{enableHighAccuracy:!0,timeout:2e4,maximumAge:5e3})});S={lat:R.coords.latitude,lng:R.coords.longitude},console.log(" Fresh GPS location obtained:",S),m(S),h(G=>({...G,currentLocation:S}));try{const{error:G}=await Io.from("driver_locations").upsert({driver_id:w.id,latitude:S.lat,longitude:S.lng,updated_at:new Date().toISOString()},{onConflict:"driver_id"});G?console.error(" Failed to update driver location in database:",G):console.log(" Driver location updated in database")}catch(G){console.error(" Database update error:",G)}}catch(R){console.error(" Failed to get fresh GPS location:",R),S&&S.lat!==0&&S.lng!==0?console.log(" Using existing GPS location:",S):(console.error(" No GPS location available for pay calculation!"),S={lat:30.2672,lng:-97.7431},console.log(" Using default Austin location as fallback"))}S&&S.lat!==0&&S.lng!==0?console.log(" Using real GPS coordinates for pay calculation:",S):console.error(" No valid GPS coordinates available for pay calculation!");const{data:T,error:U}=await Q.from("orders").select("*").eq("driver_id",w.id).in("status",["pending","confirmed","preparing","ready","assigned","accepted"]).order("created_at",{ascending:!1});U?console.error(" Failed to fetch assigned orders:",U):console.log(" Assigned orders loaded:",(T==null?void 0:T.length)||0);const{data:K,error:te}=await Q.from("orders").select("*").is("driver_id",null).eq("status","pending").order("created_at",{ascending:!1});if(te?console.error(" Failed to fetch available orders:",te):console.log(" Available orders loaded:",(K==null?void 0:K.length)||0),U&&te){console.error(" Both order fetches failed");return}const Y=[...T||[],...K||[]];console.log(" Total orders loaded:",(Y==null?void 0:Y.length)||0),Y&&Y.length>0&&console.log(" Sample order:",Y[0]);const Me=await Promise.all((Y||[]).map(async R=>{let G=R.distance||2.5,Ze=R.driver_mileage_pay||G*.7,gn=R.driver_total_pay||2+Ze+(R.tip||0);if(R.delivery_lat&&R.delivery_lng&&S&&S.lat!==0&&S.lng!==0){G=rr(S.lat,S.lng,R.delivery_lat,R.delivery_lng),Ze=G*.7,gn=2+Ze+(R.tip||0),console.log(` Real distance calculated for order ${R.id}: ${G} miles`),console.log(` From driver location (${S.lat}, ${S.lng}) to delivery (${R.delivery_lat}, ${R.delivery_lng})`),console.log(` Real pay calculated: Base=$2.00 + Mileage=$${Ze.toFixed(2)} + Tip=$${R.tip||0} = $${gn.toFixed(2)}`);try{const{error:xs}=await Q.from("orders").update({distance:G,driver_mileage_pay:Ze,driver_total_pay:gn,updated_at:new Date().toISOString()}).eq("id",R.id);xs?console.error(" Failed to update order pay in database:",xs):console.log(" Order pay updated in database with real calculation")}catch(xs){console.error(" Error updating order pay:",xs)}}else console.log(` Using default distance for order ${R.id}: ${G} miles (no GPS or delivery coordinates)`);return{id:R.id,customerName:R.customer_name||"Unknown Customer",customerPhone:R.customer_phone||"",address:R.address||"",items:R.items||[],total:R.total||0,distance:G,estimatedTime:15,paymentMethod:"Credit Card",priority:"normal",status:R.status,timestamp:R.created_at,lat:R.delivery_lat||0,lng:R.delivery_lng||0,zone:"Downtown",tip:R.tip||0,basePay:R.driver_base_pay||2,mileagePayment:Ze,totalDriverPay:gn}}));console.log(" Transformed orders:",Me.length),x(Me)}catch(f){console.error(" Error fetching available orders:",f)}},[s,p,rr]);L.useEffect(()=>()=>{ys(),vs()},[ys,vs]);const Wa=L.useCallback(async()=>{try{console.log(" Toggling online status for driver:",c.id);const f=!c.isOnline,k=f;console.log(" Attempting to update driver status in database..."),console.log(" Driver ID:",c.id),console.log(" Driver user_id:",c.id),console.log(" New online status:",f),console.log(" New available status:",k);const{data:{user:w}}=await Q.auth.getUser();if(console.log(" Current user ID:",w==null?void 0:w.id),!(w!=null&&w.id)){console.error(" No authenticated user found"),$("Authentication error. Please sign in again.","error");return}const{data:_,error:S}=await Q.from("drivers").update({is_online:f,is_available:k,updated_at:new Date().toISOString()}).eq("user_id",w.id).select().single();if(S){console.error(" Failed to update driver status:",S),console.error(" Error code:",S.code),console.error(" Error message:",S.message),console.error(" Error details:",S.details),console.error(" Error hint:",S.hint),$(`Failed to update status: ${S.message}`,"error");return}console.log(" Driver status updated in database:",_),h(T=>{const U={...T,isOnline:f,isAvailable:k};return console.log(" Updated local driver state:",U),U}),$(f?"You are now online and ready for deliveries!":"You are now offline",f?"success":"warning"),f?(console.log(" Driver went online, starting live GPS tracking for admin/customer..."),console.log(" Starting GPS tracking..."),yt(),console.log(" GPS tracking started"),df(),mn(),setTimeout(()=>{mn()},2e3)):(console.log(" Driver going offline, stopping all GPS tracking..."),ys())}catch(f){console.error("Error toggling online status:",f),$("Failed to update status. Please try again.","error")}},[c.id,c.isOnline,$]),Ji=L.useCallback(async f=>{try{console.log(" Accepting order:",f.id);const{data:{user:k},error:w}=await Q.auth.getUser();if(w||!(k!=null&&k.id)){console.error(" Failed to get authenticated user:",w),$("Authentication error. Please sign in again.","error");return}const{data:_,error:S}=await Q.from("drivers").select("id, name").eq("user_id",k.id).single();if(S||!_){console.error(" Failed to get driver record:",S),$("Driver profile error. Please contact support.","error");return}console.log(" Driver record found for order assignment:",_);const{error:T}=await Q.from("orders").update({driver_id:_.id,status:"accepted",updated_at:new Date().toISOString()}).eq("id",f.id);if(T){console.error(" Failed to update order in database:",T),$("Failed to accept order. Please try again.","error");return}console.log(" Order successfully updated in database");const U={...f,status:"accepted",acceptedAt:new Date};j(U),x(K=>K.filter(te=>te.id!==f.id)),yt(),$(`Order ${f.id} accepted!`,"success"),setTimeout(()=>e("active-delivery"),500)}catch(k){console.error(" Error accepting order:",k),$("Failed to accept order. Please try again.","error")}},[c.id,c.name,c.phone,c.vehicle,$,yt]);L.useEffect(()=>{if(F.autoAcceptOrders&&g.length>0&&c.isOnline&&c.isAvailable){console.log(" Auto-accepting order due to auto-accept setting");const f=g[0];Ji(f)}},[F.autoAcceptOrders,g,c.isOnline,c.isAvailable,Ji]),L.useEffect(()=>{s&&(console.log(" Driver authenticated, starting GPS tracking immediately..."),yt())},[s,yt]);const hf=L.useCallback(f=>{x(k=>k.filter(w=>w.id!==f.id)),$(`Order ${f.id} declined`,"info")},[$]),ff=L.useCallback(async(f,k)=>{try{console.log(" Updating order status:",f.id,"to",k);const{data:{user:w},error:_}=await Q.auth.getUser();if(_||!(w!=null&&w.id)){console.error(" Failed to get authenticated user:",_),$("Authentication error. Please sign in again.","error");return}const{data:S,error:T}=await Q.from("drivers").select("id, name").eq("user_id",w.id).single();if(T||!S){console.error(" Failed to get driver record:",T),$("Driver profile error. Please contact support.","error");return}const{error:U}=await Q.from("orders").update({status:k,driver_id:k==="accepted"?S.id:f.driver_id,updated_at:new Date().toISOString()}).eq("id",f.id);if(U){console.error(" Failed to update order status in database:",U),$("Failed to update order status. Please try again.","error");return}if(console.log(" Order status updated in database:",k),x(te=>te.map(Y=>Y.id===f.id?{...Y,status:k,lastUpdate:new Date}:Y)),k==="accepted"){const te={...f,status:"accepted",acceptedAt:new Date};j(te),x(Y=>Y.filter(Me=>Me.id!==f.id)),yt(),setTimeout(()=>e("active-delivery"),500)}const K={assigned:"Order assigned to you",accepted:"Order accepted successfully",ready:"Order is ready for pickup",picked_up:"Order picked up! En route to customer.",in_transit:"Delivery in progress",delivered:"Order delivered successfully!",cancelled:"Order was cancelled"};console.log(" Order status updated in database, admin will receive real-time update"),$(K[k]||`Order status updated to ${k}`,"success")}catch(w){console.error(" Error updating order status:",w),$("Failed to update order status. Please try again.","error")}},[c.id,c.name,c.currentLocation,$,yt]),Yi=L.useCallback(async f=>{if(v){if(f==="delivered"&&!b&&v.status==="in_transit"){$(" You must be within 100 meters of the customer location to mark as delivered.","error");return}try{console.log(" Updating active order status:",v.id,"to",f);const{data:{user:k},error:w}=await Q.auth.getUser();if(w||!(k!=null&&k.id)){console.error(" Failed to get authenticated user:",w),$("Authentication error. Please sign in again.","error");return}const{data:_,error:S}=await Q.from("drivers").select("id, name").eq("user_id",k.id).single();if(S||!_){console.error(" Failed to get driver record:",S),$("Driver profile error. Please contact support.","error");return}const{error:T}=await Q.from("orders").update({status:f,driver_id:_.id,updated_at:new Date().toISOString()}).eq("id",v.id);if(T){console.error(" Failed to update order status in database:",T),$("Failed to update order status. Please try again.","error");return}console.log(" Order status updated in database:",f);const U={...v,status:f,lastUpdate:new Date};j(U);const K={assigned:"Order assigned to you",accepted:"Order accepted successfully",ready:"Order is ready for pickup",picked_up:"Order picked up! En route to customer.",in_transit:"Delivery in progress",delivered:"Order delivered successfully!",cancelled:"Order was cancelled"};if(console.log(" Order status updated in database, admin will receive real-time update"),f==="delivered"){y(G=>[U,...G]),j(null),vs(),P(!1),C(null);const te=U.totalDriverPay,Y=U.mileagePayment,Me=U.basePay,R=U.tip||0;h(G=>({...G,earnings:{...G.earnings,today:G.earnings.today+te,todayMileage:G.earnings.todayMileage+Y,todayBase:G.earnings.todayBase+Me,todayTips:G.earnings.todayTips+R,totalMilesDriven:G.earnings.totalMilesDriven+U.distance,pending:G.earnings.pending+te}})),e("home")}$(K[f]||"Status updated","success")}catch(k){console.error("Error updating order status:",k),$("Failed to update order status. Please try again.","error")}}},[v,c.id,c.name,c.currentLocation,$,b,vs]),pf=L.useCallback(async()=>{var f;try{if(r==="login")if(u.email&&u.password){console.log(" Driver login attempt:",u.email);const{data:k,error:w}=await Q.auth.signInWithPassword({email:u.email,password:u.password});if(w){console.error("Driver login error:",w),$("Login failed. Please check your credentials.","error");return}console.log(" Driver login successful:",k);const{data:_,error:S}=await Q.from("drivers").select("*").eq("user_id",k.user.id).single();if(S){console.error("Failed to load driver profile:",S),$("Failed to load driver profile.","error");return}console.log(" Driver profile loaded:",_),h(T=>({...T,id:_.id,name:_.name||"",email:_.email||"",phone:_.phone||"",isOnline:_.is_online||!1,isAvailable:_.is_available||!1,rating:_.rating||5,totalDeliveries:_.total_deliveries||0,vehicle:{make:_.vehicle_make||"",model:_.vehicle_model||"",year:_.vehicle_year||0,color:_.vehicle_color||"",licensePlate:_.license_plate||""}})),i(!0),e("home"),$("Welcome back!","success"),mn()}else $("Please enter email and password","error");else if(r==="signup")if(u.name&&u.email&&u.password&&u.licenseNumber){console.log(" Driver signup attempt:",u.email);const{data:k,error:w}=await Q.auth.signUp({email:u.email,password:u.password,options:{data:{name:u.name,role:"driver"}}});if(w){console.error("Driver signup error:",w),$("Signup failed. Please try again.","error");return}console.log(" Driver signup successful:",k);const{data:_,error:S}=await Q.from("drivers").insert([{user_id:(f=k.user)==null?void 0:f.id,name:u.name,email:u.email,phone:u.phone,license_number:u.licenseNumber,vehicle_make:"",vehicle_model:"",vehicle_year:null,vehicle_color:"",license_plate:"",is_online:!1,is_available:!1,is_approved:!1}]).select().single();if(S){console.error("Failed to create driver profile:",S),$("Account created but profile setup failed. Contact support.","error");return}console.log(" Driver profile created:",_),h(T=>({...T,id:_.id,name:_.name,email:_.email,phone:_.phone,isOnline:!1,isAvailable:!1})),i(!0),e("home"),$("Account created successfully! Please wait for admin approval.","success")}else $("Please fill in all required fields","error")}catch(k){console.error("Authentication error:",k),$("Authentication failed. Please try again.","error")}},[r,u,$]),mf=L.useCallback(async()=>{try{const{error:f}=await Q.auth.signOut();f&&console.error("Logout error:",f),i(!1),e("auth"),h(k=>({...k,isOnline:!1})),j(null),$("Logged out successfully","info")}catch(f){console.error("Logout error:",f),$("Logout failed. Please try again.","error")}},[$]),jr=({isOpen:f,onClose:k,title:w,children:_,size:S="md"})=>{if(!f)return null;const T={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:k}),l.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),l.jsxs("div",{className:`inline-block align-bottom bg-white rounded-2xl px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle ${T[S]} sm:w-full sm:p-6`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:w}),l.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Mh,{className:"w-6 h-6"})})]}),_]})]})})},gf=()=>{const[f,k]=L.useState({name:c.name,phone:c.phone,email:c.email}),w=()=>{h(_=>({..._,name:f.name,phone:f.phone,email:f.email})),le("editProfile"),$("Profile updated successfully!","success")};return l.jsx(jr,{isOpen:O.editProfile,onClose:()=>le("editProfile"),title:"Edit Profile Information",size:"md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{type:"text",value:f.name,onChange:_=>k({...f,name:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),l.jsx("input",{type:"tel",value:f.phone,onChange:_=>k({...f,phone:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(555) 123-4567"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),l.jsx("input",{type:"email",value:f.email,onChange:_=>k({...f,email:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your.email@example.com"})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>le("editProfile"),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})},yf=()=>{const[f,k]=L.useState({make:c.vehicle.make,model:c.vehicle.model,year:c.vehicle.year,color:c.vehicle.color,licensePlate:c.vehicle.licensePlate}),w=()=>{h(_=>({..._,vehicle:{...f}})),le("editVehicle"),$("Vehicle information updated!","success")};return l.jsx(jr,{isOpen:O.editVehicle,onClose:()=>le("editVehicle"),title:"Update Vehicle Information",size:"md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Make"}),l.jsx("input",{type:"text",value:f.make,onChange:_=>k({...f,make:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Toyota"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Model"}),l.jsx("input",{type:"text",value:f.model,onChange:_=>k({...f,model:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Prius"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),l.jsx("input",{type:"number",value:f.year,onChange:_=>k({...f,year:parseInt(_.target.value)}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"2022",min:"1990",max:"2025"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Color"}),l.jsx("input",{type:"text",value:f.color,onChange:_=>k({...f,color:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Blue"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"License Plate"}),l.jsx("input",{type:"text",value:f.licensePlate,onChange:_=>k({...f,licensePlate:_.target.value.toUpperCase()}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ABC123",maxLength:8})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>le("editVehicle"),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})})},vf=()=>{const[f,k]=L.useState({amount:c.earnings.pending.toString(),method:c.payoutSettings.method,bankAccount:c.payoutSettings.primaryAccount}),w=()=>{const S=parseFloat(f.amount)||0;return f.method==="instant"?Math.max(c.payoutSettings.instantFee,S*.01):0},_=()=>{const S=parseFloat(f.amount)||0,T=w(),U=S-T;h(te=>({...te,earnings:{...te.earnings,pending:te.earnings.pending-S},payoutSettings:{...te.payoutSettings,method:f.method}})),le("withdrawEarnings");const K=f.method==="instant"?"instantly":f.method==="daily"?"within 1 business day":"within 3 business days";$(`$${U.toFixed(2)} withdrawal initiated! Funds will arrive ${K}.`,"success")};return l.jsx(jr,{isOpen:O.withdrawEarnings,onClose:()=>le("withdrawEarnings"),title:"Withdraw Earnings",size:"md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[l.jsx("h4",{className:"text-lg font-bold text-green-800 mb-2",children:"Available Balance"}),l.jsxs("p",{className:"text-3xl font-black text-green-600",children:["$",c.earnings.pending.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Withdrawal Amount"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ls,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"number",step:"0.01",value:f.amount,onChange:S=>k({...f,amount:S.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",max:c.earnings.pending})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payout Method"}),l.jsx("div",{className:"space-y-3",children:[{value:"instant",label:"Instant Payout",desc:"Get funds immediately",fee:`$${c.payoutSettings.instantFee} fee`},{value:"daily",label:"Daily Payout",desc:"Next business day",fee:"No fee"},{value:"three_day",label:"Standard Payout",desc:"Within 3 business days",fee:"No fee"}].map(S=>l.jsxs("label",{className:`flex items-center p-4 border rounded-xl cursor-pointer transition-colors ${f.method===S.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("input",{type:"radio",name:"payoutMethod",value:S.value,checked:f.method===S.value,onChange:T=>k({...f,method:T.target.value}),className:"w-4 h-4 text-blue-600 mr-3"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-semibold text-gray-900",children:S.label}),l.jsx("span",{className:"text-sm text-gray-600",children:S.fee})]}),l.jsx("p",{className:"text-sm text-gray-600",children:S.desc})]})]},S.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bank Account"}),l.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Cl,{className:"w-5 h-5 text-gray-500"}),l.jsx("span",{className:"font-medium text-gray-900",children:f.bankAccount})]})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Withdrawal Amount:"}),l.jsxs("span",{className:"font-semibold",children:["$",parseFloat(f.amount||"0").toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Fee:"}),l.jsxs("span",{className:"font-semibold",children:["$",w().toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[l.jsx("span",{className:"font-bold text-gray-900",children:"Net Amount:"}),l.jsxs("span",{className:"font-bold text-green-600",children:["$",(parseFloat(f.amount||"0")-w()).toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>le("withdrawEarnings"),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:_,disabled:!f.amount||parseFloat(f.amount)<=0||parseFloat(f.amount)>c.earnings.pending,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Withdraw Funds"})]})]})})},xf=()=>{const[f,k]=L.useState({isScheduled:c.schedule.isScheduled,startTime:c.schedule.startTime||"09:00",endTime:c.schedule.endTime||"17:00",days:["Monday","Tuesday","Wednesday","Thursday","Friday"]}),w=()=>{h(_=>({..._,schedule:{isScheduled:f.isScheduled,startTime:f.startTime,endTime:f.endTime}})),le("manageSchedule"),$("Schedule updated successfully!","success")};return l.jsx(jr,{isOpen:O.manageSchedule,onClose:()=>le("manageSchedule"),title:"Manage Schedule",size:"md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-900",children:"Enable Scheduled Hours"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Set specific times when you're available"})]}),l.jsx("div",{onClick:()=>k({...f,isScheduled:!f.isScheduled}),className:`w-12 h-6 rounded-full relative transition-colors cursor-pointer ${f.isScheduled?"bg-blue-600":"bg-gray-300"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${f.isScheduled?"translate-x-7":"translate-x-1"}`})})]}),f.isScheduled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time"}),l.jsx("input",{type:"time",value:f.startTime,onChange:_=>k({...f,startTime:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Time"}),l.jsx("input",{type:"time",value:f.endTime,onChange:_=>k({...f,endTime:_.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Available Days"}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(_=>l.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-xl hover:border-gray-300 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.days.includes(_),onChange:S=>{S.target.checked?k({...f,days:[...f.days,_]}):k({...f,days:f.days.filter(T=>T!==_)})},className:"w-4 h-4 text-blue-600 rounded mr-3"}),l.jsx("span",{className:"font-medium text-gray-900",children:_})]},_))})]})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>le("manageSchedule"),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Save Schedule"})]})]})})},wf=()=>{const[f,k]=L.useState({defaultMethod:c.payoutSettings.method,primaryAccount:c.payoutSettings.primaryAccount,instantFeeEnabled:!0,autoWithdraw:!1,minimumThreshold:"50.00"}),w=()=>{h(_=>({..._,payoutSettings:{..._.payoutSettings,method:f.defaultMethod}})),le("payoutSettings"),$("Payout settings updated successfully!","success")};return l.jsx(jr,{isOpen:O.payoutSettings,onClose:()=>le("payoutSettings"),title:"Payout Settings",size:"md",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsx("h4",{className:"text-lg font-bold text-blue-800 mb-3",children:"Primary Bank Account"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Cl,{className:"w-6 h-6 text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-900",children:f.primaryAccount}),l.jsx("p",{className:"text-sm text-blue-700",children:"Primary payout destination"})]})]}),l.jsx("button",{onClick:()=>ee("changeBankAccount"),className:"mt-3 text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Change Bank Account"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Default Payout Method"}),l.jsx("div",{className:"space-y-3",children:[{value:"instant",title:"Instant Payout",desc:"Get funds immediately",fee:`$${c.payoutSettings.instantFee} fee per transaction`,icon:""},{value:"daily",title:"Daily Payout",desc:"Next business day",fee:"No fees",icon:""},{value:"three_day",title:"Standard Payout",desc:"Within 3 business days",fee:"No fees",icon:""}].map(_=>l.jsxs("label",{className:`flex items-center p-4 border rounded-xl cursor-pointer transition-colors ${f.defaultMethod===_.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("input",{type:"radio",name:"defaultMethod",value:_.value,checked:f.defaultMethod===_.value,onChange:S=>k({...f,defaultMethod:S.target.value}),className:"w-4 h-4 text-blue-600 mr-4"}),l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx("span",{className:"text-2xl",children:_.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-semibold text-gray-900",children:_.title}),l.jsx("span",{className:"text-sm text-gray-600",children:_.fee})]}),l.jsx("p",{className:"text-sm text-gray-600",children:_.desc})]})]})]},_.value))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Auto-Withdraw Settings"}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("label",{className:"font-medium text-gray-700",children:"Enable Auto-Withdraw"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Automatically withdraw when threshold is reached"})]}),l.jsx("div",{onClick:()=>k({...f,autoWithdraw:!f.autoWithdraw}),className:`w-12 h-6 rounded-full relative transition-colors cursor-pointer ${f.autoWithdraw?"bg-blue-600":"bg-gray-300"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${f.autoWithdraw?"translate-x-7":"translate-x-1"}`})})]}),f.autoWithdraw&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Minimum Threshold"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ls,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"number",step:"0.01",value:f.minimumThreshold,onChange:_=>k({...f,minimumThreshold:_.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"50.00"})]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Auto-withdraw when earnings reach $",f.minimumThreshold]})]})]}),l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[l.jsx("h4",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Tax Information"}),l.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"We'll send you a 1099 form at the end of the year for tax purposes."}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-yellow-800",children:"Year-to-date earnings:"}),l.jsx("span",{className:"font-semibold text-yellow-900",children:"$12,450.75"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-yellow-800",children:"Tax documents:"}),l.jsx("button",{className:"text-yellow-600 hover:text-yellow-700 font-medium",children:"Download 1099"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>le("payoutSettings"),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:w,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Save Settings"})]})]})})},bf=()=>{const[f,k]=L.useState({accountType:"checking",bankName:"",routingNumber:"",accountNumber:"",confirmAccountNumber:"",accountHolderName:c.name,bankAddress:"",swiftCode:""}),[w,_]=L.useState(1),[S,T]=L.useState({}),U=()=>{const R={};return f.bankName.trim()||(R.bankName="Bank name is required"),f.routingNumber.trim()?f.routingNumber.length!==9&&(R.routingNumber="Routing number must be 9 digits"):R.routingNumber="Routing number is required",f.accountNumber.trim()?f.accountNumber.length<4&&(R.accountNumber="Account number too short"):R.accountNumber="Account number is required",f.accountNumber!==f.confirmAccountNumber&&(R.confirmAccountNumber="Account numbers do not match"),f.accountHolderName.trim()||(R.accountHolderName="Account holder name is required"),T(R),Object.keys(R).length===0},K=()=>{U()&&_(2)},te=()=>{const R=`${f.accountNumber.slice(-4)}`,G=`${f.bankName} ${R}`;h(Ze=>({...Ze,payoutSettings:{...Ze.payoutSettings,primaryAccount:G}})),le("changeBankAccount"),le("payoutSettings"),$("Bank account updated successfully!","success")},Y=()=>{_(1),T({}),k({accountType:"checking",bankName:"",routingNumber:"",accountNumber:"",confirmAccountNumber:"",accountHolderName:c.name,bankAddress:"",swiftCode:""})},Me=()=>{Y(),le("changeBankAccount")};return l.jsx(jr,{isOpen:O.changeBankAccount,onClose:Me,title:`Change Bank Account - Step ${w} of 2`,size:"lg",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold ${w>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),l.jsx("div",{className:`flex-1 h-1 rounded ${w>=2?"bg-blue-600":"bg-gray-200"}`}),l.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold ${w>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"})]}),w===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(So,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-800",children:"Secure Bank Information"}),l.jsx("p",{className:"text-sm text-yellow-700",children:"Your banking information is encrypted and secure. We use bank-level security to protect your data."})]})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Account Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:["checking","savings"].map(R=>l.jsxs("label",{className:`flex items-center p-4 border rounded-xl cursor-pointer transition-colors ${f.accountType===R?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("input",{type:"radio",name:"accountType",value:R,checked:f.accountType===R,onChange:G=>k({...f,accountType:G.target.value}),className:"w-4 h-4 text-blue-600 mr-3"}),l.jsxs("span",{className:"font-medium text-gray-900 capitalize",children:[R," Account"]})]},R))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bank Name"}),l.jsx("input",{type:"text",value:f.bankName,onChange:R=>k({...f,bankName:R.target.value}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${S.bankName?"border-red-300":"border-gray-200"}`,placeholder:"e.g., Chase Bank, Wells Fargo, Bank of America"}),S.bankName&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.bankName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Routing Number"}),l.jsx("input",{type:"text",value:f.routingNumber,onChange:R=>k({...f,routingNumber:R.target.value.replace(/\D/g,"").slice(0,9)}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${S.routingNumber?"border-red-300":"border-gray-200"}`,placeholder:"9-digit routing number",maxLength:9}),S.routingNumber&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.routingNumber}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Found on the bottom left of your checks"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Account Number"}),l.jsx("input",{type:"text",value:f.accountNumber,onChange:R=>k({...f,accountNumber:R.target.value.replace(/\D/g,"")}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${S.accountNumber?"border-red-300":"border-gray-200"}`,placeholder:"Account number"}),S.accountNumber&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.accountNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Account Number"}),l.jsx("input",{type:"text",value:f.confirmAccountNumber,onChange:R=>k({...f,confirmAccountNumber:R.target.value.replace(/\D/g,"")}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${S.confirmAccountNumber?"border-red-300":"border-gray-200"}`,placeholder:"Re-enter account number"}),S.confirmAccountNumber&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.confirmAccountNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Account Holder Name"}),l.jsx("input",{type:"text",value:f.accountHolderName,onChange:R=>k({...f,accountHolderName:R.target.value}),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${S.accountHolderName?"border-red-300":"border-gray-200"}`,placeholder:"Full name as it appears on the account"}),S.accountHolderName&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:S.accountHolderName})]})]}),w===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(pr,{className:"w-5 h-5 text-green-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-green-800",children:"Review Your Information"}),l.jsx("p",{className:"text-sm text-green-700",children:"Please verify all details are correct before saving. This account will be used for all future payouts."})]})]})}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Account Summary"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Account Type:"}),l.jsxs("p",{className:"font-semibold capitalize",children:[f.accountType," Account"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Bank Name:"}),l.jsx("p",{className:"font-semibold",children:f.bankName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Routing Number:"}),l.jsx("p",{className:"font-semibold",children:f.routingNumber})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Account Number:"}),l.jsxs("p",{className:"font-semibold",children:["",f.accountNumber.slice(-4)]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Account Holder:"}),l.jsx("p",{className:"font-semibold",children:f.accountHolderName})]})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(So,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-800",children:"Important Notice"}),l.jsx("p",{className:"text-sm text-blue-700",children:"By adding this bank account, you authorize Faded Skies to deposit your earnings to this account. You can change your bank account information at any time in your payout settings."})]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[l.jsx("button",{onClick:Me,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsxs("div",{className:"flex space-x-3",children:[w===2&&l.jsx("button",{onClick:()=>_(1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"Back"}),w===1?l.jsx("button",{onClick:K,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Continue"}):l.jsx("button",{onClick:te,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors",children:"Save Bank Account"})]})]})]})})};return l.jsxs("div",{className:"max-w-md mx-auto bg-gray-50 min-h-screen",children:[l.jsx(Ty,{showToast:ms,toastMessage:er,type:hn}),s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-black text-white px-4 py-1 flex items-center justify-between text-xs",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{className:"font-semibold",children:"9:41 AM"})}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(cg,{className:"w-3 h-3"}),l.jsx(hg,{className:"w-3 h-3"}),l.jsx(Zm,{className:"w-4 h-3"})]})]}),l.jsx("div",{className:`${c.isOnline?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-gray-500 to-gray-600"} text-white px-6 py-4 shadow-xl transition-all duration-500`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:l.jsx(ic,{className:"text-white w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-black tracking-tight",children:"Faded Skies"}),l.jsx("div",{className:"text-xs text-green-100 font-semibold",children:"Driver Portal"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[c.isOnline&&l.jsxs("div",{className:"flex items-center space-x-1 text-xs bg-green-700/80 backdrop-blur-sm px-3 py-1.5 rounded-full",children:[l.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),l.jsx("span",{className:"font-semibold",children:"ONLINE"})]}),l.jsx("button",{type:"button",onClick:Wa,className:`p-3 rounded-xl transition-all shadow-lg ${c.isOnline?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:c.isOnline?l.jsx(rc,{className:"w-5 h-5"}):l.jsx(ag,{className:"w-5 h-5"})})]})]})}),t==="home"&&l.jsx("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-black text-green-600",children:["$",c.earnings.today.toFixed(2)]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Today"}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.earnings.totalMilesDriven," miles"]})]})}),l.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[l.jsx(Ms,{className:"w-4 h-4 text-yellow-400 fill-current"}),l.jsx("div",{className:"text-2xl font-black text-gray-900",children:c.rating})]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Rating"})]})}),l.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-black text-blue-600",children:c.totalDeliveries}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Deliveries"})]})})]}),v&&l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-6 mb-6 border border-blue-200 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-bold text-xl text-blue-900",children:"Active Delivery"}),l.jsx("button",{type:"button",onClick:()=>e("active-delivery"),className:"bg-blue-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"View Details"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold",children:v.customerName[0]})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-blue-900",children:v.customerName}),l.jsx("p",{className:"text-blue-700 text-sm",children:v.address}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("p",{className:"text-blue-600 text-xs font-semibold",children:v.status.replace("_"," ").toUpperCase()}),v.status==="in_transit"&&l.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${b?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:b?" In Zone":" En Route"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-black text-blue-900",children:["$",v.totalDriverPay.toFixed(2)]}),l.jsx("div",{className:"text-xs text-blue-600",children:"Driver Pay"})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"font-bold text-xl text-gray-900",children:["Available Orders (",g.length,")"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{type:"button",onClick:()=>{console.log(" Testing GPS location..."),navigator.geolocation.getCurrentPosition(f=>{const k={lat:f.coords.latitude,lng:f.coords.longitude};console.log(" GPS Test Location:",k),m(k),h(w=>({...w,currentLocation:k})),$(`GPS: ${k.lat.toFixed(6)}, ${k.lng.toFixed(6)}`,"success")},f=>{console.error(" GPS Test Failed:",f),$("GPS test failed - check permissions","error")},{enableHighAccuracy:!0,timeout:5e3})},className:"text-green-600 hover:text-green-700 font-semibold text-sm flex items-center space-x-1",title:"Test GPS Location",children:[l.jsx(sc,{className:"w-4 h-4"}),l.jsx("span",{children:"Test GPS"})]}),l.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm",children:l.jsx(ng,{className:"w-4 h-4"})})]})]}),c.isOnline?g.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(ec,{className:"w-12 h-12 text-blue-400"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Waiting for Orders..."}),l.jsx("p",{className:"text-gray-600",children:"New deliveries will appear here automatically"})]}):l.jsx("div",{className:"space-y-4",children:g.map(f=>l.jsx(Oy,{order:f,onAccept:Ji,onDecline:hf,onViewDetails:k=>{j(k),e("active-delivery")},onUpdateStatus:ff},f.id))}):l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner",children:l.jsx(rc,{className:"w-16 h-16 text-gray-400"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"You're Offline"}),l.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Go online to start receiving delivery requests"}),l.jsx("button",{type:"button",onClick:Wa,className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-10 py-5 rounded-2xl font-bold text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:" Go Online"})]})]})]})}),t==="active-delivery"&&v&&l.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-b-3xl shadow-xl",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Active Delivery"}),l.jsxs("p",{className:"text-blue-100 text-lg",children:[v.id,"  $",v.totalDriverPay.toFixed(2)," earnings"]})]}),l.jsxs("div",{className:"p-6",children:[v.status==="in_transit"&&l.jsx("div",{className:`rounded-3xl p-4 mb-6 border-2 ${b?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${b?"bg-green-500 animate-pulse":"bg-amber-500"}`}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`font-bold ${b?"text-green-800":"text-amber-800"}`,children:b?" Within Delivery Zone":" Approaching Customer"}),l.jsx("p",{className:`text-sm ${b?"text-green-700":"text-amber-700"}`,children:N?`${Math.round(N)}m from customer location`:"Calculating distance..."}),!b&&l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Get within 100m to enable delivery completion"})]}),l.jsx(sc,{className:`w-6 h-6 ${b?"text-green-600":"text-amber-600"}`})]})}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900",children:"Delivery Progress"}),l.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-bold ${v.status==="accepted"?"bg-blue-100 text-blue-800":v.status==="picked_up"?"bg-amber-100 text-amber-800":v.status==="in_transit"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.status.replace("_"," ").toUpperCase()})]}),l.jsx("div",{className:"space-y-4",children:[{status:"accepted",label:"Order Accepted",icon:""},{status:"picked_up",label:"Order Picked Up",icon:""},{status:"in_transit",label:"En Route to Customer",icon:""},{status:"delivered",label:"Delivered",icon:""}].map((f,k)=>{const w=["accepted","picked_up","in_transit","delivered"].indexOf(v.status)>=k,_=["accepted","picked_up","in_transit","delivered"][k]===v.status;return l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold ${w?"bg-green-500 text-white":_?"bg-blue-500 text-white animate-pulse":"bg-gray-200 text-gray-500"}`,children:f.icon}),l.jsx("div",{className:"flex-1",children:l.jsx("h4",{className:`font-bold ${w||_?"text-gray-900":"text-gray-500"}`,children:f.label})})]},f.status)})}),l.jsxs("div",{className:"mt-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-6 border-2 border-blue-200",children:[l.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-4 text-center",children:" DELIVERY ACTIONS"}),(v.status==="accepted"||v.status==="ready")&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-blue-700 font-medium mb-4",children:v.status==="ready"?"Order is ready for pickup! Head to the store to collect the order.":"Ready to pick up the order from the store?"}),l.jsxs("button",{type:"button",onClick:()=>Yi("picked_up"),className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-5 rounded-2xl font-bold text-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[l.jsx(Ol,{className:"w-7 h-7"}),l.jsx("span",{children:"PICK UP ORDER"})]})]}),v.status==="picked_up"&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-blue-700 font-medium mb-4",children:"Order picked up! Ready to start delivery to customer?"}),l.jsxs("button",{type:"button",onClick:()=>{Yi("in_transit"),yt()},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-5 rounded-2xl font-bold text-xl hover:from-purple-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center space-x-3",children:[l.jsx(Tl,{className:"w-7 h-7"}),l.jsx("span",{children:"START DELIVERY"})]})]}),v.status==="in_transit"&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-blue-700 font-medium mb-4",children:b?"You're within delivery range! Ready to complete delivery?":"Get within 100m of the customer to enable delivery completion"}),l.jsxs("button",{type:"button",onClick:()=>Yi("delivered"),disabled:!b,className:`w-full py-5 rounded-2xl font-bold text-xl transition-all shadow-lg flex items-center justify-center space-x-3 ${b?"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:b?"Mark order as delivered":"You must be within 100 meters of the customer location to mark as delivered",children:[l.jsx(pr,{className:"w-7 h-7"}),l.jsx("span",{children:b?"COMPLETE DELIVERY":"NOT WITHIN DELIVERY ZONE"})]}),!b&&l.jsxs("p",{className:"text-xs text-amber-600 mt-3 font-semibold",children:["Current distance: ",N?`${Math.round(N)}m`:"Calculating..."]})]}),v.status==="delivered"&&l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(pr,{className:"w-10 h-10 text-green-600"})}),l.jsx("h4",{className:"font-bold text-green-800 text-xl mb-2",children:"DELIVERY COMPLETED!"}),l.jsx("p",{className:"text-green-600 text-sm",children:"Order has been successfully delivered"})]}),!["accepted","ready","picked_up","in_transit","delivered"].includes(v.status)&&l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-blue-700 font-medium mb-4",children:"Waiting for order to be ready..."}),l.jsxs("div",{className:"w-full bg-gray-200 text-gray-500 py-5 rounded-2xl font-bold text-xl flex items-center justify-center space-x-3",children:[l.jsx(ec,{className:"w-7 h-7"}),l.jsxs("span",{children:["ORDER STATUS: ",v.status.toUpperCase()]})]})]})]})]}),v.status==="in_transit"&&p&&l.jsxs("div",{className:"bg-gray-50 rounded-3xl p-4 mb-4 border border-gray-200",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:" Location Debug"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Driver:"}),l.jsxs("p",{className:"font-mono text-gray-800",children:[p.lat.toFixed(6),", ",p.lng.toFixed(6)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Customer:"}),l.jsxs("p",{className:"font-mono text-gray-800",children:[v.lat.toFixed(6),", ",v.lng.toFixed(6)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Distance:"}),l.jsx("p",{className:"font-semibold text-gray-800",children:N?`${Math.round(N)}m`:"Calculating..."})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-600",children:"Radius:"}),l.jsxs("p",{className:"font-semibold text-gray-800",children:[B,"m"]})]})]}),l.jsx("button",{type:"button",onClick:()=>{const f={lat:v.lat+1e-4,lng:v.lng+1e-4};kr(f,10)},className:"mt-2 w-full bg-blue-100 text-blue-700 py-2 px-3 rounded-xl text-xs font-semibold hover:bg-blue-200 transition-colors",children:" Test: Simulate Near Customer"})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100 mb-6",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Customer Information"}),l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-xl",children:v.customerName[0]})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-lg text-gray-900",children:v.customerName}),l.jsx("p",{className:"text-gray-600",children:v.customerPhone})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Pl,{className:"w-5 h-5 text-gray-400 mt-1"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-900",children:v.address}),l.jsxs("p",{className:"text-sm text-gray-600",children:[v.distance,"mi  ~",v.estimatedTime,"min"]})]})]}),v.specialInstructions&&l.jsx("div",{className:"bg-blue-50 rounded-xl p-3",children:l.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[" ",v.specialInstructions]})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[l.jsxs("button",{type:"button",onClick:()=>window.open(`tel:${v.customerPhone}`),className:"bg-green-600 text-white py-3 rounded-2xl font-bold hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(lg,{className:"w-5 h-5"}),l.jsx("span",{children:"Call"})]}),l.jsxs("button",{type:"button",onClick:()=>alert("Message sent to customer"),className:"bg-blue-600 text-white py-3 rounded-2xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(tc,{className:"w-5 h-5"}),l.jsx("span",{children:"Message"})]}),l.jsxs("button",{type:"button",onClick:()=>{const f=`https://www.google.com/maps/dir/?api=1&destination=${v.lat},${v.lng}&travelmode=driving`;window.open(f,"_blank")},className:"bg-purple-600 text-white py-3 rounded-2xl font-bold hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(Tl,{className:"w-5 h-5"}),l.jsx("span",{children:"Navigate"})]})]})]})]})]}),t==="earnings"&&l.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-b-3xl shadow-xl",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Earnings"}),l.jsx("p",{className:"text-green-100 text-lg",children:"Track your income and manage payouts"})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl p-6 border border-green-100",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Available Balance"}),l.jsxs("div",{className:"text-4xl font-black text-green-600",children:["$",c.earnings.pending.toFixed(2)]}),l.jsx("p",{className:"text-green-700 text-sm mt-2",children:"Ready for withdrawal"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["$",c.earnings.today.toFixed(2)]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Today"})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["$",c.earnings.week.toFixed(2)]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"This Week"})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsxs("div",{className:"text-2xl font-black text-gray-900",children:["$",c.earnings.month.toFixed(2)]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"This Month"})]})]}),c.earnings.pending>0&&l.jsxs("button",{type:"button",onClick:()=>ee("withdrawEarnings"),className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-xl font-bold hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl",children:[" Withdraw $",c.earnings.pending.toFixed(2)]})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Today's Breakdown"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Ls,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:"Base Pay"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Delivery fees"})]})]}),l.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["$",c.earnings.todayBase.toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:l.jsx(Zu,{className:"w-5 h-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:"Mileage"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[c.earnings.totalMilesDriven," miles driven"]})]})]}),l.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["$",c.earnings.todayMileage.toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(Ms,{className:"w-5 h-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-900",children:"Tips"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Customer tips"})]})]}),l.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["$",c.earnings.todayTips.toFixed(2)]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Total Today"}),l.jsxs("span",{className:"font-black text-2xl text-green-600",children:["$",c.earnings.today.toFixed(2)]})]})})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Payout Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Payment Method"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.payoutSettings.primaryAccount})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Payout Schedule"}),l.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:c.payoutSettings.method==="three_day"?"3-Day Transfer":c.payoutSettings.method==="daily"?"Daily Transfer":"Instant Transfer"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Instant Transfer Fee"}),l.jsxs("span",{className:"font-semibold text-gray-900",children:["$",c.payoutSettings.instantFee.toFixed(2)]})]})]}),l.jsx("button",{type:"button",onClick:()=>ee("payoutSettings"),className:"w-full mt-4 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors",children:" Manage Payout Settings"})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Withdrawal Options"}),l.jsx("div",{className:"space-y-3",children:[{title:"Instant Transfer",subtitle:`Available now  $${c.payoutSettings.instantFee.toFixed(2)} fee`,icon:"",color:"from-yellow-400 to-orange-500"},{title:"Same Day Transfer",subtitle:"Available by end of day  No fee",icon:"",color:"from-blue-400 to-indigo-500"},{title:"Standard Transfer",subtitle:"2-3 business days  No fee",icon:"",color:"from-green-400 to-emerald-500"}].map((f,k)=>l.jsx("button",{type:"button",onClick:()=>alert(`${f.title} selected`),className:`w-full bg-gradient-to-r ${f.color} text-white p-4 rounded-2xl text-left hover:scale-105 transition-all shadow-lg hover:shadow-xl`,children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:"text-2xl",children:f.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-lg",children:f.title}),l.jsx("div",{className:"text-sm opacity-90",children:f.subtitle})]}),l.jsx("span",{className:"text-white/70",children:""})]})},k))})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Weekly Performance"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 text-center border border-blue-100",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("div",{className:"text-2xl font-black text-blue-600",children:Math.round(c.earnings.week/7)}),l.jsx("div",{className:"text-sm font-semibold text-blue-800",children:"Avg Daily"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-2xl p-4 text-center border border-purple-100",children:[l.jsx("div",{className:"text-2xl mb-2",children:""}),l.jsx("div",{className:"text-2xl font-black text-purple-600",children:Math.round(c.totalDeliveries/7)}),l.jsx("div",{className:"text-sm font-semibold text-purple-800",children:"Deliveries/Day"})]})]})]})]})]}),t==="profile"&&l.jsxs("div",{className:"pb-24 bg-gradient-to-br from-gray-50 to-white min-h-screen",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-6 rounded-b-3xl shadow-xl",children:l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center",children:l.jsx(oc,{className:"w-10 h-10 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:c.name}),l.jsx("p",{className:"text-blue-100 text-lg font-medium",children:c.email}),l.jsxs("div",{className:"flex items-center space-x-1 text-sm bg-blue-700/80 backdrop-blur-sm px-3 py-1 rounded-full mt-2",children:[l.jsx(Ms,{className:"w-4 h-4 text-yellow-300"}),l.jsxs("span",{className:"font-semibold",children:[c.rating,"  ",c.totalDeliveries," deliveries"]})]})]})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-3xl p-6 border border-blue-100",children:[l.jsx("h3",{className:"font-bold text-xl text-blue-900 mb-4",children:"Driver Performance"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[l.jsx(Ms,{className:"w-4 h-4 text-yellow-400 fill-current"}),l.jsx("div",{className:"text-2xl font-black text-gray-900",children:c.rating})]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Rating"})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsx("div",{className:"text-2xl font-black text-blue-600",children:c.totalDeliveries}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Deliveries"})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsx("div",{className:"text-2xl font-black text-green-600",children:"99%"}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"On Time"})]})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsxs("div",{className:"text-xl font-black text-purple-600",children:["$",(c.earnings.month/c.totalDeliveries*30).toFixed(2)]}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Avg per Delivery"})]}),l.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm",children:[l.jsx("div",{className:"text-xl font-black text-orange-600",children:Math.round(c.earnings.totalMilesDriven/c.totalDeliveries*100)}),l.jsx("div",{className:"text-xs text-gray-600 font-semibold",children:"Miles per Order"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Personal Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Full Name"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.name})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Email"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.email})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Phone"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.phone})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Driver ID"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.id})]})]}),l.jsxs("button",{type:"button",onClick:()=>ee("editProfile"),className:"w-full mt-6 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(nc,{className:"w-5 h-5"}),l.jsx("span",{children:"Edit Information"})]})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Vehicle Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Make & Model"}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[c.vehicle.year," ",c.vehicle.make," ",c.vehicle.model]})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Color"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.vehicle.color})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"License Plate"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.vehicle.licensePlate})]})]}),l.jsxs("button",{type:"button",onClick:()=>ee("editVehicle"),className:"w-full mt-6 bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(Zu,{className:"w-5 h-5"}),l.jsx("span",{children:"Update Vehicle"})]})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"App Settings"}),l.jsx("div",{className:"space-y-4",children:[{key:"pushNotifications",label:"Push Notifications",icon:Lh},{key:"locationServices",label:"Location Services",icon:Pl},{key:"autoAcceptOrders",label:"Auto-Accept Orders",icon:dg},{key:"nightMode",label:"Night Mode",icon:nc}].map(f=>l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(f.icon,{className:"w-5 h-5 text-gray-500"}),l.jsx("span",{className:"font-medium text-gray-700",children:f.label})]}),l.jsx("button",{onClick:()=>pn(f.key),className:`w-12 h-6 rounded-full relative transition-colors ${F[f.key]?"bg-blue-600":"bg-gray-300"}`,children:l.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${F[f.key]?"translate-x-7":"translate-x-1"}`})})]},f.key))})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Work Schedule"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Status"}),l.jsx("span",{className:`font-semibold ${c.isOnline?"text-green-600":"text-gray-600"}`,children:c.isOnline?" Online":" Offline"})]}),l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Schedule Mode"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.schedule.isScheduled?"Scheduled":"On-Demand"})]}),c.schedule.isScheduled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Start Time"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.schedule.startTime})]}),l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"End Time"}),l.jsx("span",{className:"font-semibold text-gray-900",children:c.schedule.endTime})]})]})]}),l.jsxs("button",{type:"button",onClick:()=>ee("manageSchedule"),className:"w-full mt-6 bg-blue-100 text-blue-700 py-3 rounded-xl font-bold hover:bg-blue-200 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(eg,{className:"w-5 h-5"}),l.jsx("span",{children:"Manage Schedule"})]})]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[l.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-4",children:"Support & Help"}),l.jsx("div",{className:"space-y-3",children:[{label:"Help Center",icon:sg,subtitle:"FAQs and guides"},{label:"Contact Support",icon:tc,subtitle:"24/7 driver support"},{label:"Report Issue",icon:El,subtitle:"Technical problems"},{label:"Driver Resources",icon:Xm,subtitle:"Tips and training"}].map((f,k)=>l.jsxs("button",{type:"button",onClick:()=>alert(`${f.label} would be implemented here`),className:"w-full flex items-center space-x-4 p-4 rounded-xl hover:bg-gray-50 transition-colors text-left",children:[l.jsx(f.icon,{className:"w-6 h-6 text-gray-500"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-bold text-gray-900",children:f.label}),l.jsx("div",{className:"text-sm text-gray-600",children:f.subtitle})]}),l.jsx(tg,{className:"w-5 h-5 text-gray-400"})]},k))})]}),l.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{type:"button",onClick:()=>alert("Account settings would be managed here"),className:"w-full bg-gray-100 text-gray-700 py-4 rounded-xl font-bold hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(So,{className:"w-5 h-5"}),l.jsx("span",{children:"Account Settings"})]}),l.jsxs("button",{type:"button",onClick:mf,className:"w-full bg-red-500 text-white py-4 rounded-xl font-bold hover:bg-red-600 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(og,{className:"w-5 h-5"}),l.jsx("span",{children:"Sign Out"})]})]})})]})]}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 p-4 flex justify-around shadow-xl",children:[{id:"home",icon:ig,label:"Home"},{id:"active-delivery",icon:ug,label:"Delivery",disabled:!v},{id:"earnings",icon:Ls,label:"Earnings"},{id:"profile",icon:oc,label:"Profile"}].map(f=>l.jsxs("button",{type:"button",onClick:()=>!f.disabled&&e(f.id),disabled:f.disabled,className:`flex flex-col items-center p-3 rounded-xl transition-all ${t===f.id?"bg-blue-100 text-blue-700":f.disabled?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(f.icon,{className:"w-6 h-6 mb-1"}),l.jsx("span",{className:"text-xs font-semibold",children:f.label}),f.id==="active-delivery"&&v&&l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]},f.id))})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl p-8 w-full max-w-md shadow-2xl border border-white/20",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:l.jsx(ic,{className:"text-white w-10 h-10"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r==="login"?"Driver Portal":r==="signup"?"Join Our Fleet":"Reset Password"}),l.jsx("p",{className:"text-gray-600 font-medium",children:r==="login"?"Sign in to start driving":r==="signup"?"Become a Faded Skies driver":"Enter your email to reset password"})]}),l.jsxs("div",{className:"space-y-5",children:[r==="signup"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Full Name"}),l.jsx("input",{type:"text",value:u.name,onChange:f=>d(k=>({...k,name:f.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your full name",autoComplete:"name"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Phone Number"}),l.jsx("input",{type:"tel",value:u.phone,onChange:f=>d(k=>({...k,phone:f.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"(555) 123-4567",autoComplete:"tel"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Driver's License Number"}),l.jsx("input",{type:"text",value:u.licenseNumber,onChange:f=>d(k=>({...k,licenseNumber:f.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"License number"})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Email Address"}),l.jsx("input",{type:"email",value:u.email,onChange:f=>d(k=>({...k,email:f.target.value})),className:"w-full px-4 py-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your email",autoComplete:"email"})]}),r!=="forgot"&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:o?"text":"password",value:u.password,onChange:f=>d(k=>({...k,password:f.target.value})),className:"w-full px-4 py-4 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-gray-50 focus:bg-white text-gray-900 font-medium",placeholder:"Enter your password",autoComplete:r==="login"?"current-password":"new-password"}),l.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:o?l.jsx(rg,{className:"w-5 h-5"}):l.jsx(Or,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"button",onClick:pf,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl",children:r==="login"?"Sign In":r==="signup"?"Apply to Drive":"Send Reset Link"}),l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{type:"button",onClick:()=>n(r==="login"?"signup":"login"),className:"text-blue-600 hover:text-blue-700 font-semibold text-sm transition-colors",children:r==="login"?"Need to sign up? Create account":"Already have an account? Sign in"})})]})]})}),s&&l.jsxs(l.Fragment,{children:[l.jsx(gf,{}),l.jsx(yf,{}),l.jsx(vf,{}),l.jsx(xf,{}),l.jsx(wf,{}),l.jsx(bf,{})]})]})};$o.createRoot(document.getElementById("root")).render(l.jsx(Gl.StrictMode,{children:l.jsx(Ay,{})}));
//# sourceMappingURL=index-W5ptZaTC.js.map
